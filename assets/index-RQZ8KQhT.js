(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();var b1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function If(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Am={exports:{}},Tu={},Om={exports:{}},ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var po=Symbol.for("react.element"),py=Symbol.for("react.portal"),gy=Symbol.for("react.fragment"),my=Symbol.for("react.strict_mode"),vy=Symbol.for("react.profiler"),yy=Symbol.for("react.provider"),xy=Symbol.for("react.context"),_y=Symbol.for("react.forward_ref"),Sy=Symbol.for("react.suspense"),wy=Symbol.for("react.memo"),Cy=Symbol.for("react.lazy"),I1=Symbol.iterator;function ky(t){return t===null||typeof t!="object"?null:(t=I1&&t[I1]||t["@@iterator"],typeof t=="function"?t:null)}var bm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Im=Object.assign,Dm={};function Hs(t,e,n){this.props=t,this.context=e,this.refs=Dm,this.updater=n||bm}Hs.prototype.isReactComponent={};Hs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Hs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zm(){}zm.prototype=Hs.prototype;function Df(t,e,n){this.props=t,this.context=e,this.refs=Dm,this.updater=n||bm}var zf=Df.prototype=new zm;zf.constructor=Df;Im(zf,Hs.prototype);zf.isPureReactComponent=!0;var D1=Array.isArray,Um=Object.prototype.hasOwnProperty,Uf={current:null},Gm={key:!0,ref:!0,__self:!0,__source:!0};function Bm(t,e,n){var r,l={},o=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(o=""+e.key),e)Um.call(e,r)&&!Gm.hasOwnProperty(r)&&(l[r]=e[r]);var c=arguments.length-2;if(c===1)l.children=n;else if(1<c){for(var d=Array(c),g=0;g<c;g++)d[g]=arguments[g+2];l.children=d}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)l[r]===void 0&&(l[r]=c[r]);return{$$typeof:po,type:t,key:o,ref:a,props:l,_owner:Uf.current}}function Ny(t,e){return{$$typeof:po,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Gf(t){return typeof t=="object"&&t!==null&&t.$$typeof===po}function Py(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var z1=/\/+/g;function Xd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Py(""+t.key):e.toString(36)}function za(t,e,n,r,l){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case po:case py:a=!0}}if(a)return a=t,l=l(a),t=r===""?"."+Xd(a,0):r,D1(l)?(n="",t!=null&&(n=t.replace(z1,"$&/")+"/"),za(l,e,n,"",function(g){return g})):l!=null&&(Gf(l)&&(l=Ny(l,n+(!l.key||a&&a.key===l.key?"":(""+l.key).replace(z1,"$&/")+"/")+t)),e.push(l)),1;if(a=0,r=r===""?".":r+":",D1(t))for(var c=0;c<t.length;c++){o=t[c];var d=r+Xd(o,c);a+=za(o,e,n,d,l)}else if(d=ky(t),typeof d=="function")for(t=d.call(t),c=0;!(o=t.next()).done;)o=o.value,d=r+Xd(o,c++),a+=za(o,e,n,d,l);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function ma(t,e,n){if(t==null)return t;var r=[],l=0;return za(t,r,"","",function(o){return e.call(n,o,l++)}),r}function Ey(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gt={current:null},Ua={transition:null},Ty={ReactCurrentDispatcher:Gt,ReactCurrentBatchConfig:Ua,ReactCurrentOwner:Uf};function Vm(){throw Error("act(...) is not supported in production builds of React.")}ye.Children={map:ma,forEach:function(t,e,n){ma(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ma(t,function(){e++}),e},toArray:function(t){return ma(t,function(e){return e})||[]},only:function(t){if(!Gf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ye.Component=Hs;ye.Fragment=gy;ye.Profiler=vy;ye.PureComponent=Df;ye.StrictMode=my;ye.Suspense=Sy;ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ty;ye.act=Vm;ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Im({},t.props),l=t.key,o=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,a=Uf.current),e.key!==void 0&&(l=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(d in e)Um.call(e,d)&&!Gm.hasOwnProperty(d)&&(r[d]=e[d]===void 0&&c!==void 0?c[d]:e[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){c=Array(d);for(var g=0;g<d;g++)c[g]=arguments[g+2];r.children=c}return{$$typeof:po,type:t.type,key:l,ref:o,props:r,_owner:a}};ye.createContext=function(t){return t={$$typeof:xy,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:yy,_context:t},t.Consumer=t};ye.createElement=Bm;ye.createFactory=function(t){var e=Bm.bind(null,t);return e.type=t,e};ye.createRef=function(){return{current:null}};ye.forwardRef=function(t){return{$$typeof:_y,render:t}};ye.isValidElement=Gf;ye.lazy=function(t){return{$$typeof:Cy,_payload:{_status:-1,_result:t},_init:Ey}};ye.memo=function(t,e){return{$$typeof:wy,type:t,compare:e===void 0?null:e}};ye.startTransition=function(t){var e=Ua.transition;Ua.transition={};try{t()}finally{Ua.transition=e}};ye.unstable_act=Vm;ye.useCallback=function(t,e){return Gt.current.useCallback(t,e)};ye.useContext=function(t){return Gt.current.useContext(t)};ye.useDebugValue=function(){};ye.useDeferredValue=function(t){return Gt.current.useDeferredValue(t)};ye.useEffect=function(t,e){return Gt.current.useEffect(t,e)};ye.useId=function(){return Gt.current.useId()};ye.useImperativeHandle=function(t,e,n){return Gt.current.useImperativeHandle(t,e,n)};ye.useInsertionEffect=function(t,e){return Gt.current.useInsertionEffect(t,e)};ye.useLayoutEffect=function(t,e){return Gt.current.useLayoutEffect(t,e)};ye.useMemo=function(t,e){return Gt.current.useMemo(t,e)};ye.useReducer=function(t,e,n){return Gt.current.useReducer(t,e,n)};ye.useRef=function(t){return Gt.current.useRef(t)};ye.useState=function(t){return Gt.current.useState(t)};ye.useSyncExternalStore=function(t,e,n){return Gt.current.useSyncExternalStore(t,e,n)};ye.useTransition=function(){return Gt.current.useTransition()};ye.version="18.3.1";Om.exports=ye;var te=Om.exports;const Nt=If(te);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jy=te,Ry=Symbol.for("react.element"),My=Symbol.for("react.fragment"),Fy=Object.prototype.hasOwnProperty,Ly=jy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ay={key:!0,ref:!0,__self:!0,__source:!0};function Hm(t,e,n){var r,l={},o=null,a=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Fy.call(e,r)&&!Ay.hasOwnProperty(r)&&(l[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)l[r]===void 0&&(l[r]=e[r]);return{$$typeof:Ry,type:t,key:o,ref:a,props:l,_owner:Ly.current}}Tu.Fragment=My;Tu.jsx=Hm;Tu.jsxs=Hm;Am.exports=Tu;var y=Am.exports,Lh={},Wm={exports:{}},on={},Km={exports:{}},$m={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,J){var Q=V.length;V.push(J);e:for(;0<Q;){var q=Q-1>>>1,se=V[q];if(0<l(se,J))V[q]=J,V[Q]=se,Q=q;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var J=V[0],Q=V.pop();if(Q!==J){V[0]=Q;e:for(var q=0,se=V.length,Pe=se>>>1;q<Pe;){var _t=2*(q+1)-1,St=V[_t],Ie=_t+1,O=V[Ie];if(0>l(St,Q))Ie<se&&0>l(O,St)?(V[q]=O,V[Ie]=Q,q=Ie):(V[q]=St,V[_t]=Q,q=_t);else if(Ie<se&&0>l(O,Q))V[q]=O,V[Ie]=Q,q=Ie;else break e}}return J}function l(V,J){var Q=V.sortIndex-J.sortIndex;return Q!==0?Q:V.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var d=[],g=[],x=1,k=null,w=3,N=!1,S=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(V){for(var J=n(g);J!==null;){if(J.callback===null)r(g);else if(J.startTime<=V)r(g),J.sortIndex=J.expirationTime,e(d,J);else break;J=n(g)}}function m(V){if(E=!1,p(V),!S)if(n(d)!==null)S=!0,ge(P);else{var J=n(g);J!==null&&Se(m,J.startTime-V)}}function P(V,J){S=!1,E&&(E=!1,_(M),M=-1),N=!0;var Q=w;try{for(p(J),k=n(d);k!==null&&(!(k.expirationTime>J)||V&&!G());){var q=k.callback;if(typeof q=="function"){k.callback=null,w=k.priorityLevel;var se=q(k.expirationTime<=J);J=t.unstable_now(),typeof se=="function"?k.callback=se:k===n(d)&&r(d),p(J)}else r(d);k=n(d)}if(k!==null)var Pe=!0;else{var _t=n(g);_t!==null&&Se(m,_t.startTime-J),Pe=!1}return Pe}finally{k=null,w=Q,N=!1}}var R=!1,F=null,M=-1,I=5,L=-1;function G(){return!(t.unstable_now()-L<I)}function U(){if(F!==null){var V=t.unstable_now();L=V;var J=!0;try{J=F(!0,V)}finally{J?H():(R=!1,F=null)}}else R=!1}var H;if(typeof C=="function")H=function(){C(U)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,$=X.port2;X.port1.onmessage=U,H=function(){$.postMessage(null)}}else H=function(){T(U,0)};function ge(V){F=V,R||(R=!0,H())}function Se(V,J){M=T(function(){V(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){S||N||(S=!0,ge(P))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return w},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(V){switch(w){case 1:case 2:case 3:var J=3;break;default:J=w}var Q=w;w=J;try{return V()}finally{w=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,J){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var Q=w;w=V;try{return J()}finally{w=Q}},t.unstable_scheduleCallback=function(V,J,Q){var q=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?q+Q:q):Q=q,V){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=Q+se,V={id:x++,callback:J,priorityLevel:V,startTime:Q,expirationTime:se,sortIndex:-1},Q>q?(V.sortIndex=Q,e(g,V),n(d)===null&&V===n(g)&&(E?(_(M),M=-1):E=!0,Se(m,Q-q))):(V.sortIndex=se,e(d,V),S||N||(S=!0,ge(P))),V},t.unstable_shouldYield=G,t.unstable_wrapCallback=function(V){var J=w;return function(){var Q=w;w=J;try{return V.apply(this,arguments)}finally{w=Q}}}})($m);Km.exports=$m;var Il=Km.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy=te,ln=Il;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ym=new Set,$l={};function Ui(t,e){As(t,e),As(t+"Capture",e)}function As(t,e){for($l[t]=e,t=0;t<e.length;t++)Ym.add(e[t])}var xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ah=Object.prototype.hasOwnProperty,by=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,U1={},G1={};function Iy(t){return Ah.call(G1,t)?!0:Ah.call(U1,t)?!1:by.test(t)?G1[t]=!0:(U1[t]=!0,!1)}function Dy(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function zy(t,e,n,r){if(e===null||typeof e>"u"||Dy(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Bt(t,e,n,r,l,o,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=l,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var Et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Et[t]=new Bt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Et[e]=new Bt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Et[t]=new Bt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Et[t]=new Bt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Et[t]=new Bt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Et[t]=new Bt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Et[t]=new Bt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Et[t]=new Bt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Et[t]=new Bt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Bf=/[\-:]([a-z])/g;function Vf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Bf,Vf);Et[e]=new Bt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Bf,Vf);Et[e]=new Bt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Bf,Vf);Et[e]=new Bt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Et[t]=new Bt(t,1,!1,t.toLowerCase(),null,!1,!1)});Et.xlinkHref=new Bt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Et[t]=new Bt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Hf(t,e,n,r){var l=Et.hasOwnProperty(e)?Et[e]:null;(l!==null?l.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(zy(e,n,l,r)&&(n=null),r||l===null?Iy(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):l.mustUseProperty?t[l.propertyName]=n===null?l.type===3?!1:"":n:(e=l.attributeName,r=l.attributeNamespace,n===null?t.removeAttribute(e):(l=l.type,n=l===3||l===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Cr=Oy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),ms=Symbol.for("react.portal"),vs=Symbol.for("react.fragment"),Wf=Symbol.for("react.strict_mode"),Oh=Symbol.for("react.profiler"),Qm=Symbol.for("react.provider"),Xm=Symbol.for("react.context"),Kf=Symbol.for("react.forward_ref"),bh=Symbol.for("react.suspense"),Ih=Symbol.for("react.suspense_list"),$f=Symbol.for("react.memo"),Vr=Symbol.for("react.lazy"),qm=Symbol.for("react.offscreen"),B1=Symbol.iterator;function Sl(t){return t===null||typeof t!="object"?null:(t=B1&&t[B1]||t["@@iterator"],typeof t=="function"?t:null)}var qe=Object.assign,qd;function Fl(t){if(qd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);qd=e&&e[1]||""}return`
`+qd+t}var Jd=!1;function Zd(t,e){if(!t||Jd)return"";Jd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(g){var r=g}Reflect.construct(t,[],e)}else{try{e.call()}catch(g){r=g}t.call(e.prototype)}else{try{throw Error()}catch(g){r=g}t()}}catch(g){if(g&&r&&typeof g.stack=="string"){for(var l=g.stack.split(`
`),o=r.stack.split(`
`),a=l.length-1,c=o.length-1;1<=a&&0<=c&&l[a]!==o[c];)c--;for(;1<=a&&0<=c;a--,c--)if(l[a]!==o[c]){if(a!==1||c!==1)do if(a--,c--,0>c||l[a]!==o[c]){var d=`
`+l[a].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=a&&0<=c);break}}}finally{Jd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Fl(t):""}function Uy(t){switch(t.tag){case 5:return Fl(t.type);case 16:return Fl("Lazy");case 13:return Fl("Suspense");case 19:return Fl("SuspenseList");case 0:case 2:case 15:return t=Zd(t.type,!1),t;case 11:return t=Zd(t.type.render,!1),t;case 1:return t=Zd(t.type,!0),t;default:return""}}function Dh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case vs:return"Fragment";case ms:return"Portal";case Oh:return"Profiler";case Wf:return"StrictMode";case bh:return"Suspense";case Ih:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Xm:return(t.displayName||"Context")+".Consumer";case Qm:return(t._context.displayName||"Context")+".Provider";case Kf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $f:return e=t.displayName||null,e!==null?e:Dh(t.type)||"Memo";case Vr:e=t._payload,t=t._init;try{return Dh(t(e))}catch{}}return null}function Gy(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dh(e);case 8:return e===Wf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ri(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Jm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function By(t){var e=Jm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var l=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return l.call(this)},set:function(a){r=""+a,o.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ya(t){t._valueTracker||(t._valueTracker=By(t))}function Zm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Jm(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Za(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function zh(t,e){var n=e.checked;return qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function V1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ri(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function e2(t,e){e=e.checked,e!=null&&Hf(t,"checked",e,!1)}function Uh(t,e){e2(t,e);var n=ri(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Gh(t,e.type,n):e.hasOwnProperty("defaultValue")&&Gh(t,e.type,ri(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function H1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Gh(t,e,n){(e!=="number"||Za(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ll=Array.isArray;function Ts(t,e,n,r){if(t=t.options,e){e={};for(var l=0;l<n.length;l++)e["$"+n[l]]=!0;for(n=0;n<t.length;n++)l=e.hasOwnProperty("$"+t[n].value),t[n].selected!==l&&(t[n].selected=l),l&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ri(n),e=null,l=0;l<t.length;l++){if(t[l].value===n){t[l].selected=!0,r&&(t[l].defaultSelected=!0);return}e!==null||t[l].disabled||(e=t[l])}e!==null&&(e.selected=!0)}}function Bh(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function W1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(K(92));if(Ll(n)){if(1<n.length)throw Error(K(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ri(n)}}function t2(t,e){var n=ri(e.value),r=ri(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function K1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function n2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vh(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?n2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xa,r2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,l){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,l)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xa=xa||document.createElement("div"),xa.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xa.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Dl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vy=["Webkit","ms","Moz","O"];Object.keys(Dl).forEach(function(t){Vy.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Dl[e]=Dl[t]})});function i2(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Dl.hasOwnProperty(t)&&Dl[t]?(""+e).trim():e+"px"}function s2(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,l=i2(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,l):t[n]=l}}var Hy=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hh(t,e){if(e){if(Hy[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function Wh(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kh=null;function Yf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $h=null,js=null,Rs=null;function $1(t){if(t=vo(t)){if(typeof $h!="function")throw Error(K(280));var e=t.stateNode;e&&(e=Lu(e),$h(t.stateNode,t.type,e))}}function l2(t){js?Rs?Rs.push(t):Rs=[t]:js=t}function o2(){if(js){var t=js,e=Rs;if(Rs=js=null,$1(t),e)for(t=0;t<e.length;t++)$1(e[t])}}function a2(t,e){return t(e)}function u2(){}var eh=!1;function c2(t,e,n){if(eh)return t(e,n);eh=!0;try{return a2(t,e,n)}finally{eh=!1,(js!==null||Rs!==null)&&(u2(),o2())}}function Ql(t,e){var n=t.stateNode;if(n===null)return null;var r=Lu(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(K(231,e,typeof n));return n}var Yh=!1;if(xr)try{var wl={};Object.defineProperty(wl,"passive",{get:function(){Yh=!0}}),window.addEventListener("test",wl,wl),window.removeEventListener("test",wl,wl)}catch{Yh=!1}function Wy(t,e,n,r,l,o,a,c,d){var g=Array.prototype.slice.call(arguments,3);try{e.apply(n,g)}catch(x){this.onError(x)}}var zl=!1,eu=null,tu=!1,Qh=null,Ky={onError:function(t){zl=!0,eu=t}};function $y(t,e,n,r,l,o,a,c,d){zl=!1,eu=null,Wy.apply(Ky,arguments)}function Yy(t,e,n,r,l,o,a,c,d){if($y.apply(this,arguments),zl){if(zl){var g=eu;zl=!1,eu=null}else throw Error(K(198));tu||(tu=!0,Qh=g)}}function Gi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function d2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Y1(t){if(Gi(t)!==t)throw Error(K(188))}function Qy(t){var e=t.alternate;if(!e){if(e=Gi(t),e===null)throw Error(K(188));return e!==t?null:t}for(var n=t,r=e;;){var l=n.return;if(l===null)break;var o=l.alternate;if(o===null){if(r=l.return,r!==null){n=r;continue}break}if(l.child===o.child){for(o=l.child;o;){if(o===n)return Y1(l),t;if(o===r)return Y1(l),e;o=o.sibling}throw Error(K(188))}if(n.return!==r.return)n=l,r=o;else{for(var a=!1,c=l.child;c;){if(c===n){a=!0,n=l,r=o;break}if(c===r){a=!0,r=l,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,r=l;break}if(c===r){a=!0,r=o,n=l;break}c=c.sibling}if(!a)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?t:e}function h2(t){return t=Qy(t),t!==null?f2(t):null}function f2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=f2(t);if(e!==null)return e;t=t.sibling}return null}var p2=ln.unstable_scheduleCallback,Q1=ln.unstable_cancelCallback,Xy=ln.unstable_shouldYield,qy=ln.unstable_requestPaint,rt=ln.unstable_now,Jy=ln.unstable_getCurrentPriorityLevel,Qf=ln.unstable_ImmediatePriority,g2=ln.unstable_UserBlockingPriority,nu=ln.unstable_NormalPriority,Zy=ln.unstable_LowPriority,m2=ln.unstable_IdlePriority,ju=null,tr=null;function e5(t){if(tr&&typeof tr.onCommitFiberRoot=="function")try{tr.onCommitFiberRoot(ju,t,void 0,(t.current.flags&128)===128)}catch{}}var In=Math.clz32?Math.clz32:r5,t5=Math.log,n5=Math.LN2;function r5(t){return t>>>=0,t===0?32:31-(t5(t)/n5|0)|0}var _a=64,Sa=4194304;function Al(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ru(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,l=t.suspendedLanes,o=t.pingedLanes,a=n&268435455;if(a!==0){var c=a&~l;c!==0?r=Al(c):(o&=a,o!==0&&(r=Al(o)))}else a=n&~l,a!==0?r=Al(a):o!==0&&(r=Al(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&l)&&(l=r&-r,o=e&-e,l>=o||l===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-In(e),l=1<<n,r|=t[n],e&=~l;return r}function i5(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s5(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,l=t.expirationTimes,o=t.pendingLanes;0<o;){var a=31-In(o),c=1<<a,d=l[a];d===-1?(!(c&n)||c&r)&&(l[a]=i5(c,e)):d<=e&&(t.expiredLanes|=c),o&=~c}}function Xh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function v2(){var t=_a;return _a<<=1,!(_a&4194240)&&(_a=64),t}function th(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function go(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-In(e),t[e]=n}function l5(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var l=31-In(n),o=1<<l;e[l]=0,r[l]=-1,t[l]=-1,n&=~o}}function Xf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-In(n),l=1<<r;l&e|t[r]&e&&(t[r]|=e),n&=~l}}var je=0;function y2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var x2,qf,_2,S2,w2,qh=!1,wa=[],Qr=null,Xr=null,qr=null,Xl=new Map,ql=new Map,Wr=[],o5="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function X1(t,e){switch(t){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":Xl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(e.pointerId)}}function Cl(t,e,n,r,l,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[l]},e!==null&&(e=vo(e),e!==null&&qf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,l!==null&&e.indexOf(l)===-1&&e.push(l),t)}function a5(t,e,n,r,l){switch(e){case"focusin":return Qr=Cl(Qr,t,e,n,r,l),!0;case"dragenter":return Xr=Cl(Xr,t,e,n,r,l),!0;case"mouseover":return qr=Cl(qr,t,e,n,r,l),!0;case"pointerover":var o=l.pointerId;return Xl.set(o,Cl(Xl.get(o)||null,t,e,n,r,l)),!0;case"gotpointercapture":return o=l.pointerId,ql.set(o,Cl(ql.get(o)||null,t,e,n,r,l)),!0}return!1}function C2(t){var e=Ri(t.target);if(e!==null){var n=Gi(e);if(n!==null){if(e=n.tag,e===13){if(e=d2(n),e!==null){t.blockedOn=e,w2(t.priority,function(){_2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ga(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Jh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Kh=r,n.target.dispatchEvent(r),Kh=null}else return e=vo(n),e!==null&&qf(e),t.blockedOn=n,!1;e.shift()}return!0}function q1(t,e,n){Ga(t)&&n.delete(e)}function u5(){qh=!1,Qr!==null&&Ga(Qr)&&(Qr=null),Xr!==null&&Ga(Xr)&&(Xr=null),qr!==null&&Ga(qr)&&(qr=null),Xl.forEach(q1),ql.forEach(q1)}function kl(t,e){t.blockedOn===e&&(t.blockedOn=null,qh||(qh=!0,ln.unstable_scheduleCallback(ln.unstable_NormalPriority,u5)))}function Jl(t){function e(l){return kl(l,t)}if(0<wa.length){kl(wa[0],t);for(var n=1;n<wa.length;n++){var r=wa[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Qr!==null&&kl(Qr,t),Xr!==null&&kl(Xr,t),qr!==null&&kl(qr,t),Xl.forEach(e),ql.forEach(e),n=0;n<Wr.length;n++)r=Wr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Wr.length&&(n=Wr[0],n.blockedOn===null);)C2(n),n.blockedOn===null&&Wr.shift()}var Ms=Cr.ReactCurrentBatchConfig,iu=!0;function c5(t,e,n,r){var l=je,o=Ms.transition;Ms.transition=null;try{je=1,Jf(t,e,n,r)}finally{je=l,Ms.transition=o}}function d5(t,e,n,r){var l=je,o=Ms.transition;Ms.transition=null;try{je=4,Jf(t,e,n,r)}finally{je=l,Ms.transition=o}}function Jf(t,e,n,r){if(iu){var l=Jh(t,e,n,r);if(l===null)dh(t,e,r,su,n),X1(t,r);else if(a5(l,t,e,n,r))r.stopPropagation();else if(X1(t,r),e&4&&-1<o5.indexOf(t)){for(;l!==null;){var o=vo(l);if(o!==null&&x2(o),o=Jh(t,e,n,r),o===null&&dh(t,e,r,su,n),o===l)break;l=o}l!==null&&r.stopPropagation()}else dh(t,e,r,null,n)}}var su=null;function Jh(t,e,n,r){if(su=null,t=Yf(r),t=Ri(t),t!==null)if(e=Gi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=d2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return su=t,null}function k2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Jy()){case Qf:return 1;case g2:return 4;case nu:case Zy:return 16;case m2:return 536870912;default:return 16}default:return 16}}var $r=null,Zf=null,Ba=null;function N2(){if(Ba)return Ba;var t,e=Zf,n=e.length,r,l="value"in $r?$r.value:$r.textContent,o=l.length;for(t=0;t<n&&e[t]===l[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===l[o-r];r++);return Ba=l.slice(t,1<r?1-r:void 0)}function Va(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ca(){return!0}function J1(){return!1}function an(t){function e(n,r,l,o,a){this._reactName=n,this._targetInst=l,this.type=r,this.nativeEvent=o,this.target=a,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ca:J1,this.isPropagationStopped=J1,this}return qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ca)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ca)},persist:function(){},isPersistent:Ca}),e}var Ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},e0=an(Ws),mo=qe({},Ws,{view:0,detail:0}),h5=an(mo),nh,rh,Nl,Ru=qe({},mo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:t0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Nl&&(Nl&&t.type==="mousemove"?(nh=t.screenX-Nl.screenX,rh=t.screenY-Nl.screenY):rh=nh=0,Nl=t),nh)},movementY:function(t){return"movementY"in t?t.movementY:rh}}),Z1=an(Ru),f5=qe({},Ru,{dataTransfer:0}),p5=an(f5),g5=qe({},mo,{relatedTarget:0}),ih=an(g5),m5=qe({},Ws,{animationName:0,elapsedTime:0,pseudoElement:0}),v5=an(m5),y5=qe({},Ws,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),x5=an(y5),_5=qe({},Ws,{data:0}),eg=an(_5),S5={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},w5={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},C5={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function k5(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=C5[t])?!!e[t]:!1}function t0(){return k5}var N5=qe({},mo,{key:function(t){if(t.key){var e=S5[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Va(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?w5[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:t0,charCode:function(t){return t.type==="keypress"?Va(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Va(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),P5=an(N5),E5=qe({},Ru,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tg=an(E5),T5=qe({},mo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:t0}),j5=an(T5),R5=qe({},Ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),M5=an(R5),F5=qe({},Ru,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),L5=an(F5),A5=[9,13,27,32],n0=xr&&"CompositionEvent"in window,Ul=null;xr&&"documentMode"in document&&(Ul=document.documentMode);var O5=xr&&"TextEvent"in window&&!Ul,P2=xr&&(!n0||Ul&&8<Ul&&11>=Ul),ng=" ",rg=!1;function E2(t,e){switch(t){case"keyup":return A5.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function T2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ys=!1;function b5(t,e){switch(t){case"compositionend":return T2(e);case"keypress":return e.which!==32?null:(rg=!0,ng);case"textInput":return t=e.data,t===ng&&rg?null:t;default:return null}}function I5(t,e){if(ys)return t==="compositionend"||!n0&&E2(t,e)?(t=N2(),Ba=Zf=$r=null,ys=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return P2&&e.locale!=="ko"?null:e.data;default:return null}}var D5={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ig(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!D5[t.type]:e==="textarea"}function j2(t,e,n,r){l2(r),e=lu(e,"onChange"),0<e.length&&(n=new e0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Gl=null,Zl=null;function z5(t){U2(t,0)}function Mu(t){var e=Ss(t);if(Zm(e))return t}function U5(t,e){if(t==="change")return e}var R2=!1;if(xr){var sh;if(xr){var lh="oninput"in document;if(!lh){var sg=document.createElement("div");sg.setAttribute("oninput","return;"),lh=typeof sg.oninput=="function"}sh=lh}else sh=!1;R2=sh&&(!document.documentMode||9<document.documentMode)}function lg(){Gl&&(Gl.detachEvent("onpropertychange",M2),Zl=Gl=null)}function M2(t){if(t.propertyName==="value"&&Mu(Zl)){var e=[];j2(e,Zl,t,Yf(t)),c2(z5,e)}}function G5(t,e,n){t==="focusin"?(lg(),Gl=e,Zl=n,Gl.attachEvent("onpropertychange",M2)):t==="focusout"&&lg()}function B5(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mu(Zl)}function V5(t,e){if(t==="click")return Mu(e)}function H5(t,e){if(t==="input"||t==="change")return Mu(e)}function W5(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Un=typeof Object.is=="function"?Object.is:W5;function eo(t,e){if(Un(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var l=n[r];if(!Ah.call(e,l)||!Un(t[l],e[l]))return!1}return!0}function og(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ag(t,e){var n=og(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=og(n)}}function F2(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?F2(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function L2(){for(var t=window,e=Za();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Za(t.document)}return e}function r0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function K5(t){var e=L2(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&F2(n.ownerDocument.documentElement,n)){if(r!==null&&r0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var l=n.textContent.length,o=Math.min(r.start,l);r=r.end===void 0?o:Math.min(r.end,l),!t.extend&&o>r&&(l=r,r=o,o=l),l=ag(n,o);var a=ag(n,r);l&&a&&(t.rangeCount!==1||t.anchorNode!==l.node||t.anchorOffset!==l.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(l.node,l.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var $5=xr&&"documentMode"in document&&11>=document.documentMode,xs=null,Zh=null,Bl=null,ef=!1;function ug(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ef||xs==null||xs!==Za(r)||(r=xs,"selectionStart"in r&&r0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Bl&&eo(Bl,r)||(Bl=r,r=lu(Zh,"onSelect"),0<r.length&&(e=new e0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=xs)))}function ka(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var _s={animationend:ka("Animation","AnimationEnd"),animationiteration:ka("Animation","AnimationIteration"),animationstart:ka("Animation","AnimationStart"),transitionend:ka("Transition","TransitionEnd")},oh={},A2={};xr&&(A2=document.createElement("div").style,"AnimationEvent"in window||(delete _s.animationend.animation,delete _s.animationiteration.animation,delete _s.animationstart.animation),"TransitionEvent"in window||delete _s.transitionend.transition);function Fu(t){if(oh[t])return oh[t];if(!_s[t])return t;var e=_s[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in A2)return oh[t]=e[n];return t}var O2=Fu("animationend"),b2=Fu("animationiteration"),I2=Fu("animationstart"),D2=Fu("transitionend"),z2=new Map,cg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function li(t,e){z2.set(t,e),Ui(e,[t])}for(var ah=0;ah<cg.length;ah++){var uh=cg[ah],Y5=uh.toLowerCase(),Q5=uh[0].toUpperCase()+uh.slice(1);li(Y5,"on"+Q5)}li(O2,"onAnimationEnd");li(b2,"onAnimationIteration");li(I2,"onAnimationStart");li("dblclick","onDoubleClick");li("focusin","onFocus");li("focusout","onBlur");li(D2,"onTransitionEnd");As("onMouseEnter",["mouseout","mouseover"]);As("onMouseLeave",["mouseout","mouseover"]);As("onPointerEnter",["pointerout","pointerover"]);As("onPointerLeave",["pointerout","pointerover"]);Ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ui("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),X5=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ol));function dg(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Yy(r,e,void 0,t),t.currentTarget=null}function U2(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],l=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var c=r[a],d=c.instance,g=c.currentTarget;if(c=c.listener,d!==o&&l.isPropagationStopped())break e;dg(l,c,g),o=d}else for(a=0;a<r.length;a++){if(c=r[a],d=c.instance,g=c.currentTarget,c=c.listener,d!==o&&l.isPropagationStopped())break e;dg(l,c,g),o=d}}}if(tu)throw t=Qh,tu=!1,Qh=null,t}function Ge(t,e){var n=e[lf];n===void 0&&(n=e[lf]=new Set);var r=t+"__bubble";n.has(r)||(G2(e,t,2,!1),n.add(r))}function ch(t,e,n){var r=0;e&&(r|=4),G2(n,t,r,e)}var Na="_reactListening"+Math.random().toString(36).slice(2);function to(t){if(!t[Na]){t[Na]=!0,Ym.forEach(function(n){n!=="selectionchange"&&(X5.has(n)||ch(n,!1,t),ch(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Na]||(e[Na]=!0,ch("selectionchange",!1,e))}}function G2(t,e,n,r){switch(k2(e)){case 1:var l=c5;break;case 4:l=d5;break;default:l=Jf}n=l.bind(null,e,n,t),l=void 0,!Yh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(l=!0),r?l!==void 0?t.addEventListener(e,n,{capture:!0,passive:l}):t.addEventListener(e,n,!0):l!==void 0?t.addEventListener(e,n,{passive:l}):t.addEventListener(e,n,!1)}function dh(t,e,n,r,l){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var c=r.stateNode.containerInfo;if(c===l||c.nodeType===8&&c.parentNode===l)break;if(a===4)for(a=r.return;a!==null;){var d=a.tag;if((d===3||d===4)&&(d=a.stateNode.containerInfo,d===l||d.nodeType===8&&d.parentNode===l))return;a=a.return}for(;c!==null;){if(a=Ri(c),a===null)return;if(d=a.tag,d===5||d===6){r=o=a;continue e}c=c.parentNode}}r=r.return}c2(function(){var g=o,x=Yf(n),k=[];e:{var w=z2.get(t);if(w!==void 0){var N=e0,S=t;switch(t){case"keypress":if(Va(n)===0)break e;case"keydown":case"keyup":N=P5;break;case"focusin":S="focus",N=ih;break;case"focusout":S="blur",N=ih;break;case"beforeblur":case"afterblur":N=ih;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=Z1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=p5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=j5;break;case O2:case b2:case I2:N=v5;break;case D2:N=M5;break;case"scroll":N=h5;break;case"wheel":N=L5;break;case"copy":case"cut":case"paste":N=x5;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=tg}var E=(e&4)!==0,T=!E&&t==="scroll",_=E?w!==null?w+"Capture":null:w;E=[];for(var C=g,p;C!==null;){p=C;var m=p.stateNode;if(p.tag===5&&m!==null&&(p=m,_!==null&&(m=Ql(C,_),m!=null&&E.push(no(C,m,p)))),T)break;C=C.return}0<E.length&&(w=new N(w,S,null,n,x),k.push({event:w,listeners:E}))}}if(!(e&7)){e:{if(w=t==="mouseover"||t==="pointerover",N=t==="mouseout"||t==="pointerout",w&&n!==Kh&&(S=n.relatedTarget||n.fromElement)&&(Ri(S)||S[_r]))break e;if((N||w)&&(w=x.window===x?x:(w=x.ownerDocument)?w.defaultView||w.parentWindow:window,N?(S=n.relatedTarget||n.toElement,N=g,S=S?Ri(S):null,S!==null&&(T=Gi(S),S!==T||S.tag!==5&&S.tag!==6)&&(S=null)):(N=null,S=g),N!==S)){if(E=Z1,m="onMouseLeave",_="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(E=tg,m="onPointerLeave",_="onPointerEnter",C="pointer"),T=N==null?w:Ss(N),p=S==null?w:Ss(S),w=new E(m,C+"leave",N,n,x),w.target=T,w.relatedTarget=p,m=null,Ri(x)===g&&(E=new E(_,C+"enter",S,n,x),E.target=p,E.relatedTarget=T,m=E),T=m,N&&S)t:{for(E=N,_=S,C=0,p=E;p;p=ds(p))C++;for(p=0,m=_;m;m=ds(m))p++;for(;0<C-p;)E=ds(E),C--;for(;0<p-C;)_=ds(_),p--;for(;C--;){if(E===_||_!==null&&E===_.alternate)break t;E=ds(E),_=ds(_)}E=null}else E=null;N!==null&&hg(k,w,N,E,!1),S!==null&&T!==null&&hg(k,T,S,E,!0)}}e:{if(w=g?Ss(g):window,N=w.nodeName&&w.nodeName.toLowerCase(),N==="select"||N==="input"&&w.type==="file")var P=U5;else if(ig(w))if(R2)P=H5;else{P=B5;var R=G5}else(N=w.nodeName)&&N.toLowerCase()==="input"&&(w.type==="checkbox"||w.type==="radio")&&(P=V5);if(P&&(P=P(t,g))){j2(k,P,n,x);break e}R&&R(t,w,g),t==="focusout"&&(R=w._wrapperState)&&R.controlled&&w.type==="number"&&Gh(w,"number",w.value)}switch(R=g?Ss(g):window,t){case"focusin":(ig(R)||R.contentEditable==="true")&&(xs=R,Zh=g,Bl=null);break;case"focusout":Bl=Zh=xs=null;break;case"mousedown":ef=!0;break;case"contextmenu":case"mouseup":case"dragend":ef=!1,ug(k,n,x);break;case"selectionchange":if($5)break;case"keydown":case"keyup":ug(k,n,x)}var F;if(n0)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else ys?E2(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(P2&&n.locale!=="ko"&&(ys||M!=="onCompositionStart"?M==="onCompositionEnd"&&ys&&(F=N2()):($r=x,Zf="value"in $r?$r.value:$r.textContent,ys=!0)),R=lu(g,M),0<R.length&&(M=new eg(M,t,null,n,x),k.push({event:M,listeners:R}),F?M.data=F:(F=T2(n),F!==null&&(M.data=F)))),(F=O5?b5(t,n):I5(t,n))&&(g=lu(g,"onBeforeInput"),0<g.length&&(x=new eg("onBeforeInput","beforeinput",null,n,x),k.push({event:x,listeners:g}),x.data=F))}U2(k,e)})}function no(t,e,n){return{instance:t,listener:e,currentTarget:n}}function lu(t,e){for(var n=e+"Capture",r=[];t!==null;){var l=t,o=l.stateNode;l.tag===5&&o!==null&&(l=o,o=Ql(t,n),o!=null&&r.unshift(no(t,o,l)),o=Ql(t,e),o!=null&&r.push(no(t,o,l))),t=t.return}return r}function ds(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function hg(t,e,n,r,l){for(var o=e._reactName,a=[];n!==null&&n!==r;){var c=n,d=c.alternate,g=c.stateNode;if(d!==null&&d===r)break;c.tag===5&&g!==null&&(c=g,l?(d=Ql(n,o),d!=null&&a.unshift(no(n,d,c))):l||(d=Ql(n,o),d!=null&&a.push(no(n,d,c)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var q5=/\r\n?/g,J5=/\u0000|\uFFFD/g;function fg(t){return(typeof t=="string"?t:""+t).replace(q5,`
`).replace(J5,"")}function Pa(t,e,n){if(e=fg(e),fg(t)!==e&&n)throw Error(K(425))}function ou(){}var tf=null,nf=null;function rf(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var sf=typeof setTimeout=="function"?setTimeout:void 0,Z5=typeof clearTimeout=="function"?clearTimeout:void 0,pg=typeof Promise=="function"?Promise:void 0,e6=typeof queueMicrotask=="function"?queueMicrotask:typeof pg<"u"?function(t){return pg.resolve(null).then(t).catch(t6)}:sf;function t6(t){setTimeout(function(){throw t})}function hh(t,e){var n=e,r=0;do{var l=n.nextSibling;if(t.removeChild(n),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(r===0){t.removeChild(l),Jl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=l}while(n);Jl(e)}function Jr(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function gg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ks=Math.random().toString(36).slice(2),Zn="__reactFiber$"+Ks,ro="__reactProps$"+Ks,_r="__reactContainer$"+Ks,lf="__reactEvents$"+Ks,n6="__reactListeners$"+Ks,r6="__reactHandles$"+Ks;function Ri(t){var e=t[Zn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_r]||n[Zn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=gg(t);t!==null;){if(n=t[Zn])return n;t=gg(t)}return e}t=n,n=t.parentNode}return null}function vo(t){return t=t[Zn]||t[_r],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ss(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function Lu(t){return t[ro]||null}var of=[],ws=-1;function oi(t){return{current:t}}function Be(t){0>ws||(t.current=of[ws],of[ws]=null,ws--)}function be(t,e){ws++,of[ws]=t.current,t.current=e}var ii={},bt=oi(ii),qt=oi(!1),Oi=ii;function Os(t,e){var n=t.type.contextTypes;if(!n)return ii;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var l={},o;for(o in n)l[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=l),l}function Jt(t){return t=t.childContextTypes,t!=null}function au(){Be(qt),Be(bt)}function mg(t,e,n){if(bt.current!==ii)throw Error(K(168));be(bt,e),be(qt,n)}function B2(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var l in r)if(!(l in e))throw Error(K(108,Gy(t)||"Unknown",l));return qe({},n,r)}function uu(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ii,Oi=bt.current,be(bt,t),be(qt,qt.current),!0}function vg(t,e,n){var r=t.stateNode;if(!r)throw Error(K(169));n?(t=B2(t,e,Oi),r.__reactInternalMemoizedMergedChildContext=t,Be(qt),Be(bt),be(bt,t)):Be(qt),be(qt,n)}var pr=null,Au=!1,fh=!1;function V2(t){pr===null?pr=[t]:pr.push(t)}function i6(t){Au=!0,V2(t)}function ai(){if(!fh&&pr!==null){fh=!0;var t=0,e=je;try{var n=pr;for(je=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}pr=null,Au=!1}catch(l){throw pr!==null&&(pr=pr.slice(t+1)),p2(Qf,ai),l}finally{je=e,fh=!1}}return null}var Cs=[],ks=0,cu=null,du=0,yn=[],xn=0,bi=null,gr=1,mr="";function Ei(t,e){Cs[ks++]=du,Cs[ks++]=cu,cu=t,du=e}function H2(t,e,n){yn[xn++]=gr,yn[xn++]=mr,yn[xn++]=bi,bi=t;var r=gr;t=mr;var l=32-In(r)-1;r&=~(1<<l),n+=1;var o=32-In(e)+l;if(30<o){var a=l-l%5;o=(r&(1<<a)-1).toString(32),r>>=a,l-=a,gr=1<<32-In(e)+l|n<<l|r,mr=o+t}else gr=1<<o|n<<l|r,mr=t}function i0(t){t.return!==null&&(Ei(t,1),H2(t,1,0))}function s0(t){for(;t===cu;)cu=Cs[--ks],Cs[ks]=null,du=Cs[--ks],Cs[ks]=null;for(;t===bi;)bi=yn[--xn],yn[xn]=null,mr=yn[--xn],yn[xn]=null,gr=yn[--xn],yn[xn]=null}var sn=null,rn=null,We=!1,bn=null;function W2(t,e){var n=_n(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function yg(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,sn=t,rn=Jr(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,sn=t,rn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=bi!==null?{id:gr,overflow:mr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=_n(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,sn=t,rn=null,!0):!1;default:return!1}}function af(t){return(t.mode&1)!==0&&(t.flags&128)===0}function uf(t){if(We){var e=rn;if(e){var n=e;if(!yg(t,e)){if(af(t))throw Error(K(418));e=Jr(n.nextSibling);var r=sn;e&&yg(t,e)?W2(r,n):(t.flags=t.flags&-4097|2,We=!1,sn=t)}}else{if(af(t))throw Error(K(418));t.flags=t.flags&-4097|2,We=!1,sn=t}}}function xg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;sn=t}function Ea(t){if(t!==sn)return!1;if(!We)return xg(t),We=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!rf(t.type,t.memoizedProps)),e&&(e=rn)){if(af(t))throw K2(),Error(K(418));for(;e;)W2(t,e),e=Jr(e.nextSibling)}if(xg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){rn=Jr(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}rn=null}}else rn=sn?Jr(t.stateNode.nextSibling):null;return!0}function K2(){for(var t=rn;t;)t=Jr(t.nextSibling)}function bs(){rn=sn=null,We=!1}function l0(t){bn===null?bn=[t]:bn.push(t)}var s6=Cr.ReactCurrentBatchConfig;function Pl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,t));var l=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(a){var c=l.refs;a===null?delete c[o]:c[o]=a},e._stringRef=o,e)}if(typeof t!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,t))}return t}function Ta(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function _g(t){var e=t._init;return e(t._payload)}function $2(t){function e(_,C){if(t){var p=_.deletions;p===null?(_.deletions=[C],_.flags|=16):p.push(C)}}function n(_,C){if(!t)return null;for(;C!==null;)e(_,C),C=C.sibling;return null}function r(_,C){for(_=new Map;C!==null;)C.key!==null?_.set(C.key,C):_.set(C.index,C),C=C.sibling;return _}function l(_,C){return _=ni(_,C),_.index=0,_.sibling=null,_}function o(_,C,p){return _.index=p,t?(p=_.alternate,p!==null?(p=p.index,p<C?(_.flags|=2,C):p):(_.flags|=2,C)):(_.flags|=1048576,C)}function a(_){return t&&_.alternate===null&&(_.flags|=2),_}function c(_,C,p,m){return C===null||C.tag!==6?(C=_h(p,_.mode,m),C.return=_,C):(C=l(C,p),C.return=_,C)}function d(_,C,p,m){var P=p.type;return P===vs?x(_,C,p.props.children,m,p.key):C!==null&&(C.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Vr&&_g(P)===C.type)?(m=l(C,p.props),m.ref=Pl(_,C,p),m.return=_,m):(m=Xa(p.type,p.key,p.props,null,_.mode,m),m.ref=Pl(_,C,p),m.return=_,m)}function g(_,C,p,m){return C===null||C.tag!==4||C.stateNode.containerInfo!==p.containerInfo||C.stateNode.implementation!==p.implementation?(C=Sh(p,_.mode,m),C.return=_,C):(C=l(C,p.children||[]),C.return=_,C)}function x(_,C,p,m,P){return C===null||C.tag!==7?(C=Ai(p,_.mode,m,P),C.return=_,C):(C=l(C,p),C.return=_,C)}function k(_,C,p){if(typeof C=="string"&&C!==""||typeof C=="number")return C=_h(""+C,_.mode,p),C.return=_,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case va:return p=Xa(C.type,C.key,C.props,null,_.mode,p),p.ref=Pl(_,null,C),p.return=_,p;case ms:return C=Sh(C,_.mode,p),C.return=_,C;case Vr:var m=C._init;return k(_,m(C._payload),p)}if(Ll(C)||Sl(C))return C=Ai(C,_.mode,p,null),C.return=_,C;Ta(_,C)}return null}function w(_,C,p,m){var P=C!==null?C.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return P!==null?null:c(_,C,""+p,m);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case va:return p.key===P?d(_,C,p,m):null;case ms:return p.key===P?g(_,C,p,m):null;case Vr:return P=p._init,w(_,C,P(p._payload),m)}if(Ll(p)||Sl(p))return P!==null?null:x(_,C,p,m,null);Ta(_,p)}return null}function N(_,C,p,m,P){if(typeof m=="string"&&m!==""||typeof m=="number")return _=_.get(p)||null,c(C,_,""+m,P);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case va:return _=_.get(m.key===null?p:m.key)||null,d(C,_,m,P);case ms:return _=_.get(m.key===null?p:m.key)||null,g(C,_,m,P);case Vr:var R=m._init;return N(_,C,p,R(m._payload),P)}if(Ll(m)||Sl(m))return _=_.get(p)||null,x(C,_,m,P,null);Ta(C,m)}return null}function S(_,C,p,m){for(var P=null,R=null,F=C,M=C=0,I=null;F!==null&&M<p.length;M++){F.index>M?(I=F,F=null):I=F.sibling;var L=w(_,F,p[M],m);if(L===null){F===null&&(F=I);break}t&&F&&L.alternate===null&&e(_,F),C=o(L,C,M),R===null?P=L:R.sibling=L,R=L,F=I}if(M===p.length)return n(_,F),We&&Ei(_,M),P;if(F===null){for(;M<p.length;M++)F=k(_,p[M],m),F!==null&&(C=o(F,C,M),R===null?P=F:R.sibling=F,R=F);return We&&Ei(_,M),P}for(F=r(_,F);M<p.length;M++)I=N(F,_,M,p[M],m),I!==null&&(t&&I.alternate!==null&&F.delete(I.key===null?M:I.key),C=o(I,C,M),R===null?P=I:R.sibling=I,R=I);return t&&F.forEach(function(G){return e(_,G)}),We&&Ei(_,M),P}function E(_,C,p,m){var P=Sl(p);if(typeof P!="function")throw Error(K(150));if(p=P.call(p),p==null)throw Error(K(151));for(var R=P=null,F=C,M=C=0,I=null,L=p.next();F!==null&&!L.done;M++,L=p.next()){F.index>M?(I=F,F=null):I=F.sibling;var G=w(_,F,L.value,m);if(G===null){F===null&&(F=I);break}t&&F&&G.alternate===null&&e(_,F),C=o(G,C,M),R===null?P=G:R.sibling=G,R=G,F=I}if(L.done)return n(_,F),We&&Ei(_,M),P;if(F===null){for(;!L.done;M++,L=p.next())L=k(_,L.value,m),L!==null&&(C=o(L,C,M),R===null?P=L:R.sibling=L,R=L);return We&&Ei(_,M),P}for(F=r(_,F);!L.done;M++,L=p.next())L=N(F,_,M,L.value,m),L!==null&&(t&&L.alternate!==null&&F.delete(L.key===null?M:L.key),C=o(L,C,M),R===null?P=L:R.sibling=L,R=L);return t&&F.forEach(function(U){return e(_,U)}),We&&Ei(_,M),P}function T(_,C,p,m){if(typeof p=="object"&&p!==null&&p.type===vs&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case va:e:{for(var P=p.key,R=C;R!==null;){if(R.key===P){if(P=p.type,P===vs){if(R.tag===7){n(_,R.sibling),C=l(R,p.props.children),C.return=_,_=C;break e}}else if(R.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Vr&&_g(P)===R.type){n(_,R.sibling),C=l(R,p.props),C.ref=Pl(_,R,p),C.return=_,_=C;break e}n(_,R);break}else e(_,R);R=R.sibling}p.type===vs?(C=Ai(p.props.children,_.mode,m,p.key),C.return=_,_=C):(m=Xa(p.type,p.key,p.props,null,_.mode,m),m.ref=Pl(_,C,p),m.return=_,_=m)}return a(_);case ms:e:{for(R=p.key;C!==null;){if(C.key===R)if(C.tag===4&&C.stateNode.containerInfo===p.containerInfo&&C.stateNode.implementation===p.implementation){n(_,C.sibling),C=l(C,p.children||[]),C.return=_,_=C;break e}else{n(_,C);break}else e(_,C);C=C.sibling}C=Sh(p,_.mode,m),C.return=_,_=C}return a(_);case Vr:return R=p._init,T(_,C,R(p._payload),m)}if(Ll(p))return S(_,C,p,m);if(Sl(p))return E(_,C,p,m);Ta(_,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,C!==null&&C.tag===6?(n(_,C.sibling),C=l(C,p),C.return=_,_=C):(n(_,C),C=_h(p,_.mode,m),C.return=_,_=C),a(_)):n(_,C)}return T}var Is=$2(!0),Y2=$2(!1),hu=oi(null),fu=null,Ns=null,o0=null;function a0(){o0=Ns=fu=null}function u0(t){var e=hu.current;Be(hu),t._currentValue=e}function cf(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Fs(t,e){fu=t,o0=Ns=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Xt=!0),t.firstContext=null)}function wn(t){var e=t._currentValue;if(o0!==t)if(t={context:t,memoizedValue:e,next:null},Ns===null){if(fu===null)throw Error(K(308));Ns=t,fu.dependencies={lanes:0,firstContext:t}}else Ns=Ns.next=t;return e}var Mi=null;function c0(t){Mi===null?Mi=[t]:Mi.push(t)}function Q2(t,e,n,r){var l=e.interleaved;return l===null?(n.next=n,c0(e)):(n.next=l.next,l.next=n),e.interleaved=n,Sr(t,r)}function Sr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Hr=!1;function d0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function X2(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zr(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var l=r.pending;return l===null?e.next=e:(e.next=l.next,l.next=e),r.pending=e,Sr(t,n)}return l=r.interleaved,l===null?(e.next=e,c0(r)):(e.next=l.next,l.next=e),r.interleaved=e,Sr(t,n)}function Ha(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xf(t,n)}}function Sg(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var l=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?l=o=a:o=o.next=a,n=n.next}while(n!==null);o===null?l=o=e:o=o.next=e}else l=o=e;n={baseState:r.baseState,firstBaseUpdate:l,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function pu(t,e,n,r){var l=t.updateQueue;Hr=!1;var o=l.firstBaseUpdate,a=l.lastBaseUpdate,c=l.shared.pending;if(c!==null){l.shared.pending=null;var d=c,g=d.next;d.next=null,a===null?o=g:a.next=g,a=d;var x=t.alternate;x!==null&&(x=x.updateQueue,c=x.lastBaseUpdate,c!==a&&(c===null?x.firstBaseUpdate=g:c.next=g,x.lastBaseUpdate=d))}if(o!==null){var k=l.baseState;a=0,x=g=d=null,c=o;do{var w=c.lane,N=c.eventTime;if((r&w)===w){x!==null&&(x=x.next={eventTime:N,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var S=t,E=c;switch(w=e,N=n,E.tag){case 1:if(S=E.payload,typeof S=="function"){k=S.call(N,k,w);break e}k=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=E.payload,w=typeof S=="function"?S.call(N,k,w):S,w==null)break e;k=qe({},k,w);break e;case 2:Hr=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,w=l.effects,w===null?l.effects=[c]:w.push(c))}else N={eventTime:N,lane:w,tag:c.tag,payload:c.payload,callback:c.callback,next:null},x===null?(g=x=N,d=k):x=x.next=N,a|=w;if(c=c.next,c===null){if(c=l.shared.pending,c===null)break;w=c,c=w.next,w.next=null,l.lastBaseUpdate=w,l.shared.pending=null}}while(!0);if(x===null&&(d=k),l.baseState=d,l.firstBaseUpdate=g,l.lastBaseUpdate=x,e=l.shared.interleaved,e!==null){l=e;do a|=l.lane,l=l.next;while(l!==e)}else o===null&&(l.shared.lanes=0);Di|=a,t.lanes=a,t.memoizedState=k}}function wg(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],l=r.callback;if(l!==null){if(r.callback=null,r=n,typeof l!="function")throw Error(K(191,l));l.call(r)}}}var yo={},nr=oi(yo),io=oi(yo),so=oi(yo);function Fi(t){if(t===yo)throw Error(K(174));return t}function h0(t,e){switch(be(so,e),be(io,t),be(nr,yo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vh(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vh(e,t)}Be(nr),be(nr,e)}function Ds(){Be(nr),Be(io),Be(so)}function q2(t){Fi(so.current);var e=Fi(nr.current),n=Vh(e,t.type);e!==n&&(be(io,t),be(nr,n))}function f0(t){io.current===t&&(Be(nr),Be(io))}var Qe=oi(0);function gu(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ph=[];function p0(){for(var t=0;t<ph.length;t++)ph[t]._workInProgressVersionPrimary=null;ph.length=0}var Wa=Cr.ReactCurrentDispatcher,gh=Cr.ReactCurrentBatchConfig,Ii=0,Xe=null,ct=null,yt=null,mu=!1,Vl=!1,lo=0,l6=0;function Lt(){throw Error(K(321))}function g0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Un(t[n],e[n]))return!1;return!0}function m0(t,e,n,r,l,o){if(Ii=o,Xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wa.current=t===null||t.memoizedState===null?c6:d6,t=n(r,l),Vl){o=0;do{if(Vl=!1,lo=0,25<=o)throw Error(K(301));o+=1,yt=ct=null,e.updateQueue=null,Wa.current=h6,t=n(r,l)}while(Vl)}if(Wa.current=vu,e=ct!==null&&ct.next!==null,Ii=0,yt=ct=Xe=null,mu=!1,e)throw Error(K(300));return t}function v0(){var t=lo!==0;return lo=0,t}function Jn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?Xe.memoizedState=yt=t:yt=yt.next=t,yt}function Cn(){if(ct===null){var t=Xe.alternate;t=t!==null?t.memoizedState:null}else t=ct.next;var e=yt===null?Xe.memoizedState:yt.next;if(e!==null)yt=e,ct=t;else{if(t===null)throw Error(K(310));ct=t,t={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},yt===null?Xe.memoizedState=yt=t:yt=yt.next=t}return yt}function oo(t,e){return typeof e=="function"?e(t):e}function mh(t){var e=Cn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=ct,l=r.baseQueue,o=n.pending;if(o!==null){if(l!==null){var a=l.next;l.next=o.next,o.next=a}r.baseQueue=l=o,n.pending=null}if(l!==null){o=l.next,r=r.baseState;var c=a=null,d=null,g=o;do{var x=g.lane;if((Ii&x)===x)d!==null&&(d=d.next={lane:0,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null}),r=g.hasEagerState?g.eagerState:t(r,g.action);else{var k={lane:x,action:g.action,hasEagerState:g.hasEagerState,eagerState:g.eagerState,next:null};d===null?(c=d=k,a=r):d=d.next=k,Xe.lanes|=x,Di|=x}g=g.next}while(g!==null&&g!==o);d===null?a=r:d.next=c,Un(r,e.memoizedState)||(Xt=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=d,n.lastRenderedState=r}if(t=n.interleaved,t!==null){l=t;do o=l.lane,Xe.lanes|=o,Di|=o,l=l.next;while(l!==t)}else l===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function vh(t){var e=Cn(),n=e.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=t;var r=n.dispatch,l=n.pending,o=e.memoizedState;if(l!==null){n.pending=null;var a=l=l.next;do o=t(o,a.action),a=a.next;while(a!==l);Un(o,e.memoizedState)||(Xt=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function J2(){}function Z2(t,e){var n=Xe,r=Cn(),l=e(),o=!Un(r.memoizedState,l);if(o&&(r.memoizedState=l,Xt=!0),r=r.queue,y0(nv.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||yt!==null&&yt.memoizedState.tag&1){if(n.flags|=2048,ao(9,tv.bind(null,n,r,l,e),void 0,null),xt===null)throw Error(K(349));Ii&30||ev(n,e,l)}return l}function ev(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function tv(t,e,n,r){e.value=n,e.getSnapshot=r,rv(e)&&iv(t)}function nv(t,e,n){return n(function(){rv(e)&&iv(t)})}function rv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Un(t,n)}catch{return!0}}function iv(t){var e=Sr(t,1);e!==null&&Dn(e,t,1,-1)}function Cg(t){var e=Jn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:oo,lastRenderedState:t},e.queue=t,t=t.dispatch=u6.bind(null,Xe,t),[e.memoizedState,t]}function ao(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xe.updateQueue,e===null?(e={lastEffect:null,stores:null},Xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function sv(){return Cn().memoizedState}function Ka(t,e,n,r){var l=Jn();Xe.flags|=t,l.memoizedState=ao(1|e,n,void 0,r===void 0?null:r)}function Ou(t,e,n,r){var l=Cn();r=r===void 0?null:r;var o=void 0;if(ct!==null){var a=ct.memoizedState;if(o=a.destroy,r!==null&&g0(r,a.deps)){l.memoizedState=ao(e,n,o,r);return}}Xe.flags|=t,l.memoizedState=ao(1|e,n,o,r)}function kg(t,e){return Ka(8390656,8,t,e)}function y0(t,e){return Ou(2048,8,t,e)}function lv(t,e){return Ou(4,2,t,e)}function ov(t,e){return Ou(4,4,t,e)}function av(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function uv(t,e,n){return n=n!=null?n.concat([t]):null,Ou(4,4,av.bind(null,e,t),n)}function x0(){}function cv(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&g0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function dv(t,e){var n=Cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&g0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function hv(t,e,n){return Ii&21?(Un(n,e)||(n=v2(),Xe.lanes|=n,Di|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Xt=!0),t.memoizedState=n)}function o6(t,e){var n=je;je=n!==0&&4>n?n:4,t(!0);var r=gh.transition;gh.transition={};try{t(!1),e()}finally{je=n,gh.transition=r}}function fv(){return Cn().memoizedState}function a6(t,e,n){var r=ti(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},pv(t))gv(e,n);else if(n=Q2(t,e,n,r),n!==null){var l=Ut();Dn(n,t,r,l),mv(n,e,r)}}function u6(t,e,n){var r=ti(t),l={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(pv(t))gv(e,l);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var a=e.lastRenderedState,c=o(a,n);if(l.hasEagerState=!0,l.eagerState=c,Un(c,a)){var d=e.interleaved;d===null?(l.next=l,c0(e)):(l.next=d.next,d.next=l),e.interleaved=l;return}}catch{}finally{}n=Q2(t,e,l,r),n!==null&&(l=Ut(),Dn(n,t,r,l),mv(n,e,r))}}function pv(t){var e=t.alternate;return t===Xe||e!==null&&e===Xe}function gv(t,e){Vl=mu=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function mv(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xf(t,n)}}var vu={readContext:wn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},c6={readContext:wn,useCallback:function(t,e){return Jn().memoizedState=[t,e===void 0?null:e],t},useContext:wn,useEffect:kg,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ka(4194308,4,av.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ka(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ka(4,2,t,e)},useMemo:function(t,e){var n=Jn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Jn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=a6.bind(null,Xe,t),[r.memoizedState,t]},useRef:function(t){var e=Jn();return t={current:t},e.memoizedState=t},useState:Cg,useDebugValue:x0,useDeferredValue:function(t){return Jn().memoizedState=t},useTransition:function(){var t=Cg(!1),e=t[0];return t=o6.bind(null,t[1]),Jn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xe,l=Jn();if(We){if(n===void 0)throw Error(K(407));n=n()}else{if(n=e(),xt===null)throw Error(K(349));Ii&30||ev(r,e,n)}l.memoizedState=n;var o={value:n,getSnapshot:e};return l.queue=o,kg(nv.bind(null,r,o,t),[t]),r.flags|=2048,ao(9,tv.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Jn(),e=xt.identifierPrefix;if(We){var n=mr,r=gr;n=(r&~(1<<32-In(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=lo++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=l6++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},d6={readContext:wn,useCallback:cv,useContext:wn,useEffect:y0,useImperativeHandle:uv,useInsertionEffect:lv,useLayoutEffect:ov,useMemo:dv,useReducer:mh,useRef:sv,useState:function(){return mh(oo)},useDebugValue:x0,useDeferredValue:function(t){var e=Cn();return hv(e,ct.memoizedState,t)},useTransition:function(){var t=mh(oo)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:J2,useSyncExternalStore:Z2,useId:fv,unstable_isNewReconciler:!1},h6={readContext:wn,useCallback:cv,useContext:wn,useEffect:y0,useImperativeHandle:uv,useInsertionEffect:lv,useLayoutEffect:ov,useMemo:dv,useReducer:vh,useRef:sv,useState:function(){return vh(oo)},useDebugValue:x0,useDeferredValue:function(t){var e=Cn();return ct===null?e.memoizedState=t:hv(e,ct.memoizedState,t)},useTransition:function(){var t=vh(oo)[0],e=Cn().memoizedState;return[t,e]},useMutableSource:J2,useSyncExternalStore:Z2,useId:fv,unstable_isNewReconciler:!1};function An(t,e){if(t&&t.defaultProps){e=qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function df(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var bu={isMounted:function(t){return(t=t._reactInternals)?Gi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ut(),l=ti(t),o=vr(r,l);o.payload=e,n!=null&&(o.callback=n),e=Zr(t,o,l),e!==null&&(Dn(e,t,l,r),Ha(e,t,l))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ut(),l=ti(t),o=vr(r,l);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Zr(t,o,l),e!==null&&(Dn(e,t,l,r),Ha(e,t,l))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ut(),r=ti(t),l=vr(n,r);l.tag=2,e!=null&&(l.callback=e),e=Zr(t,l,r),e!==null&&(Dn(e,t,r,n),Ha(e,t,r))}};function Ng(t,e,n,r,l,o,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,a):e.prototype&&e.prototype.isPureReactComponent?!eo(n,r)||!eo(l,o):!0}function vv(t,e,n){var r=!1,l=ii,o=e.contextType;return typeof o=="object"&&o!==null?o=wn(o):(l=Jt(e)?Oi:bt.current,r=e.contextTypes,o=(r=r!=null)?Os(t,l):ii),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=bu,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=l,t.__reactInternalMemoizedMaskedChildContext=o),e}function Pg(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&bu.enqueueReplaceState(e,e.state,null)}function hf(t,e,n,r){var l=t.stateNode;l.props=n,l.state=t.memoizedState,l.refs={},d0(t);var o=e.contextType;typeof o=="object"&&o!==null?l.context=wn(o):(o=Jt(e)?Oi:bt.current,l.context=Os(t,o)),l.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(df(t,e,o,n),l.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(e=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),e!==l.state&&bu.enqueueReplaceState(l,l.state,null),pu(t,n,l,r),l.state=t.memoizedState),typeof l.componentDidMount=="function"&&(t.flags|=4194308)}function zs(t,e){try{var n="",r=e;do n+=Uy(r),r=r.return;while(r);var l=n}catch(o){l=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:l,digest:null}}function yh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ff(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var f6=typeof WeakMap=="function"?WeakMap:Map;function yv(t,e,n){n=vr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){xu||(xu=!0,Cf=r),ff(t,e)},n}function xv(t,e,n){n=vr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var l=e.value;n.payload=function(){return r(l)},n.callback=function(){ff(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ff(t,e),typeof r!="function"&&(ei===null?ei=new Set([this]):ei.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Eg(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new f6;var l=new Set;r.set(e,l)}else l=r.get(e),l===void 0&&(l=new Set,r.set(e,l));l.has(n)||(l.add(n),t=E6.bind(null,t,e,n),e.then(t,t))}function Tg(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function jg(t,e,n,r,l){return t.mode&1?(t.flags|=65536,t.lanes=l,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=vr(-1,1),e.tag=2,Zr(n,e,1))),n.lanes|=1),t)}var p6=Cr.ReactCurrentOwner,Xt=!1;function zt(t,e,n,r){e.child=t===null?Y2(e,null,n,r):Is(e,t.child,n,r)}function Rg(t,e,n,r,l){n=n.render;var o=e.ref;return Fs(e,l),r=m0(t,e,n,r,o,l),n=v0(),t!==null&&!Xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~l,wr(t,e,l)):(We&&n&&i0(e),e.flags|=1,zt(t,e,r,l),e.child)}function Mg(t,e,n,r,l){if(t===null){var o=n.type;return typeof o=="function"&&!E0(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,_v(t,e,o,r,l)):(t=Xa(n.type,null,r,e,e.mode,l),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&l)){var a=o.memoizedProps;if(n=n.compare,n=n!==null?n:eo,n(a,r)&&t.ref===e.ref)return wr(t,e,l)}return e.flags|=1,t=ni(o,r),t.ref=e.ref,t.return=e,e.child=t}function _v(t,e,n,r,l){if(t!==null){var o=t.memoizedProps;if(eo(o,r)&&t.ref===e.ref)if(Xt=!1,e.pendingProps=r=o,(t.lanes&l)!==0)t.flags&131072&&(Xt=!0);else return e.lanes=t.lanes,wr(t,e,l)}return pf(t,e,n,r,l)}function Sv(t,e,n){var r=e.pendingProps,l=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},be(Es,nn),nn|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,be(Es,nn),nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,be(Es,nn),nn|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,be(Es,nn),nn|=r;return zt(t,e,l,n),e.child}function wv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function pf(t,e,n,r,l){var o=Jt(n)?Oi:bt.current;return o=Os(e,o),Fs(e,l),n=m0(t,e,n,r,o,l),r=v0(),t!==null&&!Xt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~l,wr(t,e,l)):(We&&r&&i0(e),e.flags|=1,zt(t,e,n,l),e.child)}function Fg(t,e,n,r,l){if(Jt(n)){var o=!0;uu(e)}else o=!1;if(Fs(e,l),e.stateNode===null)$a(t,e),vv(e,n,r),hf(e,n,r,l),r=!0;else if(t===null){var a=e.stateNode,c=e.memoizedProps;a.props=c;var d=a.context,g=n.contextType;typeof g=="object"&&g!==null?g=wn(g):(g=Jt(n)?Oi:bt.current,g=Os(e,g));var x=n.getDerivedStateFromProps,k=typeof x=="function"||typeof a.getSnapshotBeforeUpdate=="function";k||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==r||d!==g)&&Pg(e,a,r,g),Hr=!1;var w=e.memoizedState;a.state=w,pu(e,r,a,l),d=e.memoizedState,c!==r||w!==d||qt.current||Hr?(typeof x=="function"&&(df(e,n,x,r),d=e.memoizedState),(c=Hr||Ng(e,n,c,r,w,d,g))?(k||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=d),a.props=r,a.state=d,a.context=g,r=c):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,X2(t,e),c=e.memoizedProps,g=e.type===e.elementType?c:An(e.type,c),a.props=g,k=e.pendingProps,w=a.context,d=n.contextType,typeof d=="object"&&d!==null?d=wn(d):(d=Jt(n)?Oi:bt.current,d=Os(e,d));var N=n.getDerivedStateFromProps;(x=typeof N=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(c!==k||w!==d)&&Pg(e,a,r,d),Hr=!1,w=e.memoizedState,a.state=w,pu(e,r,a,l);var S=e.memoizedState;c!==k||w!==S||qt.current||Hr?(typeof N=="function"&&(df(e,n,N,r),S=e.memoizedState),(g=Hr||Ng(e,n,g,r,w,S,d)||!1)?(x||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,S,d),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,S,d)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=S),a.props=r,a.state=S,a.context=d,r=g):(typeof a.componentDidUpdate!="function"||c===t.memoizedProps&&w===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&w===t.memoizedState||(e.flags|=1024),r=!1)}return gf(t,e,n,r,o,l)}function gf(t,e,n,r,l,o){wv(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return l&&vg(e,n,!1),wr(t,e,o);r=e.stateNode,p6.current=e;var c=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Is(e,t.child,null,o),e.child=Is(e,null,c,o)):zt(t,e,c,o),e.memoizedState=r.state,l&&vg(e,n,!0),e.child}function Cv(t){var e=t.stateNode;e.pendingContext?mg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&mg(t,e.context,!1),h0(t,e.containerInfo)}function Lg(t,e,n,r,l){return bs(),l0(l),e.flags|=256,zt(t,e,n,r),e.child}var mf={dehydrated:null,treeContext:null,retryLane:0};function vf(t){return{baseLanes:t,cachePool:null,transitions:null}}function kv(t,e,n){var r=e.pendingProps,l=Qe.current,o=!1,a=(e.flags&128)!==0,c;if((c=a)||(c=t!==null&&t.memoizedState===null?!1:(l&2)!==0),c?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(l|=1),be(Qe,l&1),t===null)return uf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,o?(r=e.mode,o=e.child,a={mode:"hidden",children:a},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=a):o=zu(a,r,0,null),t=Ai(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=vf(n),e.memoizedState=mf,t):_0(e,a));if(l=t.memoizedState,l!==null&&(c=l.dehydrated,c!==null))return g6(t,e,a,r,c,l,n);if(o){o=r.fallback,a=e.mode,l=t.child,c=l.sibling;var d={mode:"hidden",children:r.children};return!(a&1)&&e.child!==l?(r=e.child,r.childLanes=0,r.pendingProps=d,e.deletions=null):(r=ni(l,d),r.subtreeFlags=l.subtreeFlags&14680064),c!==null?o=ni(c,o):(o=Ai(o,a,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,a=t.child.memoizedState,a=a===null?vf(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=t.childLanes&~n,e.memoizedState=mf,r}return o=t.child,t=o.sibling,r=ni(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function _0(t,e){return e=zu({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ja(t,e,n,r){return r!==null&&l0(r),Is(e,t.child,null,n),t=_0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function g6(t,e,n,r,l,o,a){if(n)return e.flags&256?(e.flags&=-257,r=yh(Error(K(422))),ja(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,l=e.mode,r=zu({mode:"visible",children:r.children},l,0,null),o=Ai(o,l,a,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&Is(e,t.child,null,a),e.child.memoizedState=vf(a),e.memoizedState=mf,o);if(!(e.mode&1))return ja(t,e,a,null);if(l.data==="$!"){if(r=l.nextSibling&&l.nextSibling.dataset,r)var c=r.dgst;return r=c,o=Error(K(419)),r=yh(o,r,void 0),ja(t,e,a,r)}if(c=(a&t.childLanes)!==0,Xt||c){if(r=xt,r!==null){switch(a&-a){case 4:l=2;break;case 16:l=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:l=32;break;case 536870912:l=268435456;break;default:l=0}l=l&(r.suspendedLanes|a)?0:l,l!==0&&l!==o.retryLane&&(o.retryLane=l,Sr(t,l),Dn(r,t,l,-1))}return P0(),r=yh(Error(K(421))),ja(t,e,a,r)}return l.data==="$?"?(e.flags|=128,e.child=t.child,e=T6.bind(null,t),l._reactRetry=e,null):(t=o.treeContext,rn=Jr(l.nextSibling),sn=e,We=!0,bn=null,t!==null&&(yn[xn++]=gr,yn[xn++]=mr,yn[xn++]=bi,gr=t.id,mr=t.overflow,bi=e),e=_0(e,r.children),e.flags|=4096,e)}function Ag(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),cf(t.return,e,n)}function xh(t,e,n,r,l){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:l}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=l)}function Nv(t,e,n){var r=e.pendingProps,l=r.revealOrder,o=r.tail;if(zt(t,e,r.children,n),r=Qe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ag(t,n,e);else if(t.tag===19)Ag(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(be(Qe,r),!(e.mode&1))e.memoizedState=null;else switch(l){case"forwards":for(n=e.child,l=null;n!==null;)t=n.alternate,t!==null&&gu(t)===null&&(l=n),n=n.sibling;n=l,n===null?(l=e.child,e.child=null):(l=n.sibling,n.sibling=null),xh(e,!1,l,n,o);break;case"backwards":for(n=null,l=e.child,e.child=null;l!==null;){if(t=l.alternate,t!==null&&gu(t)===null){e.child=l;break}t=l.sibling,l.sibling=n,n=l,l=t}xh(e,!0,n,null,o);break;case"together":xh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $a(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function wr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Di|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,n=ni(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ni(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function m6(t,e,n){switch(e.tag){case 3:Cv(e),bs();break;case 5:q2(e);break;case 1:Jt(e.type)&&uu(e);break;case 4:h0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,l=e.memoizedProps.value;be(hu,r._currentValue),r._currentValue=l;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(be(Qe,Qe.current&1),e.flags|=128,null):n&e.child.childLanes?kv(t,e,n):(be(Qe,Qe.current&1),t=wr(t,e,n),t!==null?t.sibling:null);be(Qe,Qe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Nv(t,e,n);e.flags|=128}if(l=e.memoizedState,l!==null&&(l.rendering=null,l.tail=null,l.lastEffect=null),be(Qe,Qe.current),r)break;return null;case 22:case 23:return e.lanes=0,Sv(t,e,n)}return wr(t,e,n)}var Pv,yf,Ev,Tv;Pv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};yf=function(){};Ev=function(t,e,n,r){var l=t.memoizedProps;if(l!==r){t=e.stateNode,Fi(nr.current);var o=null;switch(n){case"input":l=zh(t,l),r=zh(t,r),o=[];break;case"select":l=qe({},l,{value:void 0}),r=qe({},r,{value:void 0}),o=[];break;case"textarea":l=Bh(t,l),r=Bh(t,r),o=[];break;default:typeof l.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ou)}Hh(n,r);var a;n=null;for(g in l)if(!r.hasOwnProperty(g)&&l.hasOwnProperty(g)&&l[g]!=null)if(g==="style"){var c=l[g];for(a in c)c.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else g!=="dangerouslySetInnerHTML"&&g!=="children"&&g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&($l.hasOwnProperty(g)?o||(o=[]):(o=o||[]).push(g,null));for(g in r){var d=r[g];if(c=l!=null?l[g]:void 0,r.hasOwnProperty(g)&&d!==c&&(d!=null||c!=null))if(g==="style")if(c){for(a in c)!c.hasOwnProperty(a)||d&&d.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in d)d.hasOwnProperty(a)&&c[a]!==d[a]&&(n||(n={}),n[a]=d[a])}else n||(o||(o=[]),o.push(g,n)),n=d;else g==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,c=c?c.__html:void 0,d!=null&&c!==d&&(o=o||[]).push(g,d)):g==="children"?typeof d!="string"&&typeof d!="number"||(o=o||[]).push(g,""+d):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&($l.hasOwnProperty(g)?(d!=null&&g==="onScroll"&&Ge("scroll",t),o||c===d||(o=[])):(o=o||[]).push(g,d))}n&&(o=o||[]).push("style",n);var g=o;(e.updateQueue=g)&&(e.flags|=4)}};Tv=function(t,e,n,r){n!==r&&(e.flags|=4)};function El(t,e){if(!We)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function At(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var l=t.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags&14680064,r|=l.flags&14680064,l.return=t,l=l.sibling;else for(l=t.child;l!==null;)n|=l.lanes|l.childLanes,r|=l.subtreeFlags,r|=l.flags,l.return=t,l=l.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function v6(t,e,n){var r=e.pendingProps;switch(s0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(e),null;case 1:return Jt(e.type)&&au(),At(e),null;case 3:return r=e.stateNode,Ds(),Be(qt),Be(bt),p0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ea(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bn!==null&&(Pf(bn),bn=null))),yf(t,e),At(e),null;case 5:f0(e);var l=Fi(so.current);if(n=e.type,t!==null&&e.stateNode!=null)Ev(t,e,n,r,l),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(K(166));return At(e),null}if(t=Fi(nr.current),Ea(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Zn]=e,r[ro]=o,t=(e.mode&1)!==0,n){case"dialog":Ge("cancel",r),Ge("close",r);break;case"iframe":case"object":case"embed":Ge("load",r);break;case"video":case"audio":for(l=0;l<Ol.length;l++)Ge(Ol[l],r);break;case"source":Ge("error",r);break;case"img":case"image":case"link":Ge("error",r),Ge("load",r);break;case"details":Ge("toggle",r);break;case"input":V1(r,o),Ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ge("invalid",r);break;case"textarea":W1(r,o),Ge("invalid",r)}Hh(n,o),l=null;for(var a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="children"?typeof c=="string"?r.textContent!==c&&(o.suppressHydrationWarning!==!0&&Pa(r.textContent,c,t),l=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&Pa(r.textContent,c,t),l=["children",""+c]):$l.hasOwnProperty(a)&&c!=null&&a==="onScroll"&&Ge("scroll",r)}switch(n){case"input":ya(r),H1(r,o,!0);break;case"textarea":ya(r),K1(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=ou)}r=l,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=l.nodeType===9?l:l.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=n2(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Zn]=e,t[ro]=r,Pv(t,e,!1,!1),e.stateNode=t;e:{switch(a=Wh(n,r),n){case"dialog":Ge("cancel",t),Ge("close",t),l=r;break;case"iframe":case"object":case"embed":Ge("load",t),l=r;break;case"video":case"audio":for(l=0;l<Ol.length;l++)Ge(Ol[l],t);l=r;break;case"source":Ge("error",t),l=r;break;case"img":case"image":case"link":Ge("error",t),Ge("load",t),l=r;break;case"details":Ge("toggle",t),l=r;break;case"input":V1(t,r),l=zh(t,r),Ge("invalid",t);break;case"option":l=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},l=qe({},r,{value:void 0}),Ge("invalid",t);break;case"textarea":W1(t,r),l=Bh(t,r),Ge("invalid",t);break;default:l=r}Hh(n,l),c=l;for(o in c)if(c.hasOwnProperty(o)){var d=c[o];o==="style"?s2(t,d):o==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&r2(t,d)):o==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Yl(t,d):typeof d=="number"&&Yl(t,""+d):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&($l.hasOwnProperty(o)?d!=null&&o==="onScroll"&&Ge("scroll",t):d!=null&&Hf(t,o,d,a))}switch(n){case"input":ya(t),H1(t,r,!1);break;case"textarea":ya(t),K1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ri(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Ts(t,!!r.multiple,o,!1):r.defaultValue!=null&&Ts(t,!!r.multiple,r.defaultValue,!0);break;default:typeof l.onClick=="function"&&(t.onclick=ou)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return At(e),null;case 6:if(t&&e.stateNode!=null)Tv(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(K(166));if(n=Fi(so.current),Fi(nr.current),Ea(e)){if(r=e.stateNode,n=e.memoizedProps,r[Zn]=e,(o=r.nodeValue!==n)&&(t=sn,t!==null))switch(t.tag){case 3:Pa(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Pa(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Zn]=e,e.stateNode=r}return At(e),null;case 13:if(Be(Qe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&rn!==null&&e.mode&1&&!(e.flags&128))K2(),bs(),e.flags|=98560,o=!1;else if(o=Ea(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(K(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(K(317));o[Zn]=e}else bs(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;At(e),o=!1}else bn!==null&&(Pf(bn),bn=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Qe.current&1?dt===0&&(dt=3):P0())),e.updateQueue!==null&&(e.flags|=4),At(e),null);case 4:return Ds(),yf(t,e),t===null&&to(e.stateNode.containerInfo),At(e),null;case 10:return u0(e.type._context),At(e),null;case 17:return Jt(e.type)&&au(),At(e),null;case 19:if(Be(Qe),o=e.memoizedState,o===null)return At(e),null;if(r=(e.flags&128)!==0,a=o.rendering,a===null)if(r)El(o,!1);else{if(dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=gu(t),a!==null){for(e.flags|=128,El(o,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,a=o.alternate,a===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=a.childLanes,o.lanes=a.lanes,o.child=a.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=a.memoizedProps,o.memoizedState=a.memoizedState,o.updateQueue=a.updateQueue,o.type=a.type,t=a.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return be(Qe,Qe.current&1|2),e.child}t=t.sibling}o.tail!==null&&rt()>Us&&(e.flags|=128,r=!0,El(o,!1),e.lanes=4194304)}else{if(!r)if(t=gu(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),El(o,!0),o.tail===null&&o.tailMode==="hidden"&&!a.alternate&&!We)return At(e),null}else 2*rt()-o.renderingStartTime>Us&&n!==1073741824&&(e.flags|=128,r=!0,El(o,!1),e.lanes=4194304);o.isBackwards?(a.sibling=e.child,e.child=a):(n=o.last,n!==null?n.sibling=a:e.child=a,o.last=a)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=rt(),e.sibling=null,n=Qe.current,be(Qe,r?n&1|2:n&1),e):(At(e),null);case 22:case 23:return N0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?nn&1073741824&&(At(e),e.subtreeFlags&6&&(e.flags|=8192)):At(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function y6(t,e){switch(s0(e),e.tag){case 1:return Jt(e.type)&&au(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ds(),Be(qt),Be(bt),p0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return f0(e),null;case 13:if(Be(Qe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));bs()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Be(Qe),null;case 4:return Ds(),null;case 10:return u0(e.type._context),null;case 22:case 23:return N0(),null;case 24:return null;default:return null}}var Ra=!1,Ot=!1,x6=typeof WeakSet=="function"?WeakSet:Set,re=null;function Ps(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ze(t,e,r)}else n.current=null}function xf(t,e,n){try{n()}catch(r){Ze(t,e,r)}}var Og=!1;function _6(t,e){if(tf=iu,t=L2(),r0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var l=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var a=0,c=-1,d=-1,g=0,x=0,k=t,w=null;t:for(;;){for(var N;k!==n||l!==0&&k.nodeType!==3||(c=a+l),k!==o||r!==0&&k.nodeType!==3||(d=a+r),k.nodeType===3&&(a+=k.nodeValue.length),(N=k.firstChild)!==null;)w=k,k=N;for(;;){if(k===t)break t;if(w===n&&++g===l&&(c=a),w===o&&++x===r&&(d=a),(N=k.nextSibling)!==null)break;k=w,w=k.parentNode}k=N}n=c===-1||d===-1?null:{start:c,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(nf={focusedElem:t,selectionRange:n},iu=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var E=S.memoizedProps,T=S.memoizedState,_=e.stateNode,C=_.getSnapshotBeforeUpdate(e.elementType===e.type?E:An(e.type,E),T);_.__reactInternalSnapshotBeforeUpdate=C}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(m){Ze(e,e.return,m)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return S=Og,Og=!1,S}function Hl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var l=r=r.next;do{if((l.tag&t)===t){var o=l.destroy;l.destroy=void 0,o!==void 0&&xf(e,n,o)}l=l.next}while(l!==r)}}function Iu(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function _f(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function jv(t){var e=t.alternate;e!==null&&(t.alternate=null,jv(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Zn],delete e[ro],delete e[lf],delete e[n6],delete e[r6])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Rv(t){return t.tag===5||t.tag===3||t.tag===4}function bg(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Rv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ou));else if(r!==4&&(t=t.child,t!==null))for(Sf(t,e,n),t=t.sibling;t!==null;)Sf(t,e,n),t=t.sibling}function wf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(wf(t,e,n),t=t.sibling;t!==null;)wf(t,e,n),t=t.sibling}var kt=null,On=!1;function Ur(t,e,n){for(n=n.child;n!==null;)Mv(t,e,n),n=n.sibling}function Mv(t,e,n){if(tr&&typeof tr.onCommitFiberUnmount=="function")try{tr.onCommitFiberUnmount(ju,n)}catch{}switch(n.tag){case 5:Ot||Ps(n,e);case 6:var r=kt,l=On;kt=null,Ur(t,e,n),kt=r,On=l,kt!==null&&(On?(t=kt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):kt.removeChild(n.stateNode));break;case 18:kt!==null&&(On?(t=kt,n=n.stateNode,t.nodeType===8?hh(t.parentNode,n):t.nodeType===1&&hh(t,n),Jl(t)):hh(kt,n.stateNode));break;case 4:r=kt,l=On,kt=n.stateNode.containerInfo,On=!0,Ur(t,e,n),kt=r,On=l;break;case 0:case 11:case 14:case 15:if(!Ot&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){l=r=r.next;do{var o=l,a=o.destroy;o=o.tag,a!==void 0&&(o&2||o&4)&&xf(n,e,a),l=l.next}while(l!==r)}Ur(t,e,n);break;case 1:if(!Ot&&(Ps(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Ze(n,e,c)}Ur(t,e,n);break;case 21:Ur(t,e,n);break;case 22:n.mode&1?(Ot=(r=Ot)||n.memoizedState!==null,Ur(t,e,n),Ot=r):Ur(t,e,n);break;default:Ur(t,e,n)}}function Ig(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new x6),e.forEach(function(r){var l=j6.bind(null,t,r);n.has(r)||(n.add(r),r.then(l,l))})}}function Fn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];try{var o=t,a=e,c=a;e:for(;c!==null;){switch(c.tag){case 5:kt=c.stateNode,On=!1;break e;case 3:kt=c.stateNode.containerInfo,On=!0;break e;case 4:kt=c.stateNode.containerInfo,On=!0;break e}c=c.return}if(kt===null)throw Error(K(160));Mv(o,a,l),kt=null,On=!1;var d=l.alternate;d!==null&&(d.return=null),l.return=null}catch(g){Ze(l,e,g)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Fv(e,t),e=e.sibling}function Fv(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fn(e,t),qn(t),r&4){try{Hl(3,t,t.return),Iu(3,t)}catch(E){Ze(t,t.return,E)}try{Hl(5,t,t.return)}catch(E){Ze(t,t.return,E)}}break;case 1:Fn(e,t),qn(t),r&512&&n!==null&&Ps(n,n.return);break;case 5:if(Fn(e,t),qn(t),r&512&&n!==null&&Ps(n,n.return),t.flags&32){var l=t.stateNode;try{Yl(l,"")}catch(E){Ze(t,t.return,E)}}if(r&4&&(l=t.stateNode,l!=null)){var o=t.memoizedProps,a=n!==null?n.memoizedProps:o,c=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&e2(l,o),Wh(c,a);var g=Wh(c,o);for(a=0;a<d.length;a+=2){var x=d[a],k=d[a+1];x==="style"?s2(l,k):x==="dangerouslySetInnerHTML"?r2(l,k):x==="children"?Yl(l,k):Hf(l,x,k,g)}switch(c){case"input":Uh(l,o);break;case"textarea":t2(l,o);break;case"select":var w=l._wrapperState.wasMultiple;l._wrapperState.wasMultiple=!!o.multiple;var N=o.value;N!=null?Ts(l,!!o.multiple,N,!1):w!==!!o.multiple&&(o.defaultValue!=null?Ts(l,!!o.multiple,o.defaultValue,!0):Ts(l,!!o.multiple,o.multiple?[]:"",!1))}l[ro]=o}catch(E){Ze(t,t.return,E)}}break;case 6:if(Fn(e,t),qn(t),r&4){if(t.stateNode===null)throw Error(K(162));l=t.stateNode,o=t.memoizedProps;try{l.nodeValue=o}catch(E){Ze(t,t.return,E)}}break;case 3:if(Fn(e,t),qn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Jl(e.containerInfo)}catch(E){Ze(t,t.return,E)}break;case 4:Fn(e,t),qn(t);break;case 13:Fn(e,t),qn(t),l=t.child,l.flags&8192&&(o=l.memoizedState!==null,l.stateNode.isHidden=o,!o||l.alternate!==null&&l.alternate.memoizedState!==null||(C0=rt())),r&4&&Ig(t);break;case 22:if(x=n!==null&&n.memoizedState!==null,t.mode&1?(Ot=(g=Ot)||x,Fn(e,t),Ot=g):Fn(e,t),qn(t),r&8192){if(g=t.memoizedState!==null,(t.stateNode.isHidden=g)&&!x&&t.mode&1)for(re=t,x=t.child;x!==null;){for(k=re=x;re!==null;){switch(w=re,N=w.child,w.tag){case 0:case 11:case 14:case 15:Hl(4,w,w.return);break;case 1:Ps(w,w.return);var S=w.stateNode;if(typeof S.componentWillUnmount=="function"){r=w,n=w.return;try{e=r,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(E){Ze(r,n,E)}}break;case 5:Ps(w,w.return);break;case 22:if(w.memoizedState!==null){zg(k);continue}}N!==null?(N.return=w,re=N):zg(k)}x=x.sibling}e:for(x=null,k=t;;){if(k.tag===5){if(x===null){x=k;try{l=k.stateNode,g?(o=l.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=k.stateNode,d=k.memoizedProps.style,a=d!=null&&d.hasOwnProperty("display")?d.display:null,c.style.display=i2("display",a))}catch(E){Ze(t,t.return,E)}}}else if(k.tag===6){if(x===null)try{k.stateNode.nodeValue=g?"":k.memoizedProps}catch(E){Ze(t,t.return,E)}}else if((k.tag!==22&&k.tag!==23||k.memoizedState===null||k===t)&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===t)break e;for(;k.sibling===null;){if(k.return===null||k.return===t)break e;x===k&&(x=null),k=k.return}x===k&&(x=null),k.sibling.return=k.return,k=k.sibling}}break;case 19:Fn(e,t),qn(t),r&4&&Ig(t);break;case 21:break;default:Fn(e,t),qn(t)}}function qn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Rv(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var l=r.stateNode;r.flags&32&&(Yl(l,""),r.flags&=-33);var o=bg(t);wf(t,o,l);break;case 3:case 4:var a=r.stateNode.containerInfo,c=bg(t);Sf(t,c,a);break;default:throw Error(K(161))}}catch(d){Ze(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function S6(t,e,n){re=t,Lv(t)}function Lv(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var l=re,o=l.child;if(l.tag===22&&r){var a=l.memoizedState!==null||Ra;if(!a){var c=l.alternate,d=c!==null&&c.memoizedState!==null||Ot;c=Ra;var g=Ot;if(Ra=a,(Ot=d)&&!g)for(re=l;re!==null;)a=re,d=a.child,a.tag===22&&a.memoizedState!==null?Ug(l):d!==null?(d.return=a,re=d):Ug(l);for(;o!==null;)re=o,Lv(o),o=o.sibling;re=l,Ra=c,Ot=g}Dg(t)}else l.subtreeFlags&8772&&o!==null?(o.return=l,re=o):Dg(t)}}function Dg(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ot||Iu(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ot)if(n===null)r.componentDidMount();else{var l=e.elementType===e.type?n.memoizedProps:An(e.type,n.memoizedProps);r.componentDidUpdate(l,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&wg(e,o,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}wg(e,a,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var g=e.alternate;if(g!==null){var x=g.memoizedState;if(x!==null){var k=x.dehydrated;k!==null&&Jl(k)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Ot||e.flags&512&&_f(e)}catch(w){Ze(e,e.return,w)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function zg(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function Ug(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Iu(4,e)}catch(d){Ze(e,n,d)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var l=e.return;try{r.componentDidMount()}catch(d){Ze(e,l,d)}}var o=e.return;try{_f(e)}catch(d){Ze(e,o,d)}break;case 5:var a=e.return;try{_f(e)}catch(d){Ze(e,a,d)}}}catch(d){Ze(e,e.return,d)}if(e===t){re=null;break}var c=e.sibling;if(c!==null){c.return=e.return,re=c;break}re=e.return}}var w6=Math.ceil,yu=Cr.ReactCurrentDispatcher,S0=Cr.ReactCurrentOwner,Sn=Cr.ReactCurrentBatchConfig,we=0,xt=null,lt=null,Pt=0,nn=0,Es=oi(0),dt=0,uo=null,Di=0,Du=0,w0=0,Wl=null,Qt=null,C0=0,Us=1/0,fr=null,xu=!1,Cf=null,ei=null,Ma=!1,Yr=null,_u=0,Kl=0,kf=null,Ya=-1,Qa=0;function Ut(){return we&6?rt():Ya!==-1?Ya:Ya=rt()}function ti(t){return t.mode&1?we&2&&Pt!==0?Pt&-Pt:s6.transition!==null?(Qa===0&&(Qa=v2()),Qa):(t=je,t!==0||(t=window.event,t=t===void 0?16:k2(t.type)),t):1}function Dn(t,e,n,r){if(50<Kl)throw Kl=0,kf=null,Error(K(185));go(t,n,r),(!(we&2)||t!==xt)&&(t===xt&&(!(we&2)&&(Du|=n),dt===4&&Kr(t,Pt)),Zt(t,r),n===1&&we===0&&!(e.mode&1)&&(Us=rt()+500,Au&&ai()))}function Zt(t,e){var n=t.callbackNode;s5(t,e);var r=ru(t,t===xt?Pt:0);if(r===0)n!==null&&Q1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Q1(n),e===1)t.tag===0?i6(Gg.bind(null,t)):V2(Gg.bind(null,t)),e6(function(){!(we&6)&&ai()}),n=null;else{switch(y2(r)){case 1:n=Qf;break;case 4:n=g2;break;case 16:n=nu;break;case 536870912:n=m2;break;default:n=nu}n=Gv(n,Av.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Av(t,e){if(Ya=-1,Qa=0,we&6)throw Error(K(327));var n=t.callbackNode;if(Ls()&&t.callbackNode!==n)return null;var r=ru(t,t===xt?Pt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Su(t,r);else{e=r;var l=we;we|=2;var o=bv();(xt!==t||Pt!==e)&&(fr=null,Us=rt()+500,Li(t,e));do try{N6();break}catch(c){Ov(t,c)}while(!0);a0(),yu.current=o,we=l,lt!==null?e=0:(xt=null,Pt=0,e=dt)}if(e!==0){if(e===2&&(l=Xh(t),l!==0&&(r=l,e=Nf(t,l))),e===1)throw n=uo,Li(t,0),Kr(t,r),Zt(t,rt()),n;if(e===6)Kr(t,r);else{if(l=t.current.alternate,!(r&30)&&!C6(l)&&(e=Su(t,r),e===2&&(o=Xh(t),o!==0&&(r=o,e=Nf(t,o))),e===1))throw n=uo,Li(t,0),Kr(t,r),Zt(t,rt()),n;switch(t.finishedWork=l,t.finishedLanes=r,e){case 0:case 1:throw Error(K(345));case 2:Ti(t,Qt,fr);break;case 3:if(Kr(t,r),(r&130023424)===r&&(e=C0+500-rt(),10<e)){if(ru(t,0)!==0)break;if(l=t.suspendedLanes,(l&r)!==r){Ut(),t.pingedLanes|=t.suspendedLanes&l;break}t.timeoutHandle=sf(Ti.bind(null,t,Qt,fr),e);break}Ti(t,Qt,fr);break;case 4:if(Kr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,l=-1;0<r;){var a=31-In(r);o=1<<a,a=e[a],a>l&&(l=a),r&=~o}if(r=l,r=rt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*w6(r/1960))-r,10<r){t.timeoutHandle=sf(Ti.bind(null,t,Qt,fr),r);break}Ti(t,Qt,fr);break;case 5:Ti(t,Qt,fr);break;default:throw Error(K(329))}}}return Zt(t,rt()),t.callbackNode===n?Av.bind(null,t):null}function Nf(t,e){var n=Wl;return t.current.memoizedState.isDehydrated&&(Li(t,e).flags|=256),t=Su(t,e),t!==2&&(e=Qt,Qt=n,e!==null&&Pf(e)),t}function Pf(t){Qt===null?Qt=t:Qt.push.apply(Qt,t)}function C6(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var l=n[r],o=l.getSnapshot;l=l.value;try{if(!Un(o(),l))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Kr(t,e){for(e&=~w0,e&=~Du,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-In(e),r=1<<n;t[n]=-1,e&=~r}}function Gg(t){if(we&6)throw Error(K(327));Ls();var e=ru(t,0);if(!(e&1))return Zt(t,rt()),null;var n=Su(t,e);if(t.tag!==0&&n===2){var r=Xh(t);r!==0&&(e=r,n=Nf(t,r))}if(n===1)throw n=uo,Li(t,0),Kr(t,e),Zt(t,rt()),n;if(n===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ti(t,Qt,fr),Zt(t,rt()),null}function k0(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&(Us=rt()+500,Au&&ai())}}function zi(t){Yr!==null&&Yr.tag===0&&!(we&6)&&Ls();var e=we;we|=1;var n=Sn.transition,r=je;try{if(Sn.transition=null,je=1,t)return t()}finally{je=r,Sn.transition=n,we=e,!(we&6)&&ai()}}function N0(){nn=Es.current,Be(Es)}function Li(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Z5(n)),lt!==null)for(n=lt.return;n!==null;){var r=n;switch(s0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&au();break;case 3:Ds(),Be(qt),Be(bt),p0();break;case 5:f0(r);break;case 4:Ds();break;case 13:Be(Qe);break;case 19:Be(Qe);break;case 10:u0(r.type._context);break;case 22:case 23:N0()}n=n.return}if(xt=t,lt=t=ni(t.current,null),Pt=nn=e,dt=0,uo=null,w0=Du=Di=0,Qt=Wl=null,Mi!==null){for(e=0;e<Mi.length;e++)if(n=Mi[e],r=n.interleaved,r!==null){n.interleaved=null;var l=r.next,o=n.pending;if(o!==null){var a=o.next;o.next=l,r.next=a}n.pending=r}Mi=null}return t}function Ov(t,e){do{var n=lt;try{if(a0(),Wa.current=vu,mu){for(var r=Xe.memoizedState;r!==null;){var l=r.queue;l!==null&&(l.pending=null),r=r.next}mu=!1}if(Ii=0,yt=ct=Xe=null,Vl=!1,lo=0,S0.current=null,n===null||n.return===null){dt=1,uo=e,lt=null;break}e:{var o=t,a=n.return,c=n,d=e;if(e=Pt,c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var g=d,x=c,k=x.tag;if(!(x.mode&1)&&(k===0||k===11||k===15)){var w=x.alternate;w?(x.updateQueue=w.updateQueue,x.memoizedState=w.memoizedState,x.lanes=w.lanes):(x.updateQueue=null,x.memoizedState=null)}var N=Tg(a);if(N!==null){N.flags&=-257,jg(N,a,c,o,e),N.mode&1&&Eg(o,g,e),e=N,d=g;var S=e.updateQueue;if(S===null){var E=new Set;E.add(d),e.updateQueue=E}else S.add(d);break e}else{if(!(e&1)){Eg(o,g,e),P0();break e}d=Error(K(426))}}else if(We&&c.mode&1){var T=Tg(a);if(T!==null){!(T.flags&65536)&&(T.flags|=256),jg(T,a,c,o,e),l0(zs(d,c));break e}}o=d=zs(d,c),dt!==4&&(dt=2),Wl===null?Wl=[o]:Wl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var _=yv(o,d,e);Sg(o,_);break e;case 1:c=d;var C=o.type,p=o.stateNode;if(!(o.flags&128)&&(typeof C.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(ei===null||!ei.has(p)))){o.flags|=65536,e&=-e,o.lanes|=e;var m=xv(o,c,e);Sg(o,m);break e}}o=o.return}while(o!==null)}Dv(n)}catch(P){e=P,lt===n&&n!==null&&(lt=n=n.return);continue}break}while(!0)}function bv(){var t=yu.current;return yu.current=vu,t===null?vu:t}function P0(){(dt===0||dt===3||dt===2)&&(dt=4),xt===null||!(Di&268435455)&&!(Du&268435455)||Kr(xt,Pt)}function Su(t,e){var n=we;we|=2;var r=bv();(xt!==t||Pt!==e)&&(fr=null,Li(t,e));do try{k6();break}catch(l){Ov(t,l)}while(!0);if(a0(),we=n,yu.current=r,lt!==null)throw Error(K(261));return xt=null,Pt=0,dt}function k6(){for(;lt!==null;)Iv(lt)}function N6(){for(;lt!==null&&!Xy();)Iv(lt)}function Iv(t){var e=Uv(t.alternate,t,nn);t.memoizedProps=t.pendingProps,e===null?Dv(t):lt=e,S0.current=null}function Dv(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=y6(n,e),n!==null){n.flags&=32767,lt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dt=6,lt=null;return}}else if(n=v6(n,e,nn),n!==null){lt=n;return}if(e=e.sibling,e!==null){lt=e;return}lt=e=t}while(e!==null);dt===0&&(dt=5)}function Ti(t,e,n){var r=je,l=Sn.transition;try{Sn.transition=null,je=1,P6(t,e,n,r)}finally{Sn.transition=l,je=r}return null}function P6(t,e,n,r){do Ls();while(Yr!==null);if(we&6)throw Error(K(327));n=t.finishedWork;var l=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(l5(t,o),t===xt&&(lt=xt=null,Pt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ma||(Ma=!0,Gv(nu,function(){return Ls(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Sn.transition,Sn.transition=null;var a=je;je=1;var c=we;we|=4,S0.current=null,_6(t,n),Fv(n,t),K5(nf),iu=!!tf,nf=tf=null,t.current=n,S6(n),qy(),we=c,je=a,Sn.transition=o}else t.current=n;if(Ma&&(Ma=!1,Yr=t,_u=l),o=t.pendingLanes,o===0&&(ei=null),e5(n.stateNode),Zt(t,rt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)l=e[n],r(l.value,{componentStack:l.stack,digest:l.digest});if(xu)throw xu=!1,t=Cf,Cf=null,t;return _u&1&&t.tag!==0&&Ls(),o=t.pendingLanes,o&1?t===kf?Kl++:(Kl=0,kf=t):Kl=0,ai(),null}function Ls(){if(Yr!==null){var t=y2(_u),e=Sn.transition,n=je;try{if(Sn.transition=null,je=16>t?16:t,Yr===null)var r=!1;else{if(t=Yr,Yr=null,_u=0,we&6)throw Error(K(331));var l=we;for(we|=4,re=t.current;re!==null;){var o=re,a=o.child;if(re.flags&16){var c=o.deletions;if(c!==null){for(var d=0;d<c.length;d++){var g=c[d];for(re=g;re!==null;){var x=re;switch(x.tag){case 0:case 11:case 15:Hl(8,x,o)}var k=x.child;if(k!==null)k.return=x,re=k;else for(;re!==null;){x=re;var w=x.sibling,N=x.return;if(jv(x),x===g){re=null;break}if(w!==null){w.return=N,re=w;break}re=N}}}var S=o.alternate;if(S!==null){var E=S.child;if(E!==null){S.child=null;do{var T=E.sibling;E.sibling=null,E=T}while(E!==null)}}re=o}}if(o.subtreeFlags&2064&&a!==null)a.return=o,re=a;else e:for(;re!==null;){if(o=re,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Hl(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,re=_;break e}re=o.return}}var C=t.current;for(re=C;re!==null;){a=re;var p=a.child;if(a.subtreeFlags&2064&&p!==null)p.return=a,re=p;else e:for(a=C;re!==null;){if(c=re,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Iu(9,c)}}catch(P){Ze(c,c.return,P)}if(c===a){re=null;break e}var m=c.sibling;if(m!==null){m.return=c.return,re=m;break e}re=c.return}}if(we=l,ai(),tr&&typeof tr.onPostCommitFiberRoot=="function")try{tr.onPostCommitFiberRoot(ju,t)}catch{}r=!0}return r}finally{je=n,Sn.transition=e}}return!1}function Bg(t,e,n){e=zs(n,e),e=yv(t,e,1),t=Zr(t,e,1),e=Ut(),t!==null&&(go(t,1,e),Zt(t,e))}function Ze(t,e,n){if(t.tag===3)Bg(t,t,n);else for(;e!==null;){if(e.tag===3){Bg(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ei===null||!ei.has(r))){t=zs(n,t),t=xv(e,t,1),e=Zr(e,t,1),t=Ut(),e!==null&&(go(e,1,t),Zt(e,t));break}}e=e.return}}function E6(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ut(),t.pingedLanes|=t.suspendedLanes&n,xt===t&&(Pt&n)===n&&(dt===4||dt===3&&(Pt&130023424)===Pt&&500>rt()-C0?Li(t,0):w0|=n),Zt(t,e)}function zv(t,e){e===0&&(t.mode&1?(e=Sa,Sa<<=1,!(Sa&130023424)&&(Sa=4194304)):e=1);var n=Ut();t=Sr(t,e),t!==null&&(go(t,e,n),Zt(t,n))}function T6(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),zv(t,n)}function j6(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,l=t.memoizedState;l!==null&&(n=l.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(e),zv(t,n)}var Uv;Uv=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qt.current)Xt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Xt=!1,m6(t,e,n);Xt=!!(t.flags&131072)}else Xt=!1,We&&e.flags&1048576&&H2(e,du,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;$a(t,e),t=e.pendingProps;var l=Os(e,bt.current);Fs(e,n),l=m0(null,e,r,t,l,n);var o=v0();return e.flags|=1,typeof l=="object"&&l!==null&&typeof l.render=="function"&&l.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Jt(r)?(o=!0,uu(e)):o=!1,e.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,d0(e),l.updater=bu,e.stateNode=l,l._reactInternals=e,hf(e,r,t,n),e=gf(null,e,r,!0,o,n)):(e.tag=0,We&&o&&i0(e),zt(null,e,l,n),e=e.child),e;case 16:r=e.elementType;e:{switch($a(t,e),t=e.pendingProps,l=r._init,r=l(r._payload),e.type=r,l=e.tag=M6(r),t=An(r,t),l){case 0:e=pf(null,e,r,t,n);break e;case 1:e=Fg(null,e,r,t,n);break e;case 11:e=Rg(null,e,r,t,n);break e;case 14:e=Mg(null,e,r,An(r.type,t),n);break e}throw Error(K(306,r,""))}return e;case 0:return r=e.type,l=e.pendingProps,l=e.elementType===r?l:An(r,l),pf(t,e,r,l,n);case 1:return r=e.type,l=e.pendingProps,l=e.elementType===r?l:An(r,l),Fg(t,e,r,l,n);case 3:e:{if(Cv(e),t===null)throw Error(K(387));r=e.pendingProps,o=e.memoizedState,l=o.element,X2(t,e),pu(e,r,null,n);var a=e.memoizedState;if(r=a.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){l=zs(Error(K(423)),e),e=Lg(t,e,r,n,l);break e}else if(r!==l){l=zs(Error(K(424)),e),e=Lg(t,e,r,n,l);break e}else for(rn=Jr(e.stateNode.containerInfo.firstChild),sn=e,We=!0,bn=null,n=Y2(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(bs(),r===l){e=wr(t,e,n);break e}zt(t,e,r,n)}e=e.child}return e;case 5:return q2(e),t===null&&uf(e),r=e.type,l=e.pendingProps,o=t!==null?t.memoizedProps:null,a=l.children,rf(r,l)?a=null:o!==null&&rf(r,o)&&(e.flags|=32),wv(t,e),zt(t,e,a,n),e.child;case 6:return t===null&&uf(e),null;case 13:return kv(t,e,n);case 4:return h0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Is(e,null,r,n):zt(t,e,r,n),e.child;case 11:return r=e.type,l=e.pendingProps,l=e.elementType===r?l:An(r,l),Rg(t,e,r,l,n);case 7:return zt(t,e,e.pendingProps,n),e.child;case 8:return zt(t,e,e.pendingProps.children,n),e.child;case 12:return zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,l=e.pendingProps,o=e.memoizedProps,a=l.value,be(hu,r._currentValue),r._currentValue=a,o!==null)if(Un(o.value,a)){if(o.children===l.children&&!qt.current){e=wr(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){a=o.child;for(var d=c.firstContext;d!==null;){if(d.context===r){if(o.tag===1){d=vr(-1,n&-n),d.tag=2;var g=o.updateQueue;if(g!==null){g=g.shared;var x=g.pending;x===null?d.next=d:(d.next=x.next,x.next=d),g.pending=d}}o.lanes|=n,d=o.alternate,d!==null&&(d.lanes|=n),cf(o.return,n,e),c.lanes|=n;break}d=d.next}}else if(o.tag===10)a=o.type===e.type?null:o.child;else if(o.tag===18){if(a=o.return,a===null)throw Error(K(341));a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),cf(a,n,e),a=o.sibling}else a=o.child;if(a!==null)a.return=o;else for(a=o;a!==null;){if(a===e){a=null;break}if(o=a.sibling,o!==null){o.return=a.return,a=o;break}a=a.return}o=a}zt(t,e,l.children,n),e=e.child}return e;case 9:return l=e.type,r=e.pendingProps.children,Fs(e,n),l=wn(l),r=r(l),e.flags|=1,zt(t,e,r,n),e.child;case 14:return r=e.type,l=An(r,e.pendingProps),l=An(r.type,l),Mg(t,e,r,l,n);case 15:return _v(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,l=e.pendingProps,l=e.elementType===r?l:An(r,l),$a(t,e),e.tag=1,Jt(r)?(t=!0,uu(e)):t=!1,Fs(e,n),vv(e,r,l),hf(e,r,l,n),gf(null,e,r,!0,t,n);case 19:return Nv(t,e,n);case 22:return Sv(t,e,n)}throw Error(K(156,e.tag))};function Gv(t,e){return p2(t,e)}function R6(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,e,n,r){return new R6(t,e,n,r)}function E0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function M6(t){if(typeof t=="function")return E0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Kf)return 11;if(t===$f)return 14}return 2}function ni(t,e){var n=t.alternate;return n===null?(n=_n(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xa(t,e,n,r,l,o){var a=2;if(r=t,typeof t=="function")E0(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case vs:return Ai(n.children,l,o,e);case Wf:a=8,l|=8;break;case Oh:return t=_n(12,n,e,l|2),t.elementType=Oh,t.lanes=o,t;case bh:return t=_n(13,n,e,l),t.elementType=bh,t.lanes=o,t;case Ih:return t=_n(19,n,e,l),t.elementType=Ih,t.lanes=o,t;case qm:return zu(n,l,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Qm:a=10;break e;case Xm:a=9;break e;case Kf:a=11;break e;case $f:a=14;break e;case Vr:a=16,r=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=_n(a,n,e,l),e.elementType=t,e.type=r,e.lanes=o,e}function Ai(t,e,n,r){return t=_n(7,t,r,e),t.lanes=n,t}function zu(t,e,n,r){return t=_n(22,t,r,e),t.elementType=qm,t.lanes=n,t.stateNode={isHidden:!1},t}function _h(t,e,n){return t=_n(6,t,null,e),t.lanes=n,t}function Sh(t,e,n){return e=_n(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function F6(t,e,n,r,l){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=th(0),this.expirationTimes=th(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=th(0),this.identifierPrefix=r,this.onRecoverableError=l,this.mutableSourceEagerHydrationData=null}function T0(t,e,n,r,l,o,a,c,d){return t=new F6(t,e,n,c,d),e===1?(e=1,o===!0&&(e|=8)):e=0,o=_n(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},d0(o),t}function L6(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ms,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Bv(t){if(!t)return ii;t=t._reactInternals;e:{if(Gi(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Jt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var n=t.type;if(Jt(n))return B2(t,n,e)}return e}function Vv(t,e,n,r,l,o,a,c,d){return t=T0(n,r,!0,t,l,o,a,c,d),t.context=Bv(null),n=t.current,r=Ut(),l=ti(n),o=vr(r,l),o.callback=e??null,Zr(n,o,l),t.current.lanes=l,go(t,l,r),Zt(t,r),t}function Uu(t,e,n,r){var l=e.current,o=Ut(),a=ti(l);return n=Bv(n),e.context===null?e.context=n:e.pendingContext=n,e=vr(o,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Zr(l,e,a),t!==null&&(Dn(t,l,a,o),Ha(t,l,a)),a}function wu(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vg(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function j0(t,e){Vg(t,e),(t=t.alternate)&&Vg(t,e)}function A6(){return null}var Hv=typeof reportError=="function"?reportError:function(t){console.error(t)};function R0(t){this._internalRoot=t}Gu.prototype.render=R0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));Uu(t,e,null,null)};Gu.prototype.unmount=R0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;zi(function(){Uu(null,t,null,null)}),e[_r]=null}};function Gu(t){this._internalRoot=t}Gu.prototype.unstable_scheduleHydration=function(t){if(t){var e=S2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Wr.length&&e!==0&&e<Wr[n].priority;n++);Wr.splice(n,0,t),n===0&&C2(t)}};function M0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Hg(){}function O6(t,e,n,r,l){if(l){if(typeof r=="function"){var o=r;r=function(){var g=wu(a);o.call(g)}}var a=Vv(e,r,t,0,null,!1,!1,"",Hg);return t._reactRootContainer=a,t[_r]=a.current,to(t.nodeType===8?t.parentNode:t),zi(),a}for(;l=t.lastChild;)t.removeChild(l);if(typeof r=="function"){var c=r;r=function(){var g=wu(d);c.call(g)}}var d=T0(t,0,!1,null,null,!1,!1,"",Hg);return t._reactRootContainer=d,t[_r]=d.current,to(t.nodeType===8?t.parentNode:t),zi(function(){Uu(e,d,n,r)}),d}function Vu(t,e,n,r,l){var o=n._reactRootContainer;if(o){var a=o;if(typeof l=="function"){var c=l;l=function(){var d=wu(a);c.call(d)}}Uu(e,a,t,l)}else a=O6(n,e,t,l,r);return wu(a)}x2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Al(e.pendingLanes);n!==0&&(Xf(e,n|1),Zt(e,rt()),!(we&6)&&(Us=rt()+500,ai()))}break;case 13:zi(function(){var r=Sr(t,1);if(r!==null){var l=Ut();Dn(r,t,1,l)}}),j0(t,1)}};qf=function(t){if(t.tag===13){var e=Sr(t,134217728);if(e!==null){var n=Ut();Dn(e,t,134217728,n)}j0(t,134217728)}};_2=function(t){if(t.tag===13){var e=ti(t),n=Sr(t,e);if(n!==null){var r=Ut();Dn(n,t,e,r)}j0(t,e)}};S2=function(){return je};w2=function(t,e){var n=je;try{return je=t,e()}finally{je=n}};$h=function(t,e,n){switch(e){case"input":if(Uh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var l=Lu(r);if(!l)throw Error(K(90));Zm(r),Uh(r,l)}}}break;case"textarea":t2(t,n);break;case"select":e=n.value,e!=null&&Ts(t,!!n.multiple,e,!1)}};a2=k0;u2=zi;var b6={usingClientEntryPoint:!1,Events:[vo,Ss,Lu,l2,o2,k0]},Tl={findFiberByHostInstance:Ri,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},I6={bundleType:Tl.bundleType,version:Tl.version,rendererPackageName:Tl.rendererPackageName,rendererConfig:Tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Cr.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=h2(t),t===null?null:t.stateNode},findFiberByHostInstance:Tl.findFiberByHostInstance||A6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fa.isDisabled&&Fa.supportsFiber)try{ju=Fa.inject(I6),tr=Fa}catch{}}on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=b6;on.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!M0(e))throw Error(K(200));return L6(t,e,null,n)};on.createRoot=function(t,e){if(!M0(t))throw Error(K(299));var n=!1,r="",l=Hv;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(l=e.onRecoverableError)),e=T0(t,1,!1,null,null,n,!1,r,l),t[_r]=e.current,to(t.nodeType===8?t.parentNode:t),new R0(e)};on.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=h2(e),t=t===null?null:t.stateNode,t};on.flushSync=function(t){return zi(t)};on.hydrate=function(t,e,n){if(!Bu(e))throw Error(K(200));return Vu(null,t,e,!0,n)};on.hydrateRoot=function(t,e,n){if(!M0(t))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,l=!1,o="",a=Hv;if(n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Vv(e,null,t,1,n??null,l,!1,o,a),t[_r]=e.current,to(t),r)for(t=0;t<r.length;t++)n=r[t],l=n._getVersion,l=l(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,l]:e.mutableSourceEagerHydrationData.push(n,l);return new Gu(e)};on.render=function(t,e,n){if(!Bu(e))throw Error(K(200));return Vu(null,t,e,!1,n)};on.unmountComponentAtNode=function(t){if(!Bu(t))throw Error(K(40));return t._reactRootContainer?(zi(function(){Vu(null,null,t,!1,function(){t._reactRootContainer=null,t[_r]=null})}),!0):!1};on.unstable_batchedUpdates=k0;on.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Bu(n))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return Vu(t,e,n,!1,r)};on.version="18.3.1-next-f1338f8080-20240426";function Wv(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wv)}catch(t){console.error(t)}}Wv(),Wm.exports=on;var D6=Wm.exports,Wg=D6;Lh.createRoot=Wg.createRoot,Lh.hydrateRoot=Wg.hydrateRoot;const z6=()=>y.jsx("header",{className:"bg-gradient-to-r from-plant-600 to-plant-500 text-white py-8 px-6 shadow-lg",children:y.jsxs("div",{className:"max-w-7xl mx-auto",children:[y.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-2 flex items-center gap-3",children:[y.jsx("span",{className:"text-5xl",children:"🌱"}),"Knopp"]}),y.jsx("p",{className:"text-plant-100 text-lg",children:"Allt börjar med en knopp."})]})}),U6=({searchTerm:t,onSearchChange:e,showOnlyMyPlants:n,onToggleMyPlants:r,categories:l,selectedCategory:o,onCategoryChange:a,yearPlans:c,selectedYearPlan:d,onYearPlanChange:g})=>{const x=Object.keys(c||{}).map(k=>({id:k,name:k}));return y.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:y.jsxs("div",{className:"flex flex-col gap-4",children:[y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("label",{className:"text-sm font-semibold text-earth-700 whitespace-nowrap",children:"Visa växter från:"}),y.jsx("div",{className:"flex-1",children:y.jsxs("select",{value:d,onChange:k=>g(k.target.value),className:"w-full px-4 py-2 border-2 border-plant-300 rounded-lg focus:outline-none focus:border-plant-500 transition-colors bg-white cursor-pointer font-semibold text-plant-700",children:[y.jsx("option",{value:"all",children:"🌱 Alla mina sparade växter"}),x.length>0&&y.jsxs(y.Fragment,{children:[y.jsx("option",{disabled:!0,children:"──────────"}),x.map(k=>y.jsxs("option",{value:k.id,children:["📋 ",k.name]},k.id))]})]})})]}),y.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center",children:[y.jsx("div",{className:"flex-1 w-full md:w-auto",children:y.jsx("input",{type:"text",placeholder:"Sök växt...",value:t,onChange:k=>e(k.target.value),className:"w-full px-4 py-2 border-2 border-earth-200 rounded-lg focus:outline-none focus:border-plant-400 transition-colors"})}),y.jsx("div",{className:"w-full md:w-auto",children:y.jsxs("select",{value:o,onChange:k=>a(k.target.value),className:"w-full px-4 py-2 border-2 border-earth-200 rounded-lg focus:outline-none focus:border-plant-400 transition-colors bg-white cursor-pointer",children:[y.jsx("option",{value:"",children:"Alla kategorier"}),l.map(k=>y.jsx("option",{value:k,children:k},k))]})}),d==="all"&&y.jsx("button",{onClick:r,className:`px-6 py-2 rounded-lg font-semibold transition-all whitespace-nowrap ${n?"bg-plant-500 text-white shadow-lg hover:bg-plant-600":"bg-earth-200 text-earth-700 hover:bg-earth-300"}`,children:n?"✓ Mina växter":"Alla växter"})]})]})})},La=["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],G6=({plant:t,isSelected:e,onToggleSelect:n,currentMonth:r,plantedDate:l,onDateChange:o,canEditDate:a})=>{var x,k,w;const[c,d]=te.useState(!1),g=()=>{let N=null;return l&&(N=new Date(l).getMonth()+1),La.map((S,E)=>{var M,I,L;const T=E+1,_=(M=t.seedling_months)==null?void 0:M.includes(T),C=(I=t.sowing_months)==null?void 0:I.includes(T),p=(L=t.harvest_months)==null?void 0:L.includes(T),m=T===r,P=N===T;let R="relative h-12 border-r border-earth-100";m&&(R+=" bg-plant-50");const F=[];if(_&&F.push(y.jsx("div",{className:"absolute top-0 left-0 right-0 h-1/3 bg-blue-400",title:"Förkultiveras inomhus"},"seedling")),C&&F.push(y.jsx("div",{className:`absolute left-0 right-0 h-1/3 bg-green-400 ${_?"top-1/3":"top-0"}`,title:"Direktsås ute"},"sowing")),p){const G=_&&C?"top-2/3":_||C?"top-1/3":"top-0";F.push(y.jsx("div",{className:`absolute left-0 right-0 h-1/3 bg-yellow-400 ${G}`,title:"Skördas"},"harvest"))}if(P){const G=new Date(l).getDate();let U="justify-center";G<=7?U="justify-start":G<=14?U="justify-start pl-4":G<=21?U="justify-end pr-4":U="justify-end",F.push(y.jsx("div",{className:`absolute inset-0 flex items-center ${U} z-10`,title:`Planterad ${new Date(l).toLocaleDateString("sv-SE")}`,children:y.jsx("span",{className:"text-2xl drop-shadow-md",children:"📍"})},"planted"))}return y.jsx("td",{className:R,children:F},E)})};return y.jsxs(y.Fragment,{children:[y.jsxs("tr",{className:`border-b border-earth-100 hover:bg-earth-50 transition-colors cursor-pointer ${c?"bg-plant-50":""}`,onClick:()=>d(!c),children:[y.jsx("td",{className:"sticky left-0 bg-white z-10 border-r border-earth-200 shadow-sm",children:y.jsxs("div",{className:"flex items-center gap-3 p-3 min-w-[250px]",children:[y.jsx("span",{className:"text-earth-400 text-sm",children:c?"▼":"▶"}),y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:"font-medium text-earth-800",children:t.name}),y.jsx("div",{className:"text-xs text-earth-500",children:t.category})]})]})}),g()]}),c&&y.jsx("tr",{className:"bg-earth-50",children:y.jsx("td",{colSpan:13,className:"p-6",onClick:N=>N.stopPropagation(),children:y.jsxs("div",{className:"max-w-4xl",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-4",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold text-earth-800 mb-2",children:"Information"}),t.latin_name&&y.jsx("p",{className:"text-sm text-earth-600 italic mb-2",children:t.latin_name}),t.description&&y.jsx("p",{className:"text-sm text-earth-600",children:t.description})]}),y.jsxs("div",{children:[y.jsx("h3",{className:"font-semibold text-earth-800 mb-2",children:"Odlingstider"}),y.jsxs("div",{className:"space-y-2 text-sm",children:[((x=t.seedling_months)==null?void 0:x.length)>0&&y.jsxs("div",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"w-3 h-3 bg-blue-400 rounded flex-shrink-0 mt-0.5"}),y.jsxs("div",{children:[y.jsx("span",{className:"font-semibold",children:"Förkultivering:"})," ",t.seedling_months.map(N=>La[N-1]).join(", ")]})]}),((k=t.sowing_months)==null?void 0:k.length)>0&&y.jsxs("div",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"w-3 h-3 bg-green-400 rounded flex-shrink-0 mt-0.5"}),y.jsxs("div",{children:[y.jsx("span",{className:"font-semibold",children:"Direktsådd:"})," ",t.sowing_months.map(N=>La[N-1]).join(", ")]})]}),((w=t.harvest_months)==null?void 0:w.length)>0&&y.jsxs("div",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"w-3 h-3 bg-yellow-400 rounded flex-shrink-0 mt-0.5"}),y.jsxs("div",{children:[y.jsx("span",{className:"font-semibold",children:"Skörd/Blomning:"})," ",t.harvest_months.map(N=>La[N-1]).join(", ")]})]})]})]})]}),a&&y.jsxs("div",{className:"pt-4 border-t border-earth-200",children:[y.jsx("label",{className:"block text-sm font-semibold text-earth-700 mb-2",children:"📅 Planteringsdatum (frivilligt)"}),y.jsxs("div",{className:"flex items-center gap-3",children:[y.jsx("input",{type:"date",value:l||"",onChange:N=>o(t.name,N.target.value),className:"px-3 py-2 border-2 border-earth-200 rounded-lg focus:outline-none focus:border-plant-400 transition-colors"}),l&&y.jsx("button",{onClick:()=>o(t.name,""),className:"text-red-600 hover:text-red-800 text-sm font-semibold",children:"Rensa"})]}),y.jsx("p",{className:"text-xs text-earth-500 mt-1",children:"Markera när du har planterat denna växt för att hålla koll på din odling"})]}),!a&&y.jsxs("div",{className:"pt-4 border-t border-earth-200 text-sm text-earth-600",children:["💡 ",y.jsx("span",{className:"font-semibold",children:"Tips:"})," Välj en specifik årsplan ovan för att kunna markera planteringsdatum"]})]})})})]})},B6=["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],V6=({plants:t,myPlants:e,onTogglePlant:n,selectedYearPlan:r,plantDates:l,onDateChange:o})=>{const a=new Date().getMonth()+1,c=r!=="all";return y.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[y.jsx("div",{className:"bg-earth-50 p-4 border-b border-earth-200",children:y.jsxs("div",{className:"flex flex-wrap gap-6 justify-center text-sm",children:[y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"w-4 h-4 bg-blue-400 rounded"}),y.jsx("span",{className:"text-earth-700",children:"Förkultiveras inomhus"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"w-4 h-4 bg-green-400 rounded"}),y.jsx("span",{className:"text-earth-700",children:"Direktsås ute"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"w-4 h-4 bg-yellow-400 rounded"}),y.jsx("span",{className:"text-earth-700",children:"Skördas"})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("span",{className:"text-xl",children:"📍"}),y.jsx("span",{className:"text-earth-700",children:"Planterad (datum)"})]})]})}),y.jsx("div",{className:"overflow-x-auto",children:y.jsxs("table",{className:"w-full border-collapse",children:[y.jsx("thead",{children:y.jsxs("tr",{className:"bg-earth-100 border-b-2 border-earth-300",children:[y.jsx("th",{className:"sticky left-0 bg-earth-100 z-20 p-3 text-left font-semibold text-earth-800 border-r border-earth-200 shadow-sm min-w-[250px]",children:"Växt"}),B6.map((d,g)=>{const x=g+1===a;return y.jsx("th",{className:`p-3 text-center font-semibold text-earth-700 border-r border-earth-100 min-w-[60px] ${x?"bg-plant-100 text-plant-800":""}`,children:d},d)})]})}),y.jsx("tbody",{children:t.length===0?y.jsx("tr",{children:y.jsx("td",{colSpan:13,className:"p-8 text-center text-earth-500",children:"Inga växter att visa. Prova att ändra filtren."})}):t.map(d=>y.jsx(G6,{plant:d,isSelected:e.includes(d.name),onToggleSelect:n,currentMonth:a,plantedDate:(l==null?void 0:l[d.name])||"",onDateChange:o,canEditDate:c},d.name))})]})})]})},H6=["Jan","Feb","Mar","Apr","Maj","Jun","Jul","Aug","Sep","Okt","Nov","Dec"],W6=({plants:t,myPlants:e,onTogglePlant:n})=>{const r=new Date().getMonth()+1,l=t.filter(c=>e.includes(c.name));if(l.length===0)return y.jsxs("div",{className:"bg-white rounded-xl shadow-md p-8 text-center",children:[y.jsx("div",{className:"text-6xl mb-4",children:"🌱"}),y.jsx("h2",{className:"text-2xl font-bold text-earth-800 mb-2",children:"Mina växter"}),y.jsx("p",{className:"text-earth-600",children:"Klicka på kryssrutan bredvid en växt i kalendern ovan för att lägga till den här."})]});const o=c=>{var g,x,k;const d=[];return(g=c.seedling_months)!=null&&g.includes(r)&&d.push({text:"Förkultiveras",color:"bg-blue-400"}),(x=c.sowing_months)!=null&&x.includes(r)&&d.push({text:"Sådd",color:"bg-green-400"}),(k=c.harvest_months)!=null&&k.includes(r)&&d.push({text:"Redo att skörda",color:"bg-yellow-400"}),d.length===0&&d.push({text:"Vilofas",color:"bg-earth-300"}),d},a=c=>!c||c.length===0?"–":c.map(d=>H6[d-1]).join(", ");return y.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[y.jsx("div",{className:"bg-gradient-to-r from-plant-500 to-plant-400 p-6",children:y.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:[y.jsx("span",{children:"🌿"}),"Mina växter",y.jsxs("span",{className:"text-sm font-normal bg-white/20 px-3 py-1 rounded-full",children:[l.length," st"]})]})}),y.jsx("div",{className:"p-6",children:y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(c=>{var d,g,x;return y.jsxs("div",{className:"border-2 border-earth-200 rounded-xl overflow-hidden hover:shadow-lg transition-shadow",children:[y.jsx("div",{className:"h-48 overflow-hidden bg-earth-100",children:y.jsx("img",{src:c.image_url,alt:c.name,className:"w-full h-full object-cover",onError:k=>{k.target.src="https://via.placeholder.com/400x300?text=🌱"}})}),y.jsxs("div",{className:"p-4",children:[y.jsxs("div",{className:"flex items-start justify-between mb-2",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("h3",{className:"font-bold text-lg text-earth-800 mb-1",children:c.name}),y.jsx("p",{className:"text-sm text-plant-600 mb-3",children:c.category})]}),y.jsx("button",{onClick:()=>n(c.name),className:"flex-shrink-0 w-8 h-8 rounded-full bg-red-100 text-red-600 hover:bg-red-200 transition-colors flex items-center justify-center font-bold",title:"Ta bort från mina växter",children:"×"})]}),y.jsx("p",{className:"text-sm text-earth-600 mb-4",children:c.description}),y.jsxs("div",{className:"mb-3",children:[y.jsx("div",{className:"text-xs font-semibold text-earth-500 mb-2",children:"STATUS NU:"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:o(c).map((k,w)=>y.jsx("span",{className:`${k.color} text-earth-800 text-xs px-3 py-1 rounded-full font-medium`,children:k.text},w))})]}),y.jsxs("div",{className:"space-y-2 text-xs",children:[((d=c.seedling_months)==null?void 0:d.length)>0&&y.jsxs("div",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"w-3 h-3 bg-blue-400 rounded flex-shrink-0 mt-0.5"}),y.jsxs("div",{children:[y.jsx("span",{className:"font-semibold",children:"Förkultivering:"})," ",a(c.seedling_months)]})]}),((g=c.sowing_months)==null?void 0:g.length)>0&&y.jsxs("div",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"w-3 h-3 bg-green-400 rounded flex-shrink-0 mt-0.5"}),y.jsxs("div",{children:[y.jsx("span",{className:"font-semibold",children:"Direktsådd:"})," ",a(c.sowing_months)]})]}),((x=c.harvest_months)==null?void 0:x.length)>0&&y.jsxs("div",{className:"flex items-start gap-2",children:[y.jsx("span",{className:"w-3 h-3 bg-yellow-400 rounded flex-shrink-0 mt-0.5"}),y.jsxs("div",{children:[y.jsx("span",{className:"font-semibold",children:"Skörd:"})," ",a(c.harvest_months)]})]})]})]})]},c.name)})})})]})},K6=()=>{const[t,e]=te.useState([]),[n,r]=te.useState(null),[l,o]=te.useState(!1),[a,c]=te.useState(null),[d,g]=te.useState(!1),[x,k]=te.useState({name:"",description:""});te.useEffect(()=>{const p=localStorage.getItem("myGardenBeds");if(p)try{e(JSON.parse(p))}catch(m){console.error("Kunde inte ladda bäddar:",m)}g(!0)},[]),te.useEffect(()=>{d&&localStorage.setItem("myGardenBeds",JSON.stringify(t))},[t,d]);const w=()=>{c(null),k({name:"",description:""}),o(!0)},N=p=>{c(p),k({name:p.name,description:p.description||""}),o(!0)},S=()=>{if(!x.name.trim()){alert("Ange ett namn för bädden");return}if(a)e(t.map(p=>p.id===a.id?{...a,...x,updatedAt:new Date().toISOString()}:p));else{const p={id:Date.now(),...x,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};e([...t,p])}o(!1),k({name:"",description:""})},E=p=>{confirm("Är du säker på att du vill ta bort denna bädd?")&&(e(t.filter(m=>m.id!==p)),(n==null?void 0:n.id)===p&&r(null))},T=()=>{const p=JSON.stringify(t,null,2),m=new Blob([p],{type:"application/json"}),P=URL.createObjectURL(m),R=document.createElement("a");R.href=P,R.download=`odlingsbaddar-${new Date().toISOString().split("T")[0]}.json`,R.click(),URL.revokeObjectURL(P)},_=p=>{var R;const m=(R=p.target.files)==null?void 0:R[0];if(!m)return;const P=new FileReader;P.onload=F=>{try{const M=JSON.parse(F.target.result);confirm(`Vill du lägga till ${M.length} bäddar?`)&&e([...t,...M])}catch{alert("Kunde inte läsa filen")}},P.readAsText(m),p.target.value=""},C=n?t.find(p=>p.id===n):null;return y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[y.jsxs("div",{className:"mb-6",children:[y.jsxs("h1",{className:"text-4xl font-bold text-earth-800 mb-2 flex items-center gap-3",children:[y.jsx("span",{children:"🌿"}),"Mina odlingsbäddar"]}),y.jsx("p",{className:"text-earth-600",children:"Hantera dina odlingsbäddar och plantera växter i dem"})]}),y.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:y.jsxs("div",{className:"flex flex-wrap gap-2",children:[y.jsx("button",{onClick:w,className:"px-4 py-2 bg-plant-500 text-white rounded-lg hover:bg-plant-600 transition-colors font-semibold",children:"➕ Ny odlingsbädd"}),y.jsx("button",{onClick:T,className:"px-4 py-2 bg-earth-500 text-white rounded-lg hover:bg-earth-600 transition-colors font-semibold",disabled:t.length===0,children:"📤 Exportera"}),y.jsxs("label",{className:"px-4 py-2 bg-earth-500 text-white rounded-lg hover:bg-earth-600 transition-colors font-semibold cursor-pointer",children:["📥 Importera",y.jsx("input",{type:"file",accept:".json",onChange:_,className:"hidden"})]}),y.jsxs("span",{className:"ml-auto text-earth-600 font-semibold",children:["Totalt: ",t.length," bäddar"]})]})}),t.length===0?y.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center",children:[y.jsx("div",{className:"text-6xl mb-4",children:"🌱"}),y.jsx("h2",{className:"text-2xl font-bold text-earth-800 mb-2",children:"Inga odlingsbäddar ännu"}),y.jsx("p",{className:"text-earth-600 mb-4",children:"Skapa din första odlingsbädd för att komma igång!"}),y.jsx("button",{onClick:w,className:"px-6 py-3 bg-plant-500 text-white rounded-lg hover:bg-plant-600 transition-colors font-semibold",children:"➕ Skapa första bädden"})]}):y.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[y.jsx("div",{className:"lg:col-span-1",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[y.jsx("div",{className:"bg-plant-500 p-4",children:y.jsx("h2",{className:"text-xl font-bold text-white",children:"Alla bäddar"})}),y.jsx("div",{className:"divide-y divide-earth-200",children:t.map(p=>y.jsxs("div",{onClick:()=>r(p.id),className:`p-4 cursor-pointer transition-colors ${n===p.id?"bg-plant-50 border-l-4 border-plant-500":"hover:bg-earth-50"}`,children:[y.jsx("div",{className:"font-semibold text-earth-800",children:p.name}),p.description&&y.jsxs("div",{className:"text-xs text-earth-500 mt-1",children:[p.description.substring(0,50),p.description.length>50?"...":""]})]},p.id))})]})}),y.jsx("div",{className:"lg:col-span-2",children:C?y.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[y.jsx("div",{className:"bg-gradient-to-r from-plant-500 to-plant-400 p-6",children:y.jsx("h2",{className:"text-2xl font-bold text-white",children:C.name})}),y.jsxs("div",{className:"p-6",children:[C.description&&y.jsxs("div",{className:"mb-6",children:[y.jsx("h3",{className:"text-sm font-semibold text-earth-700 mb-2",children:"Beskrivning"}),y.jsx("p",{className:"text-earth-600",children:C.description})]}),y.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:y.jsxs("p",{className:"text-sm text-blue-800",children:["💡 ",y.jsx("span",{className:"font-semibold",children:"Tips:"}),' Gå till fliken "📋 Årsplaner" för att planera vad som ska odlas i denna bädd']})}),y.jsxs("div",{className:"text-xs text-earth-500",children:["Skapad: ",new Date(C.createdAt).toLocaleDateString("sv-SE"),C.updatedAt&&y.jsxs(y.Fragment,{children:[" • Uppdaterad: ",new Date(C.updatedAt).toLocaleDateString("sv-SE")]})]}),y.jsxs("div",{className:"flex gap-2 mt-6 pt-6 border-t border-earth-200",children:[y.jsx("button",{onClick:()=>N(C),className:"flex-1 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-semibold",children:"✏️ Redigera"}),y.jsx("button",{onClick:()=>E(C.id),className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors font-semibold",children:"🗑 Ta bort"})]})]})]}):y.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center",children:[y.jsx("div",{className:"text-4xl mb-4",children:"👈"}),y.jsx("p",{className:"text-earth-600",children:"Välj en bädd från listan för att se detaljer"})]})})]}),l&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:y.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[y.jsx("h2",{className:"text-2xl font-bold text-earth-800 mb-4",children:a?"Redigera odlingsbädd":"Ny odlingsbädd"}),y.jsxs("div",{className:"space-y-4",children:[y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-earth-700 mb-2",children:"Namn *"}),y.jsx("input",{type:"text",value:x.name,onChange:p=>k({...x,name:p.target.value}),placeholder:"T.ex. Tomat-bädd, Rotfrukter...",className:"w-full px-4 py-2 border-2 border-earth-200 rounded-lg focus:outline-none focus:border-plant-400"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-earth-700 mb-2",children:"Beskrivning"}),y.jsx("textarea",{value:x.description,onChange:p=>k({...x,description:p.target.value}),placeholder:"Läge, jordtyp, eventuella anteckningar...",rows:"3",className:"w-full px-4 py-2 border-2 border-earth-200 rounded-lg focus:outline-none focus:border-plant-400"})]})]}),y.jsxs("div",{className:"flex gap-3 mt-6",children:[y.jsx("button",{onClick:S,className:"flex-1 px-4 py-2 bg-plant-500 text-white rounded-lg hover:bg-plant-600 transition-colors font-semibold",children:"💾 Spara"}),y.jsx("button",{onClick:()=>o(!1),className:"flex-1 px-4 py-2 bg-earth-200 text-earth-700 rounded-lg hover:bg-earth-300 transition-colors font-semibold",children:"Avbryt"})]})]})})]})},$6=({myPlants:t})=>{const[e,n]=te.useState({}),[r,l]=te.useState(null),[o,a]=te.useState([]),[c,d]=te.useState(!1),[g,x]=te.useState(""),[k,w]=te.useState(!1);te.useEffect(()=>{const m=localStorage.getItem("myGardenBeds");if(m)try{a(JSON.parse(m))}catch(P){console.error("Kunde inte ladda bäddar:",P)}},[]),te.useEffect(()=>{const m=localStorage.getItem("yearPlans");if(m)try{const P=JSON.parse(m);n(P.plans||{}),l(P.activePlan||null)}catch(P){console.error("Kunde inte ladda årsplaner:",P)}w(!0)},[]),te.useEffect(()=>{k&&(localStorage.setItem("yearPlans",JSON.stringify({plans:e,activePlan:r})),window.dispatchEvent(new CustomEvent("yearPlans-updated")))},[e,r,k]);const N=()=>{if(!g.trim()){alert("Ange ett namn för planen");return}if(e[g]){alert("En plan med detta namn finns redan");return}const m={bedPlants:{},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};n({...e,[g]:m}),l(g),d(!1),x("")},S=()=>{if(!r){alert("Ingen plan att kopiera");return}const m=prompt("Namn på kopian:",`${r} - Kopia`);if(!m||!m.trim()||e[m]&&!confirm("En plan med detta namn finns redan. Vill du ersätta den?"))return;const P={bedPlants:JSON.parse(JSON.stringify(e[r].bedPlants)),plantDates:JSON.parse(JSON.stringify(e[r].plantDates||{})),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};n({...e,[m]:P}),l(m)},E=()=>{if(!r||!confirm(`Är du säker på att du vill ta bort "${r}"?`))return;const m={...e};delete m[r],n(m);const P=Object.keys(m);l(P.length>0?P[0]:null)},T=(m,P)=>{r&&n(R=>{const F=R[r].bedPlants[m]||[],M=F.includes(P)?F.filter(I=>I!==P):[...F,P];return{...R,[r]:{...R[r],bedPlants:{...R[r].bedPlants,[m]:M},updatedAt:new Date().toISOString()}}})},_=()=>{if(!r)return;const m={name:r,plan:e[r],exportedAt:new Date().toISOString()},P=new Blob([JSON.stringify(m,null,2)],{type:"application/json"}),R=URL.createObjectURL(P),F=document.createElement("a");F.href=R,F.download=`arsplan-${r}-${new Date().toISOString().split("T")[0]}.json`,F.click(),URL.revokeObjectURL(R)},C=Object.keys(e),p=r&&e[r]?e[r]:null;return y.jsxs("div",{className:"space-y-6",children:[y.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[y.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:[y.jsxs("div",{className:"flex-1 w-full md:w-auto",children:[y.jsx("label",{className:"block text-sm font-semibold text-earth-700 mb-2",children:"Aktiv årsplan"}),y.jsx("select",{value:r||"",onChange:m=>l(m.target.value),className:"w-full px-4 py-2 border-2 border-earth-200 rounded-lg focus:outline-none focus:border-plant-400 bg-white",disabled:C.length===0,children:C.length===0?y.jsx("option",{value:"",children:"Ingen plan ännu"}):C.map(m=>y.jsx("option",{value:m,children:m},m))})]}),y.jsxs("div",{className:"flex flex-wrap gap-2",children:[y.jsx("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-plant-500 text-white rounded-lg hover:bg-plant-600 transition-colors font-semibold whitespace-nowrap",children:"➕ Ny plan"}),r&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:S,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-semibold whitespace-nowrap",children:"📋 Kopiera plan"}),y.jsx("button",{onClick:_,className:"px-4 py-2 bg-earth-500 text-white rounded-lg hover:bg-earth-600 transition-colors font-semibold whitespace-nowrap",children:"📤 Exportera"}),y.jsx("button",{onClick:E,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors font-semibold whitespace-nowrap",children:"🗑 Ta bort"})]})]})]}),p&&y.jsx("div",{className:"mt-4 pt-4 border-t border-earth-200",children:y.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-earth-600",children:[y.jsxs("div",{children:[y.jsx("span",{className:"font-semibold",children:"Skapad:"})," ",new Date(p.createdAt).toLocaleDateString("sv-SE")]}),p.updatedAt&&y.jsxs("div",{children:[y.jsx("span",{className:"font-semibold",children:"Uppdaterad:"})," ",new Date(p.updatedAt).toLocaleDateString("sv-SE")]})]})})]}),r?y.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:[y.jsx("div",{className:"bg-gradient-to-r from-plant-500 to-plant-400 p-6",children:y.jsxs("h2",{className:"text-2xl font-bold text-white flex items-center gap-2",children:["📋 ",r]})}),y.jsxs("div",{className:"p-6",children:[y.jsxs("div",{className:"mb-8",children:[y.jsx("h2",{className:"text-2xl font-bold text-earth-800 mb-2 flex items-center gap-2",children:"🌱 Växter i denna plan"}),y.jsx("p",{className:"text-sm text-earth-600 mb-4",children:"Välj vilka växter som ska odlas i bäddarna nedan. Grön bock ✓ = finns i en bädd."}),y.jsxs("div",{className:"bg-plant-50 border-2 border-plant-300 rounded-lg p-4",children:[y.jsx("div",{className:"text-sm font-semibold text-plant-700 mb-3",children:"Placerade i odlingsbäddar:"}),t.length===0?y.jsx("p",{className:"text-earth-600 text-sm text-center py-4",children:"Inga växter i din lista. Gå till Fröbanken för att lägga till!"}):y.jsx("div",{className:"flex flex-wrap gap-2",children:t.map(m=>{const P=p.bedPlants&&Object.values(p.bedPlants).some(R=>R.includes(m));return y.jsxs("div",{className:`px-4 py-2 rounded-lg flex items-center gap-2 border-2 ${P?"bg-white text-plant-700 border-plant-300":"bg-earth-100 text-earth-600 border-earth-300"}`,children:[y.jsx("span",{className:"font-medium",children:m}),P&&y.jsx("span",{className:"text-green-600 font-bold text-lg",title:"Placerad i bädd",children:"✓"})]},m)})})]})]}),o.length>0&&y.jsxs("div",{className:"pt-6 border-t-2 border-earth-200",children:[y.jsxs("h2",{className:"text-xl font-bold text-earth-700 mb-2 flex items-center gap-2",children:["📦 Fördelning i odlingsbäddar",y.jsx("span",{className:"text-sm font-normal text-earth-500",children:"(frivilligt)"})]}),y.jsx("p",{className:"text-sm text-earth-600 mb-4",children:"Fördela växterna i dina bäddar för att planera växtföljd mellan år."}),y.jsx("div",{className:"space-y-4",children:o.map(m=>{const P=p.bedPlants[m.id]||[];return y.jsxs("div",{className:"border-2 border-earth-200 rounded-xl p-4 hover:border-plant-300 transition-colors",children:[y.jsx("h3",{className:"text-lg font-bold text-earth-800 mb-3",children:m.name}),m.description&&y.jsx("p",{className:"text-sm text-earth-600 mb-3",children:m.description}),P.length>0&&y.jsxs("div",{className:"mb-3",children:[y.jsx("div",{className:"text-sm font-semibold text-earth-700 mb-2",children:"Planteras i denna bädd:"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:P.map(R=>y.jsxs("span",{className:"text-sm bg-plant-100 text-plant-700 px-3 py-1.5 rounded-full flex items-center gap-2",children:["🌱 ",R,y.jsx("button",{onClick:()=>T(m.id,R),className:"text-red-600 hover:text-red-800 font-bold text-lg leading-none",children:"×"})]},R))})]}),y.jsxs("div",{className:"bg-earth-50 border-2 border-earth-200 rounded-lg p-3",children:[y.jsx("div",{className:"text-xs font-semibold text-earth-700 mb-2",children:"Välj växter för denna bädd:"}),t.length===0?y.jsx("p",{className:"text-sm text-earth-600 text-center py-4",children:"Inga växter i din lista. Gå till Fröbanken för att lägga till!"}):y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-2",children:t.map(R=>{const F=P.includes(R);return y.jsxs("button",{onClick:()=>T(m.id,R),className:`p-2 rounded-lg text-sm transition-all ${F?"bg-earth-600 text-white font-semibold":"bg-white border-2 border-earth-200 text-earth-700 hover:border-earth-400"}`,children:[F&&"✓ ",R]},R)})})]})]},m.id)})})]})]})]}):y.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center",children:[y.jsx("div",{className:"text-6xl mb-4",children:"📅"}),y.jsx("h2",{className:"text-2xl font-bold text-earth-800 mb-2",children:"Ingen årsplan vald"}),y.jsx("p",{className:"text-earth-600 mb-4",children:"Skapa en ny årsplan för att planera vad som ska odlas i dina bäddar"}),y.jsx("button",{onClick:()=>d(!0),className:"px-6 py-3 bg-plant-500 text-white rounded-lg hover:bg-plant-600 transition-colors font-semibold",children:"➕ Skapa första planen"})]}),c&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4",children:[y.jsx("h2",{className:"text-2xl font-bold text-earth-800 mb-4",children:"Skapa ny årsplan"}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-semibold text-earth-700 mb-2",children:"Plannamn"}),y.jsx("input",{type:"text",value:g,onChange:m=>x(m.target.value),placeholder:"T.ex. 2025, 2025 Plan B, 2026...",className:"w-full px-4 py-2 border-2 border-earth-200 rounded-lg focus:outline-none focus:border-plant-400",onKeyPress:m=>m.key==="Enter"&&N()}),y.jsx("p",{className:"text-xs text-earth-500 mt-2",children:"💡 Tips: Skapa flera planer för samma år för att testa olika alternativ"})]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:N,className:"flex-1 px-4 py-2 bg-plant-500 text-white rounded-lg hover:bg-plant-600 transition-colors font-semibold",children:"Skapa"}),y.jsx("button",{onClick:()=>{d(!1),x("")},className:"flex-1 px-4 py-2 bg-earth-200 text-earth-700 rounded-lg hover:bg-earth-300 transition-colors font-semibold",children:"Avbryt"})]})]})})]})},Y6=({designs:t,setDesigns:e,activeDesign:n,setActiveDesign:r})=>{var E;const[l,o]=te.useState(!1),[a,c]=te.useState(""),d=()=>{if(!a.trim()){alert("Ange ett namn för designen");return}if(t[a]){alert("En design med detta namn finns redan");return}const T={beds:[],orientation:"portrait",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};e({...t,[a]:T}),r(a),o(!1),c("")},g=()=>{n&&e(T=>({...T,[n]:{...T[n],orientation:T[n].orientation==="portrait"?"landscape":"portrait",updatedAt:new Date().toISOString()}}))},x=()=>{if(!n){alert("Ingen aktiv design att kopiera");return}const T=prompt("Namn på kopian:");if(!T||!T.trim()||t[T]&&!confirm("En design med detta namn finns redan. Vill du ersätta den?"))return;const _={...t[n],beds:JSON.parse(JSON.stringify(t[n].beds)),createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};e({...t,[T]:_}),r(T)},k=()=>{if(!n||!confirm(`Är du säker på att du vill ta bort "${n}"?`))return;const T={...t};delete T[n],e(T);const _=Object.keys(T);_.length>0?r(_[0]):r(null)},w=()=>{if(!n)return;const T={name:n,design:t[n],exportedAt:new Date().toISOString()},_=new Blob([JSON.stringify(T,null,2)],{type:"application/json"}),C=URL.createObjectURL(_),p=document.createElement("a");p.href=C,p.download=`tradgard-design-${n}-${new Date().toISOString().split("T")[0]}.json`,p.click(),URL.revokeObjectURL(C)},N=T=>{var p;const _=(p=T.target.files)==null?void 0:p[0];if(!_)return;const C=new FileReader;C.onload=m=>{try{const P=JSON.parse(m.target.result),R=P.name||_.name.replace(".json","");if(t[R]&&!confirm(`En design med namnet "${R}" finns redan. Vill du ersätta den?`))return;e({...t,[R]:P.design}),r(R)}catch(P){alert("Kunde inte läsa filen. Kontrollera att det är en giltig JSON-fil."),console.error("Import error:",P)}},C.readAsText(_),T.target.value=""},S=Object.keys(t);return y.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[y.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start md:items-center justify-between",children:[y.jsxs("div",{className:"flex-1 w-full md:w-auto",children:[y.jsx("label",{className:"block text-sm font-semibold text-earth-700 mb-2",children:"Aktiv design"}),y.jsx("select",{value:n||"",onChange:T=>r(T.target.value),className:"w-full px-4 py-2 border-2 border-earth-200 rounded-lg focus:outline-none focus:border-plant-400 transition-colors bg-white cursor-pointer",disabled:S.length===0,children:S.length===0?y.jsx("option",{value:"",children:"Ingen design ännu"}):S.map(T=>{var _;return y.jsxs("option",{value:T,children:[T," (",((_=t[T].beds)==null?void 0:_.length)||0," bäddar)"]},T)})})]}),y.jsxs("div",{className:"flex flex-wrap gap-2",children:[y.jsx("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-plant-500 text-white rounded-lg hover:bg-plant-600 transition-colors font-semibold whitespace-nowrap",children:"➕ Ny design"}),n&&y.jsxs(y.Fragment,{children:[y.jsxs("button",{onClick:g,className:"px-4 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors font-semibold whitespace-nowrap",children:["🔄 ",t[n].orientation==="portrait"?"Stående ⇅":"Liggande ⇆"]}),y.jsx("button",{onClick:x,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-semibold whitespace-nowrap",children:"💾 Spara som kopia"}),y.jsx("button",{onClick:w,className:"px-4 py-2 bg-earth-500 text-white rounded-lg hover:bg-earth-600 transition-colors font-semibold whitespace-nowrap",children:"📤 Exportera"}),y.jsxs("label",{className:"px-4 py-2 bg-earth-500 text-white rounded-lg hover:bg-earth-600 transition-colors font-semibold cursor-pointer whitespace-nowrap",children:["📥 Importera",y.jsx("input",{type:"file",accept:".json",onChange:N,className:"hidden"})]}),y.jsx("button",{onClick:k,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors font-semibold whitespace-nowrap",children:"🗑 Ta bort"})]})]})]}),n&&t[n]&&y.jsx("div",{className:"mt-4 pt-4 border-t border-earth-200",children:y.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-earth-600",children:[y.jsxs("div",{children:[y.jsx("span",{className:"font-semibold",children:"Format:"})," ",t[n].orientation==="portrait"?"Stående (800×1100)":"Liggande (1100×800)"]}),y.jsxs("div",{children:[y.jsx("span",{className:"font-semibold",children:"Bäddar:"})," ",((E=t[n].beds)==null?void 0:E.length)||0]}),y.jsxs("div",{children:[y.jsx("span",{className:"font-semibold",children:"Skapad:"})," ",new Date(t[n].createdAt).toLocaleDateString("sv-SE")]}),t[n].updatedAt&&y.jsxs("div",{children:[y.jsx("span",{className:"font-semibold",children:"Uppdaterad:"})," ",new Date(t[n].updatedAt).toLocaleDateString("sv-SE")]})]})}),l&&y.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:y.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full mx-4",children:[y.jsx("h2",{className:"text-2xl font-bold text-earth-800 mb-4",children:"Skapa ny design"}),y.jsxs("div",{className:"mb-4",children:[y.jsx("label",{className:"block text-sm font-semibold text-earth-700 mb-2",children:"Namn"}),y.jsx("input",{type:"text",value:a,onChange:T=>c(T.target.value),placeholder:"T.ex. 2025, Förslag 1...",className:"w-full px-4 py-2 border-2 border-earth-200 rounded-lg focus:outline-none focus:border-plant-400",onKeyPress:T=>T.key==="Enter"&&d()})]}),y.jsxs("div",{className:"flex gap-3",children:[y.jsx("button",{onClick:d,className:"flex-1 px-4 py-2 bg-plant-500 text-white rounded-lg hover:bg-plant-600 transition-colors font-semibold",children:"Skapa"}),y.jsx("button",{onClick:()=>{o(!1),c("")},className:"flex-1 px-4 py-2 bg-earth-200 text-earth-700 rounded-lg hover:bg-earth-300 transition-colors font-semibold",children:"Avbryt"})]})]})})]})};var Kv={exports:{}},Hu={},Cu={},pe={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t._registerNode=t.Konva=t.glob=void 0;const e=Math.PI/180;function n(){return typeof window<"u"&&({}.toString.call(window)==="[object Window]"||{}.toString.call(window)==="[object global]")}t.glob=typeof b1<"u"?b1:typeof window<"u"?window:typeof WorkerGlobalScope<"u"?self:{},t.Konva={_global:t.glob,version:"9.3.22",isBrowser:n(),isUnminified:/param/.test((function(l){}).toString()),dblClickWindow:400,getAngle(l){return t.Konva.angleDeg?l*e:l},enableTrace:!1,pointerEventsEnabled:!0,autoDrawEnabled:!0,hitOnDragEnabled:!1,capturePointerEventsEnabled:!1,_mouseListenClick:!1,_touchListenClick:!1,_pointerListenClick:!1,_mouseInDblClickWindow:!1,_touchInDblClickWindow:!1,_pointerInDblClickWindow:!1,_mouseDblClickPointerId:null,_touchDblClickPointerId:null,_pointerDblClickPointerId:null,_fixTextRendering:!1,pixelRatio:typeof window<"u"&&window.devicePixelRatio||1,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging(){return t.Konva.DD.isDragging},isTransforming(){var l;return(l=t.Konva.Transformer)===null||l===void 0?void 0:l.isTransforming()},isDragReady(){return!!t.Konva.DD.node},releaseCanvasOnDestroy:!0,document:t.glob.document,_injectGlobal(l){t.glob.Konva=l}};const r=l=>{t.Konva[l.prototype.getClassName()]=l};t._registerNode=r,t.Konva._injectGlobal(t.Konva)})(pe);var Je={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.Transform=void 0;const e=pe;class n{constructor(m=[1,0,0,1,0,0]){this.dirty=!1,this.m=m&&m.slice()||[1,0,0,1,0,0]}reset(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0}copy(){return new n(this.m)}copyInto(m){m.m[0]=this.m[0],m.m[1]=this.m[1],m.m[2]=this.m[2],m.m[3]=this.m[3],m.m[4]=this.m[4],m.m[5]=this.m[5]}point(m){const P=this.m;return{x:P[0]*m.x+P[2]*m.y+P[4],y:P[1]*m.x+P[3]*m.y+P[5]}}translate(m,P){return this.m[4]+=this.m[0]*m+this.m[2]*P,this.m[5]+=this.m[1]*m+this.m[3]*P,this}scale(m,P){return this.m[0]*=m,this.m[1]*=m,this.m[2]*=P,this.m[3]*=P,this}rotate(m){const P=Math.cos(m),R=Math.sin(m),F=this.m[0]*P+this.m[2]*R,M=this.m[1]*P+this.m[3]*R,I=this.m[0]*-R+this.m[2]*P,L=this.m[1]*-R+this.m[3]*P;return this.m[0]=F,this.m[1]=M,this.m[2]=I,this.m[3]=L,this}getTranslation(){return{x:this.m[4],y:this.m[5]}}skew(m,P){const R=this.m[0]+this.m[2]*P,F=this.m[1]+this.m[3]*P,M=this.m[2]+this.m[0]*m,I=this.m[3]+this.m[1]*m;return this.m[0]=R,this.m[1]=F,this.m[2]=M,this.m[3]=I,this}multiply(m){const P=this.m[0]*m.m[0]+this.m[2]*m.m[1],R=this.m[1]*m.m[0]+this.m[3]*m.m[1],F=this.m[0]*m.m[2]+this.m[2]*m.m[3],M=this.m[1]*m.m[2]+this.m[3]*m.m[3],I=this.m[0]*m.m[4]+this.m[2]*m.m[5]+this.m[4],L=this.m[1]*m.m[4]+this.m[3]*m.m[5]+this.m[5];return this.m[0]=P,this.m[1]=R,this.m[2]=F,this.m[3]=M,this.m[4]=I,this.m[5]=L,this}invert(){const m=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),P=this.m[3]*m,R=-this.m[1]*m,F=-this.m[2]*m,M=this.m[0]*m,I=m*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),L=m*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=P,this.m[1]=R,this.m[2]=F,this.m[3]=M,this.m[4]=I,this.m[5]=L,this}getMatrix(){return this.m}decompose(){const m=this.m[0],P=this.m[1],R=this.m[2],F=this.m[3],M=this.m[4],I=this.m[5],L=m*F-P*R,G={x:M,y:I,rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(m!=0||P!=0){const U=Math.sqrt(m*m+P*P);G.rotation=P>0?Math.acos(m/U):-Math.acos(m/U),G.scaleX=U,G.scaleY=L/U,G.skewX=(m*R+P*F)/L,G.skewY=0}else if(R!=0||F!=0){const U=Math.sqrt(R*R+F*F);G.rotation=Math.PI/2-(F>0?Math.acos(-R/U):-Math.acos(R/U)),G.scaleX=L/U,G.scaleY=U,G.skewX=0,G.skewY=(m*R+P*F)/L}return G.rotation=t.Util._getRotation(G.rotation),G}}t.Transform=n;const r="[object Array]",l="[object Number]",o="[object String]",a="[object Boolean]",c=Math.PI/180,d=180/Math.PI,g="#",x="",k="0",w="Konva warning: ",N="Konva error: ",S="rgb(",E={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},T=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/;let _=[];const C=typeof requestAnimationFrame<"u"&&requestAnimationFrame||function(p){setTimeout(p,60)};t.Util={_isElement(p){return!!(p&&p.nodeType==1)},_isFunction(p){return!!(p&&p.constructor&&p.call&&p.apply)},_isPlainObject(p){return!!p&&p.constructor===Object},_isArray(p){return Object.prototype.toString.call(p)===r},_isNumber(p){return Object.prototype.toString.call(p)===l&&!isNaN(p)&&isFinite(p)},_isString(p){return Object.prototype.toString.call(p)===o},_isBoolean(p){return Object.prototype.toString.call(p)===a},isObject(p){return p instanceof Object},isValidSelector(p){if(typeof p!="string")return!1;const m=p[0];return m==="#"||m==="."||m===m.toUpperCase()},_sign(p){return p===0||p>0?1:-1},requestAnimFrame(p){_.push(p),_.length===1&&C(function(){const m=_;_=[],m.forEach(function(P){P()})})},createCanvasElement(){const p=document.createElement("canvas");try{p.style=p.style||{}}catch{}return p},createImageElement(){return document.createElement("img")},_isInDocument(p){for(;p=p.parentNode;)if(p==document)return!0;return!1},_urlToImage(p,m){const P=t.Util.createImageElement();P.onload=function(){m(P)},P.src=p},_rgbToHex(p,m,P){return((1<<24)+(p<<16)+(m<<8)+P).toString(16).slice(1)},_hexToRgb(p){p=p.replace(g,x);const m=parseInt(p,16);return{r:m>>16&255,g:m>>8&255,b:m&255}},getRandomColor(){let p=(Math.random()*16777215<<0).toString(16);for(;p.length<6;)p=k+p;return g+p},getRGB(p){let m;return p in E?(m=E[p],{r:m[0],g:m[1],b:m[2]}):p[0]===g?this._hexToRgb(p.substring(1)):p.substr(0,4)===S?(m=T.exec(p.replace(/ /g,"")),{r:parseInt(m[1],10),g:parseInt(m[2],10),b:parseInt(m[3],10)}):{r:0,g:0,b:0}},colorToRGBA(p){return p=p||"black",t.Util._namedColorToRBA(p)||t.Util._hex3ColorToRGBA(p)||t.Util._hex4ColorToRGBA(p)||t.Util._hex6ColorToRGBA(p)||t.Util._hex8ColorToRGBA(p)||t.Util._rgbColorToRGBA(p)||t.Util._rgbaColorToRGBA(p)||t.Util._hslColorToRGBA(p)},_namedColorToRBA(p){const m=E[p.toLowerCase()];return m?{r:m[0],g:m[1],b:m[2],a:1}:null},_rgbColorToRGBA(p){if(p.indexOf("rgb(")===0){p=p.match(/rgb\(([^)]+)\)/)[1];const m=p.split(/ *, */).map(Number);return{r:m[0],g:m[1],b:m[2],a:1}}},_rgbaColorToRGBA(p){if(p.indexOf("rgba(")===0){p=p.match(/rgba\(([^)]+)\)/)[1];const m=p.split(/ *, */).map((P,R)=>P.slice(-1)==="%"?R===3?parseInt(P)/100:parseInt(P)/100*255:Number(P));return{r:m[0],g:m[1],b:m[2],a:m[3]}}},_hex8ColorToRGBA(p){if(p[0]==="#"&&p.length===9)return{r:parseInt(p.slice(1,3),16),g:parseInt(p.slice(3,5),16),b:parseInt(p.slice(5,7),16),a:parseInt(p.slice(7,9),16)/255}},_hex6ColorToRGBA(p){if(p[0]==="#"&&p.length===7)return{r:parseInt(p.slice(1,3),16),g:parseInt(p.slice(3,5),16),b:parseInt(p.slice(5,7),16),a:1}},_hex4ColorToRGBA(p){if(p[0]==="#"&&p.length===5)return{r:parseInt(p[1]+p[1],16),g:parseInt(p[2]+p[2],16),b:parseInt(p[3]+p[3],16),a:parseInt(p[4]+p[4],16)/255}},_hex3ColorToRGBA(p){if(p[0]==="#"&&p.length===4)return{r:parseInt(p[1]+p[1],16),g:parseInt(p[2]+p[2],16),b:parseInt(p[3]+p[3],16),a:1}},_hslColorToRGBA(p){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(p)){const[m,...P]=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(p),R=Number(P[0])/360,F=Number(P[1])/100,M=Number(P[2])/100;let I,L,G;if(F===0)return G=M*255,{r:Math.round(G),g:Math.round(G),b:Math.round(G),a:1};M<.5?I=M*(1+F):I=M+F-M*F;const U=2*M-I,H=[0,0,0];for(let X=0;X<3;X++)L=R+1/3*-(X-1),L<0&&L++,L>1&&L--,6*L<1?G=U+(I-U)*6*L:2*L<1?G=I:3*L<2?G=U+(I-U)*(2/3-L)*6:G=U,H[X]=G*255;return{r:Math.round(H[0]),g:Math.round(H[1]),b:Math.round(H[2]),a:1}}},haveIntersection(p,m){return!(m.x>p.x+p.width||m.x+m.width<p.x||m.y>p.y+p.height||m.y+m.height<p.y)},cloneObject(p){const m={};for(const P in p)this._isPlainObject(p[P])?m[P]=this.cloneObject(p[P]):this._isArray(p[P])?m[P]=this.cloneArray(p[P]):m[P]=p[P];return m},cloneArray(p){return p.slice(0)},degToRad(p){return p*c},radToDeg(p){return p*d},_degToRad(p){return t.Util.warn("Util._degToRad is removed. Please use public Util.degToRad instead."),t.Util.degToRad(p)},_radToDeg(p){return t.Util.warn("Util._radToDeg is removed. Please use public Util.radToDeg instead."),t.Util.radToDeg(p)},_getRotation(p){return e.Konva.angleDeg?t.Util.radToDeg(p):p},_capitalize(p){return p.charAt(0).toUpperCase()+p.slice(1)},throw(p){throw new Error(N+p)},error(p){console.error(N+p)},warn(p){e.Konva.showWarnings&&console.warn(w+p)},each(p,m){for(const P in p)m(P,p[P])},_inRange(p,m,P){return m<=p&&p<P},_getProjectionToSegment(p,m,P,R,F,M){let I,L,G;const U=(p-P)*(p-P)+(m-R)*(m-R);if(U==0)I=p,L=m,G=(F-P)*(F-P)+(M-R)*(M-R);else{const H=((F-p)*(P-p)+(M-m)*(R-m))/U;H<0?(I=p,L=m,G=(p-F)*(p-F)+(m-M)*(m-M)):H>1?(I=P,L=R,G=(P-F)*(P-F)+(R-M)*(R-M)):(I=p+H*(P-p),L=m+H*(R-m),G=(I-F)*(I-F)+(L-M)*(L-M))}return[I,L,G]},_getProjectionToLine(p,m,P){const R=t.Util.cloneObject(p);let F=Number.MAX_VALUE;return m.forEach(function(M,I){if(!P&&I===m.length-1)return;const L=m[(I+1)%m.length],G=t.Util._getProjectionToSegment(M.x,M.y,L.x,L.y,p.x,p.y),U=G[0],H=G[1],X=G[2];X<F&&(R.x=U,R.y=H,F=X)}),R},_prepareArrayForTween(p,m,P){const R=[],F=[];if(p.length>m.length){const I=m;m=p,p=I}for(let I=0;I<p.length;I+=2)R.push({x:p[I],y:p[I+1]});for(let I=0;I<m.length;I+=2)F.push({x:m[I],y:m[I+1]});const M=[];return F.forEach(function(I){const L=t.Util._getProjectionToLine(I,R,P);M.push(L.x),M.push(L.y)}),M},_prepareToStringify(p){let m;p.visitedByCircularReferenceRemoval=!0;for(const P in p)if(p.hasOwnProperty(P)&&p[P]&&typeof p[P]=="object"){if(m=Object.getOwnPropertyDescriptor(p,P),p[P].visitedByCircularReferenceRemoval||t.Util._isElement(p[P]))if(m.configurable)delete p[P];else return null;else if(t.Util._prepareToStringify(p[P])===null)if(m.configurable)delete p[P];else return null}return delete p.visitedByCircularReferenceRemoval,p},_assign(p,m){for(const P in m)p[P]=m[P];return p},_getFirstPointerId(p){return p.touches?p.changedTouches[0].identifier:p.pointerId||999},releaseCanvas(...p){e.Konva.releaseCanvasOnDestroy&&p.forEach(m=>{m.width=0,m.height=0})},drawRoundedRectPath(p,m,P,R){let F=0,M=0,I=0,L=0;typeof R=="number"?F=M=I=L=Math.min(R,m/2,P/2):(F=Math.min(R[0]||0,m/2,P/2),M=Math.min(R[1]||0,m/2,P/2),L=Math.min(R[2]||0,m/2,P/2),I=Math.min(R[3]||0,m/2,P/2)),p.moveTo(F,0),p.lineTo(m-M,0),p.arc(m-M,M,M,Math.PI*3/2,0,!1),p.lineTo(m,P-L),p.arc(m-L,P-L,L,0,Math.PI/2,!1),p.lineTo(I,P),p.arc(I,P-I,I,Math.PI/2,Math.PI,!1),p.lineTo(0,F),p.arc(F,F,F,Math.PI,Math.PI*3/2,!1)}}})(Je);var Ke={},zn={},yr={};Object.defineProperty(yr,"__esModule",{value:!0});yr.HitContext=yr.SceneContext=yr.Context=void 0;const $v=Je,Q6=pe;function X6(t){const e=[],n=t.length,r=$v.Util;for(let l=0;l<n;l++){let o=t[l];r._isNumber(o)?o=Math.round(o*1e3)/1e3:r._isString(o)||(o=o+""),e.push(o)}return e}const Kg=",",q6="(",J6=")",Z6="([",e8="])",t8=";",n8="()",r8="=",$g=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","roundRect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],i8=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","letterSpacing","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","direction","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],s8=100;class Wu{constructor(e){this.canvas=e,Q6.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}fillShape(e){e.fillEnabled()&&this._fill(e)}_fill(e){}strokeShape(e){e.hasStroke()&&this._stroke(e)}_stroke(e){}fillStrokeShape(e){e.attrs.fillAfterStrokeEnabled?(this.strokeShape(e),this.fillShape(e)):(this.fillShape(e),this.strokeShape(e))}getTrace(e,n){let r=this.traceArr,l=r.length,o="",a,c,d,g;for(a=0;a<l;a++)c=r[a],d=c.method,d?(g=c.args,o+=d,e?o+=n8:$v.Util._isArray(g[0])?o+=Z6+g.join(Kg)+e8:(n&&(g=g.map(x=>typeof x=="number"?Math.floor(x):x)),o+=q6+g.join(Kg)+J6)):(o+=c.property,e||(o+=r8+c.val)),o+=t8;return o}clearTrace(){this.traceArr=[]}_trace(e){let n=this.traceArr,r;n.push(e),r=n.length,r>=s8&&n.shift()}reset(){const e=this.getCanvas().getPixelRatio();this.setTransform(1*e,0,0,1*e,0,0)}getCanvas(){return this.canvas}clear(e){const n=this.getCanvas();e?this.clearRect(e.x||0,e.y||0,e.width||0,e.height||0):this.clearRect(0,0,n.getWidth()/n.pixelRatio,n.getHeight()/n.pixelRatio)}_applyLineCap(e){const n=e.attrs.lineCap;n&&this.setAttr("lineCap",n)}_applyOpacity(e){const n=e.getAbsoluteOpacity();n!==1&&this.setAttr("globalAlpha",n)}_applyLineJoin(e){const n=e.attrs.lineJoin;n&&this.setAttr("lineJoin",n)}setAttr(e,n){this._context[e]=n}arc(e,n,r,l,o,a){this._context.arc(e,n,r,l,o,a)}arcTo(e,n,r,l,o){this._context.arcTo(e,n,r,l,o)}beginPath(){this._context.beginPath()}bezierCurveTo(e,n,r,l,o,a){this._context.bezierCurveTo(e,n,r,l,o,a)}clearRect(e,n,r,l){this._context.clearRect(e,n,r,l)}clip(...e){this._context.clip.apply(this._context,e)}closePath(){this._context.closePath()}createImageData(e,n){const r=arguments;if(r.length===2)return this._context.createImageData(e,n);if(r.length===1)return this._context.createImageData(e)}createLinearGradient(e,n,r,l){return this._context.createLinearGradient(e,n,r,l)}createPattern(e,n){return this._context.createPattern(e,n)}createRadialGradient(e,n,r,l,o,a){return this._context.createRadialGradient(e,n,r,l,o,a)}drawImage(e,n,r,l,o,a,c,d,g){const x=arguments,k=this._context;x.length===3?k.drawImage(e,n,r):x.length===5?k.drawImage(e,n,r,l,o):x.length===9&&k.drawImage(e,n,r,l,o,a,c,d,g)}ellipse(e,n,r,l,o,a,c,d){this._context.ellipse(e,n,r,l,o,a,c,d)}isPointInPath(e,n,r,l){return r?this._context.isPointInPath(r,e,n,l):this._context.isPointInPath(e,n,l)}fill(...e){this._context.fill.apply(this._context,e)}fillRect(e,n,r,l){this._context.fillRect(e,n,r,l)}strokeRect(e,n,r,l){this._context.strokeRect(e,n,r,l)}fillText(e,n,r,l){l?this._context.fillText(e,n,r,l):this._context.fillText(e,n,r)}measureText(e){return this._context.measureText(e)}getImageData(e,n,r,l){return this._context.getImageData(e,n,r,l)}lineTo(e,n){this._context.lineTo(e,n)}moveTo(e,n){this._context.moveTo(e,n)}rect(e,n,r,l){this._context.rect(e,n,r,l)}roundRect(e,n,r,l,o){this._context.roundRect(e,n,r,l,o)}putImageData(e,n,r){this._context.putImageData(e,n,r)}quadraticCurveTo(e,n,r,l){this._context.quadraticCurveTo(e,n,r,l)}restore(){this._context.restore()}rotate(e){this._context.rotate(e)}save(){this._context.save()}scale(e,n){this._context.scale(e,n)}setLineDash(e){this._context.setLineDash?this._context.setLineDash(e):"mozDash"in this._context?this._context.mozDash=e:"webkitLineDash"in this._context&&(this._context.webkitLineDash=e)}getLineDash(){return this._context.getLineDash()}setTransform(e,n,r,l,o,a){this._context.setTransform(e,n,r,l,o,a)}stroke(e){e?this._context.stroke(e):this._context.stroke()}strokeText(e,n,r,l){this._context.strokeText(e,n,r,l)}transform(e,n,r,l,o,a){this._context.transform(e,n,r,l,o,a)}translate(e,n){this._context.translate(e,n)}_enableTrace(){let e=this,n=$g.length,r=this.setAttr,l,o;const a=function(c){let d=e[c],g;e[c]=function(){return o=X6(Array.prototype.slice.call(arguments,0)),g=d.apply(e,arguments),e._trace({method:c,args:o}),g}};for(l=0;l<n;l++)a($g[l]);e.setAttr=function(){r.apply(e,arguments);const c=arguments[0];let d=arguments[1];(c==="shadowOffsetX"||c==="shadowOffsetY"||c==="shadowBlur")&&(d=d/this.canvas.getPixelRatio()),e._trace({property:c,val:d})}}_applyGlobalCompositeOperation(e){const n=e.attrs.globalCompositeOperation;!n||n==="source-over"||this.setAttr("globalCompositeOperation",n)}}yr.Context=Wu;i8.forEach(function(t){Object.defineProperty(Wu.prototype,t,{get(){return this._context[t]},set(e){this._context[t]=e}})});class l8 extends Wu{constructor(e,{willReadFrequently:n=!1}={}){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:n})}_fillColor(e){const n=e.fill();this.setAttr("fillStyle",n),e._fillFunc(this)}_fillPattern(e){this.setAttr("fillStyle",e._getFillPattern()),e._fillFunc(this)}_fillLinearGradient(e){const n=e._getLinearGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fillRadialGradient(e){const n=e._getRadialGradient();n&&(this.setAttr("fillStyle",n),e._fillFunc(this))}_fill(e){const n=e.fill(),r=e.getFillPriority();if(n&&r==="color"){this._fillColor(e);return}const l=e.getFillPatternImage();if(l&&r==="pattern"){this._fillPattern(e);return}const o=e.getFillLinearGradientColorStops();if(o&&r==="linear-gradient"){this._fillLinearGradient(e);return}const a=e.getFillRadialGradientColorStops();if(a&&r==="radial-gradient"){this._fillRadialGradient(e);return}n?this._fillColor(e):l?this._fillPattern(e):o?this._fillLinearGradient(e):a&&this._fillRadialGradient(e)}_strokeLinearGradient(e){const n=e.getStrokeLinearGradientStartPoint(),r=e.getStrokeLinearGradientEndPoint(),l=e.getStrokeLinearGradientColorStops(),o=this.createLinearGradient(n.x,n.y,r.x,r.y);if(l){for(let a=0;a<l.length;a+=2)o.addColorStop(l[a],l[a+1]);this.setAttr("strokeStyle",o)}}_stroke(e){const n=e.dash(),r=e.getStrokeScaleEnabled();if(e.hasStroke()){if(!r){this.save();const o=this.getCanvas().getPixelRatio();this.setTransform(o,0,0,o,0,0)}this._applyLineCap(e),n&&e.dashEnabled()&&(this.setLineDash(n),this.setAttr("lineDashOffset",e.dashOffset())),this.setAttr("lineWidth",e.strokeWidth()),e.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),e.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(e):this.setAttr("strokeStyle",e.stroke()),e._strokeFunc(this),r||this.restore()}}_applyShadow(e){var n,r,l;const o=(n=e.getShadowRGBA())!==null&&n!==void 0?n:"black",a=(r=e.getShadowBlur())!==null&&r!==void 0?r:5,c=(l=e.getShadowOffset())!==null&&l!==void 0?l:{x:0,y:0},d=e.getAbsoluteScale(),g=this.canvas.getPixelRatio(),x=d.x*g,k=d.y*g;this.setAttr("shadowColor",o),this.setAttr("shadowBlur",a*Math.min(Math.abs(x),Math.abs(k))),this.setAttr("shadowOffsetX",c.x*x),this.setAttr("shadowOffsetY",c.y*k)}}yr.SceneContext=l8;class o8 extends Wu{constructor(e){super(e),this._context=e._canvas.getContext("2d",{willReadFrequently:!0})}_fill(e){this.save(),this.setAttr("fillStyle",e.colorKey),e._fillFuncHit(this),this.restore()}strokeShape(e){e.hasHitStroke()&&this._stroke(e)}_stroke(e){if(e.hasHitStroke()){const n=e.getStrokeScaleEnabled();if(!n){this.save();const o=this.getCanvas().getPixelRatio();this.setTransform(o,0,0,o,0,0)}this._applyLineCap(e);const r=e.hitStrokeWidth(),l=r==="auto"?e.strokeWidth():r;this.setAttr("lineWidth",l),this.setAttr("strokeStyle",e.colorKey),e._strokeFuncHit(this),n||this.restore()}}}yr.HitContext=o8;Object.defineProperty(zn,"__esModule",{value:!0});zn.HitCanvas=zn.SceneCanvas=zn.Canvas=void 0;const ku=Je,Yv=yr,Qv=pe;let Aa;function a8(){if(Aa)return Aa;const t=ku.Util.createCanvasElement(),e=t.getContext("2d");return Aa=function(){const n=Qv.Konva._global.devicePixelRatio||1,r=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return n/r}(),ku.Util.releaseCanvas(t),Aa}class F0{constructor(e){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;const r=(e||{}).pixelRatio||Qv.Konva.pixelRatio||a8();this.pixelRatio=r,this._canvas=ku.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}getContext(){return this.context}getPixelRatio(){return this.pixelRatio}setPixelRatio(e){const n=this.pixelRatio;this.pixelRatio=e,this.setSize(this.getWidth()/n,this.getHeight()/n)}setWidth(e){this.width=this._canvas.width=e*this.pixelRatio,this._canvas.style.width=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}setHeight(e){this.height=this._canvas.height=e*this.pixelRatio,this._canvas.style.height=e+"px";const n=this.pixelRatio;this.getContext()._context.scale(n,n)}getWidth(){return this.width}getHeight(){return this.height}setSize(e,n){this.setWidth(e||0),this.setHeight(n||0)}toDataURL(e,n){try{return this._canvas.toDataURL(e,n)}catch{try{return this._canvas.toDataURL()}catch(l){return ku.Util.error("Unable to get data URL. "+l.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}}}zn.Canvas=F0;class u8 extends F0{constructor(e={width:0,height:0,willReadFrequently:!1}){super(e),this.context=new Yv.SceneContext(this,{willReadFrequently:e.willReadFrequently}),this.setSize(e.width,e.height)}}zn.SceneCanvas=u8;class c8 extends F0{constructor(e={width:0,height:0}){super(e),this.hitCanvas=!0,this.context=new Yv.HitContext(this),this.setSize(e.width,e.height)}}zn.HitCanvas=c8;var Ku={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.DD=void 0;const e=pe,n=Je;t.DD={get isDragging(){let r=!1;return t.DD._dragElements.forEach(l=>{l.dragStatus==="dragging"&&(r=!0)}),r},justDragged:!1,get node(){let r;return t.DD._dragElements.forEach(l=>{r=l.node}),r},_dragElements:new Map,_drag(r){const l=[];t.DD._dragElements.forEach((o,a)=>{const{node:c}=o,d=c.getStage();d.setPointersPositions(r),o.pointerId===void 0&&(o.pointerId=n.Util._getFirstPointerId(r));const g=d._changedPointerPositions.find(x=>x.id===o.pointerId);if(g){if(o.dragStatus!=="dragging"){const x=c.dragDistance();if(Math.max(Math.abs(g.x-o.startPointerPos.x),Math.abs(g.y-o.startPointerPos.y))<x||(c.startDrag({evt:r}),!c.isDragging()))return}c._setDragPosition(r,o),l.push(c)}}),l.forEach(o=>{o.fire("dragmove",{type:"dragmove",target:o,evt:r},!0)})},_endDragBefore(r){const l=[];t.DD._dragElements.forEach(o=>{const{node:a}=o,c=a.getStage();if(r&&c.setPointersPositions(r),!c._changedPointerPositions.find(x=>x.id===o.pointerId))return;(o.dragStatus==="dragging"||o.dragStatus==="stopped")&&(t.DD.justDragged=!0,e.Konva._mouseListenClick=!1,e.Konva._touchListenClick=!1,e.Konva._pointerListenClick=!1,o.dragStatus="stopped");const g=o.node.getLayer()||o.node instanceof e.Konva.Stage&&o.node;g&&l.indexOf(g)===-1&&l.push(g)}),l.forEach(o=>{o.draw()})},_endDragAfter(r){t.DD._dragElements.forEach((l,o)=>{l.dragStatus==="stopped"&&l.node.fire("dragend",{type:"dragend",target:l.node,evt:r},!0),l.dragStatus!=="dragging"&&t.DD._dragElements.delete(o)})}},e.Konva.isBrowser&&(window.addEventListener("mouseup",t.DD._endDragBefore,!0),window.addEventListener("touchend",t.DD._endDragBefore,!0),window.addEventListener("touchcancel",t.DD._endDragBefore,!0),window.addEventListener("mousemove",t.DD._drag),window.addEventListener("touchmove",t.DD._drag),window.addEventListener("mouseup",t.DD._endDragAfter,!1),window.addEventListener("touchend",t.DD._endDragAfter,!1),window.addEventListener("touchcancel",t.DD._endDragAfter,!1))})(Ku);var ve={},ae={};Object.defineProperty(ae,"__esModule",{value:!0});ae.RGBComponent=d8;ae.alphaComponent=h8;ae.getNumberValidator=f8;ae.getNumberOrArrayOfNumbersValidator=p8;ae.getNumberOrAutoValidator=g8;ae.getStringValidator=m8;ae.getStringOrGradientValidator=v8;ae.getFunctionValidator=y8;ae.getNumberArrayValidator=x8;ae.getBooleanValidator=_8;ae.getComponentValidator=S8;const kr=pe,et=Je;function Nr(t){return et.Util._isString(t)?'"'+t+'"':Object.prototype.toString.call(t)==="[object Number]"||et.Util._isBoolean(t)?t:Object.prototype.toString.call(t)}function d8(t){return t>255?255:t<0?0:Math.round(t)}function h8(t){return t>1?1:t<1e-4?1e-4:t}function f8(){if(kr.Konva.isUnminified)return function(t,e){return et.Util._isNumber(t)||et.Util.warn(Nr(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function p8(t){if(kr.Konva.isUnminified)return function(e,n){let r=et.Util._isNumber(e),l=et.Util._isArray(e)&&e.length==t;return!r&&!l&&et.Util.warn(Nr(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function g8(){if(kr.Konva.isUnminified)return function(t,e){return et.Util._isNumber(t)||t==="auto"||et.Util.warn(Nr(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function m8(){if(kr.Konva.isUnminified)return function(t,e){return et.Util._isString(t)||et.Util.warn(Nr(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function v8(){if(kr.Konva.isUnminified)return function(t,e){const n=et.Util._isString(t),r=Object.prototype.toString.call(t)==="[object CanvasGradient]"||t&&t.addColorStop;return n||r||et.Util.warn(Nr(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function y8(){if(kr.Konva.isUnminified)return function(t,e){return et.Util._isFunction(t)||et.Util.warn(Nr(t)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),t}}function x8(){if(kr.Konva.isUnminified)return function(t,e){const n=Int8Array?Object.getPrototypeOf(Int8Array):null;return n&&t instanceof n||(et.Util._isArray(t)?t.forEach(function(r){et.Util._isNumber(r)||et.Util.warn('"'+e+'" attribute has non numeric element '+r+". Make sure that all elements are numbers.")}):et.Util.warn(Nr(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.')),t}}function _8(){if(kr.Konva.isUnminified)return function(t,e){return t===!0||t===!1||et.Util.warn(Nr(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function S8(t){if(kr.Konva.isUnminified)return function(e,n){return e==null||et.Util.isObject(e)||et.Util.warn(Nr(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Factory=void 0;const e=Je,n=ae,r="get",l="set";t.Factory={addGetterSetter(o,a,c,d,g){t.Factory.addGetter(o,a,c),t.Factory.addSetter(o,a,d,g),t.Factory.addOverloadedGetterSetter(o,a)},addGetter(o,a,c){const d=r+e.Util._capitalize(a);o.prototype[d]=o.prototype[d]||function(){const g=this.attrs[a];return g===void 0?c:g}},addSetter(o,a,c,d){const g=l+e.Util._capitalize(a);o.prototype[g]||t.Factory.overWriteSetter(o,a,c,d)},overWriteSetter(o,a,c,d){const g=l+e.Util._capitalize(a);o.prototype[g]=function(x){return c&&x!==void 0&&x!==null&&(x=c.call(this,x,a)),this._setAttr(a,x),d&&d.call(this),this}},addComponentsGetterSetter(o,a,c,d,g){const x=c.length,k=e.Util._capitalize,w=r+k(a),N=l+k(a);o.prototype[w]=function(){const E={};for(let T=0;T<x;T++){const _=c[T];E[_]=this.getAttr(a+k(_))}return E};const S=(0,n.getComponentValidator)(c);o.prototype[N]=function(E){const T=this.attrs[a];d&&(E=d.call(this,E,a)),S&&S.call(this,E,a);for(const _ in E)E.hasOwnProperty(_)&&this._setAttr(a+k(_),E[_]);return E||c.forEach(_=>{this._setAttr(a+k(_),void 0)}),this._fireChangeEvent(a,T,E),g&&g.call(this),this},t.Factory.addOverloadedGetterSetter(o,a)},addOverloadedGetterSetter(o,a){const c=e.Util._capitalize(a),d=l+c,g=r+c;o.prototype[a]=function(){return arguments.length?(this[d](arguments[0]),this):this[g]()}},addDeprecatedGetterSetter(o,a,c,d){e.Util.error("Adding deprecated "+a);const g=r+e.Util._capitalize(a),x=a+" property is deprecated and will be removed soon. Look at Konva change log for more information.";o.prototype[g]=function(){e.Util.error(x);const k=this.attrs[a];return k===void 0?c:k},t.Factory.addSetter(o,a,d,function(){e.Util.error(x)}),t.Factory.addOverloadedGetterSetter(o,a)},backCompat(o,a){e.Util.each(a,function(c,d){const g=o.prototype[d],x=r+e.Util._capitalize(c),k=l+e.Util._capitalize(c);function w(){g.apply(this,arguments),e.Util.error('"'+c+'" method is deprecated and will be removed soon. Use ""'+d+'" instead.')}o.prototype[c]=w,o.prototype[x]=w,o.prototype[k]=w})},afterSetFilter(){this._filterUpToDate=!1}}})(ve);Object.defineProperty(Ke,"__esModule",{value:!0});Ke.Node=void 0;const hs=zn,vn=Ku,xo=ve,Gr=pe,xe=Je,it=ae,qa="absoluteOpacity",Oa="allEventListeners",hr="absoluteTransform",Yg="absoluteScale",Pi="canvas",w8="Change",C8="children",k8="konva",Ef="listening",N8="mouseenter",P8="mouseleave",E8="pointerenter",T8="pointerleave",j8="touchenter",R8="touchleave",Qg="set",Xg="Shape",Ja=" ",qg="stage",Br="transform",M8="Stage",Tf="visible",F8=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(Ja);let L8=1;class ue{constructor(e){this._id=L8++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(e),this._shouldFireChangeEvents=!0}hasChildren(){return!1}_clearCache(e){(e===Br||e===hr)&&this._cache.get(e)?this._cache.get(e).dirty=!0:e?this._cache.delete(e):this._cache.clear()}_getCache(e,n){let r=this._cache.get(e);return(r===void 0||(e===Br||e===hr)&&r.dirty===!0)&&(r=n.call(this),this._cache.set(e,r)),r}_calculate(e,n,r){if(!this._attachedDepsListeners.get(e)){const l=n.map(o=>o+"Change.konva").join(Ja);this.on(l,()=>{this._clearCache(e)}),this._attachedDepsListeners.set(e,!0)}return this._getCache(e,r)}_getCanvasCache(){return this._cache.get(Pi)}_clearSelfAndDescendantCache(e){this._clearCache(e),e===hr&&this.fire("absoluteTransformChange")}clearCache(){if(this._cache.has(Pi)){const{scene:e,filter:n,hit:r,buffer:l}=this._cache.get(Pi);xe.Util.releaseCanvas(e,n,r,l),this._cache.delete(Pi)}return this._clearSelfAndDescendantCache(),this._requestDraw(),this}cache(e){const n=e||{};let r={};(n.x===void 0||n.y===void 0||n.width===void 0||n.height===void 0)&&(r=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()||void 0}));let l=Math.ceil(n.width||r.width),o=Math.ceil(n.height||r.height),a=n.pixelRatio,c=n.x===void 0?Math.floor(r.x):n.x,d=n.y===void 0?Math.floor(r.y):n.y,g=n.offset||0,x=n.drawBorder||!1,k=n.hitCanvasPixelRatio||1;if(!l||!o){xe.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.");return}const w=Math.abs(Math.round(r.x)-c)>.5?1:0,N=Math.abs(Math.round(r.y)-d)>.5?1:0;l+=g*2+w,o+=g*2+N,c-=g,d-=g;const S=new hs.SceneCanvas({pixelRatio:a,width:l,height:o}),E=new hs.SceneCanvas({pixelRatio:a,width:0,height:0,willReadFrequently:!0}),T=new hs.HitCanvas({pixelRatio:k,width:l,height:o}),_=S.getContext(),C=T.getContext(),p=new hs.SceneCanvas({width:S.width/S.pixelRatio+Math.abs(c),height:S.height/S.pixelRatio+Math.abs(d),pixelRatio:S.pixelRatio}),m=p.getContext();return T.isCache=!0,S.isCache=!0,this._cache.delete(Pi),this._filterUpToDate=!1,n.imageSmoothingEnabled===!1&&(S.getContext()._context.imageSmoothingEnabled=!1,E.getContext()._context.imageSmoothingEnabled=!1),_.save(),C.save(),m.save(),_.translate(-c,-d),C.translate(-c,-d),m.translate(-c,-d),p.x=c,p.y=d,this._isUnderCache=!0,this._clearSelfAndDescendantCache(qa),this._clearSelfAndDescendantCache(Yg),this.drawScene(S,this,p),this.drawHit(T,this),this._isUnderCache=!1,_.restore(),C.restore(),x&&(_.save(),_.beginPath(),_.rect(0,0,l,o),_.closePath(),_.setAttr("strokeStyle","red"),_.setAttr("lineWidth",5),_.stroke(),_.restore()),this._cache.set(Pi,{scene:S,filter:E,hit:T,buffer:p,x:c,y:d}),this._requestDraw(),this}isCached(){return this._cache.has(Pi)}getClientRect(e){throw new Error('abstract "getClientRect" method call')}_transformedRect(e,n){const r=[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}];let l=1/0,o=1/0,a=-1/0,c=-1/0;const d=this.getAbsoluteTransform(n);return r.forEach(function(g){const x=d.point(g);l===void 0&&(l=a=x.x,o=c=x.y),l=Math.min(l,x.x),o=Math.min(o,x.y),a=Math.max(a,x.x),c=Math.max(c,x.y)}),{x:l,y:o,width:a-l,height:c-o}}_drawCachedSceneCanvas(e){e.save(),e._applyOpacity(this),e._applyGlobalCompositeOperation(this);const n=this._getCanvasCache();e.translate(n.x,n.y);const r=this._getCachedSceneCanvas(),l=r.pixelRatio;e.drawImage(r._canvas,0,0,r.width/l,r.height/l),e.restore()}_drawCachedHitCanvas(e){const n=this._getCanvasCache(),r=n.hit;e.save(),e.translate(n.x,n.y),e.drawImage(r._canvas,0,0,r.width/r.pixelRatio,r.height/r.pixelRatio),e.restore()}_getCachedSceneCanvas(){let e=this.filters(),n=this._getCanvasCache(),r=n.scene,l=n.filter,o=l.getContext(),a,c,d,g;if(e){if(!this._filterUpToDate){const x=r.pixelRatio;l.setSize(r.width/r.pixelRatio,r.height/r.pixelRatio);try{for(a=e.length,o.clear(),o.drawImage(r._canvas,0,0,r.getWidth()/x,r.getHeight()/x),c=o.getImageData(0,0,l.getWidth(),l.getHeight()),d=0;d<a;d++){if(g=e[d],typeof g!="function"){xe.Util.error("Filter should be type of function, but got "+typeof g+" instead. Please check correct filters");continue}g.call(this,c),o.putImageData(c,0,0)}}catch(k){xe.Util.error("Unable to apply filter. "+k.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return l}return r}on(e,n){if(this._cache&&this._cache.delete(Oa),arguments.length===3)return this._delegate.apply(this,arguments);const r=e.split(Ja);for(let l=0;l<r.length;l++){const a=r[l].split("."),c=a[0],d=a[1]||"";this.eventListeners[c]||(this.eventListeners[c]=[]),this.eventListeners[c].push({name:d,handler:n})}return this}off(e,n){let r=(e||"").split(Ja),l=r.length,o,a,c,d,g,x;if(this._cache&&this._cache.delete(Oa),!e)for(a in this.eventListeners)this._off(a);for(o=0;o<l;o++)if(c=r[o],d=c.split("."),g=d[0],x=d[1],g)this.eventListeners[g]&&this._off(g,x,n);else for(a in this.eventListeners)this._off(a,x,n);return this}dispatchEvent(e){const n={target:this,type:e.type,evt:e};return this.fire(e.type,n),this}addEventListener(e,n){return this.on(e,function(r){n.call(this,r.evt)}),this}removeEventListener(e){return this.off(e),this}_delegate(e,n,r){const l=this;this.on(e,function(o){const a=o.target.findAncestors(n,!0,l);for(let c=0;c<a.length;c++)o=xe.Util.cloneObject(o),o.currentTarget=a[c],r.call(a[c],o)})}remove(){return this.isDragging()&&this.stopDrag(),vn.DD._dragElements.delete(this._id),this._remove(),this}_clearCaches(){this._clearSelfAndDescendantCache(hr),this._clearSelfAndDescendantCache(qa),this._clearSelfAndDescendantCache(Yg),this._clearSelfAndDescendantCache(qg),this._clearSelfAndDescendantCache(Tf),this._clearSelfAndDescendantCache(Ef)}_remove(){this._clearCaches();const e=this.getParent();e&&e.children&&(e.children.splice(this.index,1),e._setChildrenIndices(),this.parent=null)}destroy(){return this.remove(),this.clearCache(),this}getAttr(e){const n="get"+xe.Util._capitalize(e);return xe.Util._isFunction(this[n])?this[n]():this.attrs[e]}getAncestors(){let e=this.getParent(),n=[];for(;e;)n.push(e),e=e.getParent();return n}getAttrs(){return this.attrs||{}}setAttrs(e){return this._batchTransformChanges(()=>{let n,r;if(!e)return this;for(n in e)n!==C8&&(r=Qg+xe.Util._capitalize(n),xe.Util._isFunction(this[r])?this[r](e[n]):this._setAttr(n,e[n]))}),this}isListening(){return this._getCache(Ef,this._isListening)}_isListening(e){if(!this.listening())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isListening(e):!0}isVisible(){return this._getCache(Tf,this._isVisible)}_isVisible(e){if(!this.visible())return!1;const r=this.getParent();return r&&r!==e&&this!==e?r._isVisible(e):!0}shouldDrawHit(e,n=!1){if(e)return this._isVisible(e)&&this._isListening(e);const r=this.getLayer();let l=!1;vn.DD._dragElements.forEach(a=>{a.dragStatus==="dragging"&&(a.node.nodeType==="Stage"||a.node.getLayer()===r)&&(l=!0)});const o=!n&&!Gr.Konva.hitOnDragEnabled&&(l||Gr.Konva.isTransforming());return this.isListening()&&this.isVisible()&&!o}show(){return this.visible(!0),this}hide(){return this.visible(!1),this}getZIndex(){return this.index||0}getAbsoluteZIndex(){let e=this.getDepth(),n=this,r=0,l,o,a,c;function d(x){for(l=[],o=x.length,a=0;a<o;a++)c=x[a],r++,c.nodeType!==Xg&&(l=l.concat(c.getChildren().slice())),c._id===n._id&&(a=o);l.length>0&&l[0].getDepth()<=e&&d(l)}const g=this.getStage();return n.nodeType!==M8&&g&&d(g.getChildren()),r}getDepth(){let e=0,n=this.parent;for(;n;)e++,n=n.parent;return e}_batchTransformChanges(e){this._batchingTransformChange=!0,e(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(Br),this._clearSelfAndDescendantCache(hr)),this._needClearTransformCache=!1}setPosition(e){return this._batchTransformChanges(()=>{this.x(e.x),this.y(e.y)}),this}getPosition(){return{x:this.x(),y:this.y()}}getRelativePointerPosition(){const e=this.getStage();if(!e)return null;const n=e.getPointerPosition();if(!n)return null;const r=this.getAbsoluteTransform().copy();return r.invert(),r.point(n)}getAbsolutePosition(e){let n=!1,r=this.parent;for(;r;){if(r.isCached()){n=!0;break}r=r.parent}n&&!e&&(e=!0);const l=this.getAbsoluteTransform(e).getMatrix(),o=new xe.Transform,a=this.offset();return o.m=l.slice(),o.translate(a.x,a.y),o.getTranslation()}setAbsolutePosition(e){const{x:n,y:r,...l}=this._clearTransform();this.attrs.x=n,this.attrs.y=r,this._clearCache(Br);const o=this._getAbsoluteTransform().copy();return o.invert(),o.translate(e.x,e.y),e={x:this.attrs.x+o.getTranslation().x,y:this.attrs.y+o.getTranslation().y},this._setTransform(l),this.setPosition({x:e.x,y:e.y}),this._clearCache(Br),this._clearSelfAndDescendantCache(hr),this}_setTransform(e){let n;for(n in e)this.attrs[n]=e[n]}_clearTransform(){const e={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,e}move(e){let n=e.x,r=e.y,l=this.x(),o=this.y();return n!==void 0&&(l+=n),r!==void 0&&(o+=r),this.setPosition({x:l,y:o}),this}_eachAncestorReverse(e,n){let r=[],l=this.getParent(),o,a;if(!(n&&n._id===this._id)){for(r.unshift(this);l&&(!n||l._id!==n._id);)r.unshift(l),l=l.parent;for(o=r.length,a=0;a<o;a++)e(r[a])}}rotate(e){return this.rotation(this.rotation()+e),this}moveToTop(){if(!this.parent)return xe.Util.warn("Node has no parent. moveToTop function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0):!1}moveUp(){if(!this.parent)return xe.Util.warn("Node has no parent. moveUp function is ignored."),!1;const e=this.index,n=this.parent.getChildren().length;return e<n-1?(this.parent.children.splice(e,1),this.parent.children.splice(e+1,0,this),this.parent._setChildrenIndices(),!0):!1}moveDown(){if(!this.parent)return xe.Util.warn("Node has no parent. moveDown function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.splice(e-1,0,this),this.parent._setChildrenIndices(),!0):!1}moveToBottom(){if(!this.parent)return xe.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;const e=this.index;return e>0?(this.parent.children.splice(e,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0):!1}setZIndex(e){if(!this.parent)return xe.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(e<0||e>=this.parent.children.length)&&xe.Util.warn("Unexpected value "+e+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");const n=this.index;return this.parent.children.splice(n,1),this.parent.children.splice(e,0,this),this.parent._setChildrenIndices(),this}getAbsoluteOpacity(){return this._getCache(qa,this._getAbsoluteOpacity)}_getAbsoluteOpacity(){let e=this.opacity();const n=this.getParent();return n&&!n._isUnderCache&&(e*=n.getAbsoluteOpacity()),e}moveTo(e){return this.getParent()!==e&&(this._remove(),e.add(this)),this}toObject(){let e=this.getAttrs(),n,r,l,o,a;const c={attrs:{},className:this.getClassName()};for(n in e)r=e[n],a=xe.Util.isObject(r)&&!xe.Util._isPlainObject(r)&&!xe.Util._isArray(r),!a&&(l=typeof this[n]=="function"&&this[n],delete e[n],o=l?l.call(this):null,e[n]=r,o!==r&&(c.attrs[n]=r));return xe.Util._prepareToStringify(c)}toJSON(){return JSON.stringify(this.toObject())}getParent(){return this.parent}findAncestors(e,n,r){const l=[];n&&this._isMatch(e)&&l.push(this);let o=this.parent;for(;o;){if(o===r)return l;o._isMatch(e)&&l.push(o),o=o.parent}return l}isAncestorOf(e){return!1}findAncestor(e,n,r){return this.findAncestors(e,n,r)[0]}_isMatch(e){if(!e)return!1;if(typeof e=="function")return e(this);let n=e.replace(/ /g,"").split(","),r=n.length,l,o;for(l=0;l<r;l++)if(o=n[l],xe.Util.isValidSelector(o)||(xe.Util.warn('Selector "'+o+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),xe.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),xe.Util.warn("Konva is awesome, right?")),o.charAt(0)==="#"){if(this.id()===o.slice(1))return!0}else if(o.charAt(0)==="."){if(this.hasName(o.slice(1)))return!0}else if(this.className===o||this.nodeType===o)return!0;return!1}getLayer(){const e=this.getParent();return e?e.getLayer():null}getStage(){return this._getCache(qg,this._getStage)}_getStage(){const e=this.getParent();return e?e.getStage():null}fire(e,n={},r){return n.target=n.target||this,r?this._fireAndBubble(e,n):this._fire(e,n),this}getAbsoluteTransform(e){return e?this._getAbsoluteTransform(e):this._getCache(hr,this._getAbsoluteTransform)}_getAbsoluteTransform(e){let n;if(e)return n=new xe.Transform,this._eachAncestorReverse(function(r){const l=r.transformsEnabled();l==="all"?n.multiply(r.getTransform()):l==="position"&&n.translate(r.x()-r.offsetX(),r.y()-r.offsetY())},e),n;{n=this._cache.get(hr)||new xe.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(n):n.reset();const r=this.transformsEnabled();if(r==="all")n.multiply(this.getTransform());else if(r==="position"){const l=this.attrs.x||0,o=this.attrs.y||0,a=this.attrs.offsetX||0,c=this.attrs.offsetY||0;n.translate(l-a,o-c)}return n.dirty=!1,n}}getAbsoluteScale(e){let n=this;for(;n;)n._isUnderCache&&(e=n),n=n.getParent();const l=this.getAbsoluteTransform(e).decompose();return{x:l.scaleX,y:l.scaleY}}getAbsoluteRotation(){return this.getAbsoluteTransform().decompose().rotation}getTransform(){return this._getCache(Br,this._getTransform)}_getTransform(){var e,n;const r=this._cache.get(Br)||new xe.Transform;r.reset();const l=this.x(),o=this.y(),a=Gr.Konva.getAngle(this.rotation()),c=(e=this.attrs.scaleX)!==null&&e!==void 0?e:1,d=(n=this.attrs.scaleY)!==null&&n!==void 0?n:1,g=this.attrs.skewX||0,x=this.attrs.skewY||0,k=this.attrs.offsetX||0,w=this.attrs.offsetY||0;return(l!==0||o!==0)&&r.translate(l,o),a!==0&&r.rotate(a),(g!==0||x!==0)&&r.skew(g,x),(c!==1||d!==1)&&r.scale(c,d),(k!==0||w!==0)&&r.translate(-1*k,-1*w),r.dirty=!1,r}clone(e){let n=xe.Util.cloneObject(this.attrs),r,l,o,a,c;for(r in e)n[r]=e[r];const d=new this.constructor(n);for(r in this.eventListeners)for(l=this.eventListeners[r],o=l.length,a=0;a<o;a++)c=l[a],c.name.indexOf(k8)<0&&(d.eventListeners[r]||(d.eventListeners[r]=[]),d.eventListeners[r].push(c));return d}_toKonvaCanvas(e){e=e||{};const n=this.getClientRect(),r=this.getStage(),l=e.x!==void 0?e.x:Math.floor(n.x),o=e.y!==void 0?e.y:Math.floor(n.y),a=e.pixelRatio||1,c=new hs.SceneCanvas({width:e.width||Math.ceil(n.width)||(r?r.width():0),height:e.height||Math.ceil(n.height)||(r?r.height():0),pixelRatio:a}),d=c.getContext(),g=new hs.SceneCanvas({width:c.width/c.pixelRatio+Math.abs(l),height:c.height/c.pixelRatio+Math.abs(o),pixelRatio:c.pixelRatio});return e.imageSmoothingEnabled===!1&&(d._context.imageSmoothingEnabled=!1),d.save(),(l||o)&&d.translate(-1*l,-1*o),this.drawScene(c,void 0,g),d.restore(),c}toCanvas(e){return this._toKonvaCanvas(e)._canvas}toDataURL(e){e=e||{};const n=e.mimeType||null,r=e.quality||null,l=this._toKonvaCanvas(e).toDataURL(n,r);return e.callback&&e.callback(l),l}toImage(e){return new Promise((n,r)=>{try{const l=e==null?void 0:e.callback;l&&delete e.callback,xe.Util._urlToImage(this.toDataURL(e),function(o){n(o),l==null||l(o)})}catch(l){r(l)}})}toBlob(e){return new Promise((n,r)=>{try{const l=e==null?void 0:e.callback;l&&delete e.callback,this.toCanvas(e).toBlob(o=>{n(o),l==null||l(o)},e==null?void 0:e.mimeType,e==null?void 0:e.quality)}catch(l){r(l)}})}setSize(e){return this.width(e.width),this.height(e.height),this}getSize(){return{width:this.width(),height:this.height()}}getClassName(){return this.className||this.nodeType}getType(){return this.nodeType}getDragDistance(){return this.attrs.dragDistance!==void 0?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():Gr.Konva.dragDistance}_off(e,n,r){let l=this.eventListeners[e],o,a,c;for(o=0;o<l.length;o++)if(a=l[o].name,c=l[o].handler,(a!=="konva"||n==="konva")&&(!n||a===n)&&(!r||r===c)){if(l.splice(o,1),l.length===0){delete this.eventListeners[e];break}o--}}_fireChangeEvent(e,n,r){this._fire(e+w8,{oldVal:n,newVal:r})}addName(e){if(!this.hasName(e)){const n=this.name(),r=n?n+" "+e:e;this.name(r)}return this}hasName(e){if(!e)return!1;const n=this.name();return n?(n||"").split(/\s/g).indexOf(e)!==-1:!1}removeName(e){const n=(this.name()||"").split(/\s/g),r=n.indexOf(e);return r!==-1&&(n.splice(r,1),this.name(n.join(" "))),this}setAttr(e,n){const r=this[Qg+xe.Util._capitalize(e)];return xe.Util._isFunction(r)?r.call(this,n):this._setAttr(e,n),this}_requestDraw(){if(Gr.Konva.autoDrawEnabled){const e=this.getLayer()||this.getStage();e==null||e.batchDraw()}}_setAttr(e,n){const r=this.attrs[e];r===n&&!xe.Util.isObject(n)||(n==null?delete this.attrs[e]:this.attrs[e]=n,this._shouldFireChangeEvents&&this._fireChangeEvent(e,r,n),this._requestDraw())}_setComponentAttr(e,n,r){let l;r!==void 0&&(l=this.attrs[e],l||(this.attrs[e]=this.getAttr(e)),this.attrs[e][n]=r,this._fireChangeEvent(e,l,r))}_fireAndBubble(e,n,r){n&&this.nodeType===Xg&&(n.target=this);const l=[N8,P8,E8,T8,j8,R8];if(!(l.indexOf(e)!==-1&&(r&&(this===r||this.isAncestorOf&&this.isAncestorOf(r))||this.nodeType==="Stage"&&!r))){this._fire(e,n);const a=l.indexOf(e)!==-1&&r&&r.isAncestorOf&&r.isAncestorOf(this)&&!r.isAncestorOf(this.parent);(n&&!n.cancelBubble||!n)&&this.parent&&this.parent.isListening()&&!a&&(r&&r.parent?this._fireAndBubble.call(this.parent,e,n,r):this._fireAndBubble.call(this.parent,e,n))}}_getProtoListeners(e){var n,r,l;const o=(n=this._cache.get(Oa))!==null&&n!==void 0?n:{};let a=o==null?void 0:o[e];if(a===void 0){a=[];let c=Object.getPrototypeOf(this);for(;c;){const d=(l=(r=c.eventListeners)===null||r===void 0?void 0:r[e])!==null&&l!==void 0?l:[];a.push(...d),c=Object.getPrototypeOf(c)}o[e]=a,this._cache.set(Oa,o)}return a}_fire(e,n){n=n||{},n.currentTarget=this,n.type=e;const r=this._getProtoListeners(e);if(r)for(let o=0;o<r.length;o++)r[o].handler.call(this,n);const l=this.eventListeners[e];if(l)for(let o=0;o<l.length;o++)l[o].handler.call(this,n)}draw(){return this.drawScene(),this.drawHit(),this}_createDragElement(e){const n=e?e.pointerId:void 0,r=this.getStage(),l=this.getAbsolutePosition();if(!r)return;const o=r._getPointerById(n)||r._changedPointerPositions[0]||l;vn.DD._dragElements.set(this._id,{node:this,startPointerPos:o,offset:{x:o.x-l.x,y:o.y-l.y},dragStatus:"ready",pointerId:n})}startDrag(e,n=!0){vn.DD._dragElements.has(this._id)||this._createDragElement(e);const r=vn.DD._dragElements.get(this._id);r.dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:e&&e.evt},n)}_setDragPosition(e,n){const r=this.getStage()._getPointerById(n.pointerId);if(!r)return;let l={x:r.x-n.offset.x,y:r.y-n.offset.y};const o=this.dragBoundFunc();if(o!==void 0){const a=o.call(this,l,e);a?l=a:xe.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}(!this._lastPos||this._lastPos.x!==l.x||this._lastPos.y!==l.y)&&(this.setAbsolutePosition(l),this._requestDraw()),this._lastPos=l}stopDrag(e){const n=vn.DD._dragElements.get(this._id);n&&(n.dragStatus="stopped"),vn.DD._endDragBefore(e),vn.DD._endDragAfter(e)}setDraggable(e){this._setAttr("draggable",e),this._dragChange()}isDragging(){const e=vn.DD._dragElements.get(this._id);return e?e.dragStatus==="dragging":!1}_listenDrag(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",function(e){if(!(!(e.evt.button!==void 0)||Gr.Konva.dragButtons.indexOf(e.evt.button)>=0)||this.isDragging())return;let l=!1;vn.DD._dragElements.forEach(o=>{this.isAncestorOf(o.node)&&(l=!0)}),l||this._createDragElement(e)})}_dragChange(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;const n=vn.DD._dragElements.get(this._id),r=n&&n.dragStatus==="dragging",l=n&&n.dragStatus==="ready";r?this.stopDrag():l&&vn.DD._dragElements.delete(this._id)}}_dragCleanup(){this.off("mousedown.konva"),this.off("touchstart.konva")}isClientRectOnScreen(e={x:0,y:0}){const n=this.getStage();if(!n)return!1;const r={x:-e.x,y:-e.y,width:n.width()+2*e.x,height:n.height()+2*e.y};return xe.Util.haveIntersection(r,this.getClientRect())}static create(e,n){return xe.Util._isString(e)&&(e=JSON.parse(e)),this._createNode(e,n)}static _createNode(e,n){let r=ue.prototype.getClassName.call(e),l=e.children,o,a,c;n&&(e.attrs.container=n),Gr.Konva[r]||(xe.Util.warn('Can not find a node with class name "'+r+'". Fallback to "Shape".'),r="Shape");const d=Gr.Konva[r];if(o=new d(e.attrs),l)for(a=l.length,c=0;c<a;c++)o.add(ue._createNode(l[c]));return o}}Ke.Node=ue;ue.prototype.nodeType="Node";ue.prototype._attrsAffectingSize=[];ue.prototype.eventListeners={};ue.prototype.on.call(ue.prototype,F8,function(){if(this._batchingTransformChange){this._needClearTransformCache=!0;return}this._clearCache(Br),this._clearSelfAndDescendantCache(hr)});ue.prototype.on.call(ue.prototype,"visibleChange.konva",function(){this._clearSelfAndDescendantCache(Tf)});ue.prototype.on.call(ue.prototype,"listeningChange.konva",function(){this._clearSelfAndDescendantCache(Ef)});ue.prototype.on.call(ue.prototype,"opacityChange.konva",function(){this._clearSelfAndDescendantCache(qa)});const Le=xo.Factory.addGetterSetter;Le(ue,"zIndex");Le(ue,"absolutePosition");Le(ue,"position");Le(ue,"x",0,(0,it.getNumberValidator)());Le(ue,"y",0,(0,it.getNumberValidator)());Le(ue,"globalCompositeOperation","source-over",(0,it.getStringValidator)());Le(ue,"opacity",1,(0,it.getNumberValidator)());Le(ue,"name","",(0,it.getStringValidator)());Le(ue,"id","",(0,it.getStringValidator)());Le(ue,"rotation",0,(0,it.getNumberValidator)());xo.Factory.addComponentsGetterSetter(ue,"scale",["x","y"]);Le(ue,"scaleX",1,(0,it.getNumberValidator)());Le(ue,"scaleY",1,(0,it.getNumberValidator)());xo.Factory.addComponentsGetterSetter(ue,"skew",["x","y"]);Le(ue,"skewX",0,(0,it.getNumberValidator)());Le(ue,"skewY",0,(0,it.getNumberValidator)());xo.Factory.addComponentsGetterSetter(ue,"offset",["x","y"]);Le(ue,"offsetX",0,(0,it.getNumberValidator)());Le(ue,"offsetY",0,(0,it.getNumberValidator)());Le(ue,"dragDistance",void 0,(0,it.getNumberValidator)());Le(ue,"width",0,(0,it.getNumberValidator)());Le(ue,"height",0,(0,it.getNumberValidator)());Le(ue,"listening",!0,(0,it.getBooleanValidator)());Le(ue,"preventDefault",!0,(0,it.getBooleanValidator)());Le(ue,"filters",void 0,function(t){return this._filterUpToDate=!1,t});Le(ue,"visible",!0,(0,it.getBooleanValidator)());Le(ue,"transformsEnabled","all",(0,it.getStringValidator)());Le(ue,"size");Le(ue,"dragBoundFunc");Le(ue,"draggable",!1,(0,it.getBooleanValidator)());xo.Factory.backCompat(ue,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"});var Bi={};Object.defineProperty(Bi,"__esModule",{value:!0});Bi.Container=void 0;const $s=ve,wh=Ke,$u=ae;class Vi extends wh.Node{constructor(){super(...arguments),this.children=[]}getChildren(e){const n=this.children||[];return e?n.filter(e):n}hasChildren(){return this.getChildren().length>0}removeChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.remove()}),this.children=[],this._requestDraw(),this}destroyChildren(){return this.getChildren().forEach(e=>{e.parent=null,e.index=0,e.destroy()}),this.children=[],this._requestDraw(),this}add(...e){if(e.length===0)return this;if(e.length>1){for(let r=0;r<e.length;r++)this.add(e[r]);return this}const n=e[0];return n.getParent()?(n.moveTo(this),this):(this._validateAdd(n),n.index=this.getChildren().length,n.parent=this,n._clearCaches(),this.getChildren().push(n),this._fire("add",{child:n}),this._requestDraw(),this)}destroy(){return this.hasChildren()&&this.destroyChildren(),super.destroy(),this}find(e){return this._generalFind(e,!1)}findOne(e){const n=this._generalFind(e,!0);return n.length>0?n[0]:void 0}_generalFind(e,n){const r=[];return this._descendants(l=>{const o=l._isMatch(e);return o&&r.push(l),!!(o&&n)}),r}_descendants(e){let n=!1;const r=this.getChildren();for(const l of r){if(n=e(l),n)return!0;if(l.hasChildren()&&(n=l._descendants(e),n))return!0}return!1}toObject(){const e=wh.Node.prototype.toObject.call(this);return e.children=[],this.getChildren().forEach(n=>{e.children.push(n.toObject())}),e}isAncestorOf(e){let n=e.getParent();for(;n;){if(n._id===this._id)return!0;n=n.getParent()}return!1}clone(e){const n=wh.Node.prototype.clone.call(this,e);return this.getChildren().forEach(function(r){n.add(r.clone())}),n}getAllIntersections(e){const n=[];return this.find("Shape").forEach(r=>{r.isVisible()&&r.intersects(e)&&n.push(r)}),n}_clearSelfAndDescendantCache(e){var n;super._clearSelfAndDescendantCache(e),!this.isCached()&&((n=this.children)===null||n===void 0||n.forEach(function(r){r._clearSelfAndDescendantCache(e)}))}_setChildrenIndices(){var e;(e=this.children)===null||e===void 0||e.forEach(function(n,r){n.index=r}),this._requestDraw()}drawScene(e,n,r){const l=this.getLayer(),o=e||l&&l.getCanvas(),a=o&&o.getContext(),c=this._getCanvasCache(),d=c&&c.scene,g=o&&o.isCache;if(!this.isVisible()&&!g)return this;if(d){a.save();const x=this.getAbsoluteTransform(n).getMatrix();a.transform(x[0],x[1],x[2],x[3],x[4],x[5]),this._drawCachedSceneCanvas(a),a.restore()}else this._drawChildren("drawScene",o,n,r);return this}drawHit(e,n){if(!this.shouldDrawHit(n))return this;const r=this.getLayer(),l=e||r&&r.hitCanvas,o=l&&l.getContext(),a=this._getCanvasCache();if(a&&a.hit){o.save();const d=this.getAbsoluteTransform(n).getMatrix();o.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this._drawCachedHitCanvas(o),o.restore()}else this._drawChildren("drawHit",l,n);return this}_drawChildren(e,n,r,l){var o;const a=n&&n.getContext(),c=this.clipWidth(),d=this.clipHeight(),g=this.clipFunc(),x=typeof c=="number"&&typeof d=="number"||g,k=r===this;if(x){a.save();const N=this.getAbsoluteTransform(r);let S=N.getMatrix();a.transform(S[0],S[1],S[2],S[3],S[4],S[5]),a.beginPath();let E;if(g)E=g.call(this,a,this);else{const T=this.clipX(),_=this.clipY();a.rect(T||0,_||0,c,d)}a.clip.apply(a,E),S=N.copy().invert().getMatrix(),a.transform(S[0],S[1],S[2],S[3],S[4],S[5])}const w=!k&&this.globalCompositeOperation()!=="source-over"&&e==="drawScene";w&&(a.save(),a._applyGlobalCompositeOperation(this)),(o=this.children)===null||o===void 0||o.forEach(function(N){N[e](n,r,l)}),w&&a.restore(),x&&a.restore()}getClientRect(e={}){var n;const r=e.skipTransform,l=e.relativeTo;let o,a,c,d,g={x:1/0,y:1/0,width:0,height:0};const x=this;(n=this.children)===null||n===void 0||n.forEach(function(N){if(!N.visible())return;const S=N.getClientRect({relativeTo:x,skipShadow:e.skipShadow,skipStroke:e.skipStroke});S.width===0&&S.height===0||(o===void 0?(o=S.x,a=S.y,c=S.x+S.width,d=S.y+S.height):(o=Math.min(o,S.x),a=Math.min(a,S.y),c=Math.max(c,S.x+S.width),d=Math.max(d,S.y+S.height)))});const k=this.find("Shape");let w=!1;for(let N=0;N<k.length;N++)if(k[N]._isVisible(this)){w=!0;break}return w&&o!==void 0?g={x:o,y:a,width:c-o,height:d-a}:g={x:0,y:0,width:0,height:0},r?g:this._transformedRect(g,l)}}Bi.Container=Vi;$s.Factory.addComponentsGetterSetter(Vi,"clip",["x","y","width","height"]);$s.Factory.addGetterSetter(Vi,"clipX",void 0,(0,$u.getNumberValidator)());$s.Factory.addGetterSetter(Vi,"clipY",void 0,(0,$u.getNumberValidator)());$s.Factory.addGetterSetter(Vi,"clipWidth",void 0,(0,$u.getNumberValidator)());$s.Factory.addGetterSetter(Vi,"clipHeight",void 0,(0,$u.getNumberValidator)());$s.Factory.addGetterSetter(Vi,"clipFunc");var Xv={},ui={};Object.defineProperty(ui,"__esModule",{value:!0});ui.getCapturedShape=O8;ui.createEvent=L0;ui.hasPointerCapture=b8;ui.setPointerCapture=I8;ui.releaseCapture=Jv;const A8=pe,co=new Map,qv=A8.Konva._global.PointerEvent!==void 0;function O8(t){return co.get(t)}function L0(t){return{evt:t,pointerId:t.pointerId}}function b8(t,e){return co.get(t)===e}function I8(t,e){Jv(t),e.getStage()&&(co.set(t,e),qv&&e._fire("gotpointercapture",L0(new PointerEvent("gotpointercapture"))))}function Jv(t,e){const n=co.get(t);if(!n)return;const r=n.getStage();r&&r.content,co.delete(t),qv&&n._fire("lostpointercapture",L0(new PointerEvent("lostpointercapture")))}(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Stage=t.stages=void 0;const e=Je,n=ve,r=Bi,l=pe,o=zn,a=Ku,c=pe,d=ui,g="Stage",x="string",k="px",w="mouseout",N="mouseleave",S="mouseover",E="mouseenter",T="mousemove",_="mousedown",C="mouseup",p="pointermove",m="pointerdown",P="pointerup",R="pointercancel",F="lostpointercapture",M="pointerout",I="pointerleave",L="pointerover",G="pointerenter",U="contextmenu",H="touchstart",X="touchend",$="touchmove",ge="touchcancel",Se="wheel",V=5,J=[[E,"_pointerenter"],[_,"_pointerdown"],[T,"_pointermove"],[C,"_pointerup"],[N,"_pointerleave"],[H,"_pointerdown"],[$,"_pointermove"],[X,"_pointerup"],[ge,"_pointercancel"],[S,"_pointerover"],[Se,"_wheel"],[U,"_contextmenu"],[m,"_pointerdown"],[p,"_pointermove"],[P,"_pointerup"],[R,"_pointercancel"],[I,"_pointerleave"],[F,"_lostpointercapture"]],Q={mouse:{[M]:w,[I]:N,[L]:S,[G]:E,[p]:T,[m]:_,[P]:C,[R]:"mousecancel",pointerclick:"click",pointerdblclick:"dblclick"},touch:{[M]:"touchout",[I]:"touchleave",[L]:"touchover",[G]:"touchenter",[p]:$,[m]:H,[P]:X,[R]:ge,pointerclick:"tap",pointerdblclick:"dbltap"},pointer:{[M]:M,[I]:I,[L]:L,[G]:G,[p]:p,[m]:m,[P]:P,[R]:R,pointerclick:"pointerclick",pointerdblclick:"pointerdblclick"}},q=Ie=>Ie.indexOf("pointer")>=0?"pointer":Ie.indexOf("touch")>=0?"touch":"mouse",se=Ie=>{const O=q(Ie);if(O==="pointer")return l.Konva.pointerEventsEnabled&&Q.pointer;if(O==="touch")return Q.touch;if(O==="mouse")return Q.mouse};function Pe(Ie={}){return(Ie.clipFunc||Ie.clipWidth||Ie.clipHeight)&&e.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),Ie}const _t="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";t.stages=[];class St extends r.Container{constructor(O){super(Pe(O)),this._pointerPositions=[],this._changedPointerPositions=[],this._buildDOM(),this._bindContentEvents(),t.stages.push(this),this.on("widthChange.konva heightChange.konva",this._resizeDOM),this.on("visibleChange.konva",this._checkVisibility),this.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",()=>{Pe(this.attrs)}),this._checkVisibility()}_validateAdd(O){const W=O.getType()==="Layer",le=O.getType()==="FastLayer";W||le||e.Util.throw("You may only add layers to the stage.")}_checkVisibility(){if(!this.content)return;const O=this.visible()?"":"none";this.content.style.display=O}setContainer(O){if(typeof O===x){let W;if(O.charAt(0)==="."){const le=O.slice(1);O=document.getElementsByClassName(le)[0]}else O.charAt(0)!=="#"?W=O:W=O.slice(1),O=document.getElementById(W);if(!O)throw"Can not find container in document with id "+W}return this._setAttr("container",O),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),O.appendChild(this.content)),this}shouldDrawHit(){return!0}clear(){const O=this.children,W=O.length;for(let le=0;le<W;le++)O[le].clear();return this}clone(O){return O||(O={}),O.container=typeof document<"u"&&document.createElement("div"),r.Container.prototype.clone.call(this,O)}destroy(){super.destroy();const O=this.content;O&&e.Util._isInDocument(O)&&this.container().removeChild(O);const W=t.stages.indexOf(this);return W>-1&&t.stages.splice(W,1),e.Util.releaseCanvas(this.bufferCanvas._canvas,this.bufferHitCanvas._canvas),this}getPointerPosition(){const O=this._pointerPositions[0]||this._changedPointerPositions[0];return O?{x:O.x,y:O.y}:(e.Util.warn(_t),null)}_getPointerById(O){return this._pointerPositions.find(W=>W.id===O)}getPointersPositions(){return this._pointerPositions}getStage(){return this}getContent(){return this.content}_toKonvaCanvas(O){O=O||{},O.x=O.x||0,O.y=O.y||0,O.width=O.width||this.width(),O.height=O.height||this.height();const W=new o.SceneCanvas({width:O.width,height:O.height,pixelRatio:O.pixelRatio||1}),le=W.getContext()._context,Te=this.children;return(O.x||O.y)&&le.translate(-1*O.x,-1*O.y),Te.forEach(function(he){if(!he.isVisible())return;const Ae=he._toKonvaCanvas(O);le.drawImage(Ae._canvas,O.x,O.y,Ae.getWidth()/Ae.getPixelRatio(),Ae.getHeight()/Ae.getPixelRatio())}),W}getIntersection(O){if(!O)return null;const W=this.children,le=W.length,Te=le-1;for(let he=Te;he>=0;he--){const Ae=W[he].getIntersection(O);if(Ae)return Ae}return null}_resizeDOM(){const O=this.width(),W=this.height();this.content&&(this.content.style.width=O+k,this.content.style.height=W+k),this.bufferCanvas.setSize(O,W),this.bufferHitCanvas.setSize(O,W),this.children.forEach(le=>{le.setSize({width:O,height:W}),le.draw()})}add(O,...W){if(arguments.length>1){for(let Te=0;Te<arguments.length;Te++)this.add(arguments[Te]);return this}super.add(O);const le=this.children.length;return le>V&&e.Util.warn("The stage has "+le+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),O.setSize({width:this.width(),height:this.height()}),O.draw(),l.Konva.isBrowser&&this.content.appendChild(O.canvas._canvas),this}getParent(){return null}getLayer(){return null}hasPointerCapture(O){return d.hasPointerCapture(O,this)}setPointerCapture(O){d.setPointerCapture(O,this)}releaseCapture(O){d.releaseCapture(O,this)}getLayers(){return this.children}_bindContentEvents(){l.Konva.isBrowser&&J.forEach(([O,W])=>{this.content.addEventListener(O,le=>{this[W](le)},{passive:!1})})}_pointerenter(O){this.setPointersPositions(O);const W=se(O.type);W&&this._fire(W.pointerenter,{evt:O,target:this,currentTarget:this})}_pointerover(O){this.setPointersPositions(O);const W=se(O.type);W&&this._fire(W.pointerover,{evt:O,target:this,currentTarget:this})}_getTargetShape(O){let W=this[O+"targetShape"];return W&&!W.getStage()&&(W=null),W}_pointerleave(O){const W=se(O.type),le=q(O.type);if(!W)return;this.setPointersPositions(O);const Te=this._getTargetShape(le),he=!(l.Konva.isDragging()||l.Konva.isTransforming())||l.Konva.hitOnDragEnabled;Te&&he?(Te._fireAndBubble(W.pointerout,{evt:O}),Te._fireAndBubble(W.pointerleave,{evt:O}),this._fire(W.pointerleave,{evt:O,target:this,currentTarget:this}),this[le+"targetShape"]=null):he&&(this._fire(W.pointerleave,{evt:O,target:this,currentTarget:this}),this._fire(W.pointerout,{evt:O,target:this,currentTarget:this})),this.pointerPos=null,this._pointerPositions=[]}_pointerdown(O){const W=se(O.type),le=q(O.type);if(!W)return;this.setPointersPositions(O);let Te=!1;this._changedPointerPositions.forEach(he=>{const Ae=this.getIntersection(he);if(a.DD.justDragged=!1,l.Konva["_"+le+"ListenClick"]=!0,!Ae||!Ae.isListening()){this[le+"ClickStartShape"]=void 0;return}l.Konva.capturePointerEventsEnabled&&Ae.setPointerCapture(he.id),this[le+"ClickStartShape"]=Ae,Ae._fireAndBubble(W.pointerdown,{evt:O,pointerId:he.id}),Te=!0;const De=O.type.indexOf("touch")>=0;Ae.preventDefault()&&O.cancelable&&De&&O.preventDefault()}),Te||this._fire(W.pointerdown,{evt:O,target:this,currentTarget:this,pointerId:this._pointerPositions[0].id})}_pointermove(O){const W=se(O.type),le=q(O.type);if(!W||(l.Konva.isDragging()&&a.DD.node.preventDefault()&&O.cancelable&&O.preventDefault(),this.setPointersPositions(O),!(!(l.Konva.isDragging()||l.Konva.isTransforming())||l.Konva.hitOnDragEnabled)))return;const he={};let Ae=!1;const De=this._getTargetShape(le);this._changedPointerPositions.forEach(Bn=>{const Me=d.getCapturedShape(Bn.id)||this.getIntersection(Bn),Tr=Bn.id,Nn={evt:O,pointerId:Tr},jr=De!==Me;if(jr&&De&&(De._fireAndBubble(W.pointerout,{...Nn},Me),De._fireAndBubble(W.pointerleave,{...Nn},Me)),Me){if(he[Me._id])return;he[Me._id]=!0}Me&&Me.isListening()?(Ae=!0,jr&&(Me._fireAndBubble(W.pointerover,{...Nn},De),Me._fireAndBubble(W.pointerenter,{...Nn},De),this[le+"targetShape"]=Me),Me._fireAndBubble(W.pointermove,{...Nn})):De&&(this._fire(W.pointerover,{evt:O,target:this,currentTarget:this,pointerId:Tr}),this[le+"targetShape"]=null)}),Ae||this._fire(W.pointermove,{evt:O,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})}_pointerup(O){const W=se(O.type),le=q(O.type);if(!W)return;this.setPointersPositions(O);const Te=this[le+"ClickStartShape"],he=this[le+"ClickEndShape"],Ae={};let De=!1;this._changedPointerPositions.forEach(Bn=>{const Me=d.getCapturedShape(Bn.id)||this.getIntersection(Bn);if(Me){if(Me.releaseCapture(Bn.id),Ae[Me._id])return;Ae[Me._id]=!0}const Tr=Bn.id,Nn={evt:O,pointerId:Tr};let jr=!1;l.Konva["_"+le+"InDblClickWindow"]?(jr=!0,clearTimeout(this[le+"DblTimeout"])):a.DD.justDragged||(l.Konva["_"+le+"InDblClickWindow"]=!0,clearTimeout(this[le+"DblTimeout"])),this[le+"DblTimeout"]=setTimeout(function(){l.Konva["_"+le+"InDblClickWindow"]=!1},l.Konva.dblClickWindow),Me&&Me.isListening()?(De=!0,this[le+"ClickEndShape"]=Me,Me._fireAndBubble(W.pointerup,{...Nn}),l.Konva["_"+le+"ListenClick"]&&Te&&Te===Me&&(Me._fireAndBubble(W.pointerclick,{...Nn}),jr&&he&&he===Me&&Me._fireAndBubble(W.pointerdblclick,{...Nn}))):(this[le+"ClickEndShape"]=null,l.Konva["_"+le+"ListenClick"]&&this._fire(W.pointerclick,{evt:O,target:this,currentTarget:this,pointerId:Tr}),jr&&this._fire(W.pointerdblclick,{evt:O,target:this,currentTarget:this,pointerId:Tr}))}),De||this._fire(W.pointerup,{evt:O,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),l.Konva["_"+le+"ListenClick"]=!1,O.cancelable&&le!=="touch"&&le!=="pointer"&&O.preventDefault()}_contextmenu(O){this.setPointersPositions(O);const W=this.getIntersection(this.getPointerPosition());W&&W.isListening()?W._fireAndBubble(U,{evt:O}):this._fire(U,{evt:O,target:this,currentTarget:this})}_wheel(O){this.setPointersPositions(O);const W=this.getIntersection(this.getPointerPosition());W&&W.isListening()?W._fireAndBubble(Se,{evt:O}):this._fire(Se,{evt:O,target:this,currentTarget:this})}_pointercancel(O){this.setPointersPositions(O);const W=d.getCapturedShape(O.pointerId)||this.getIntersection(this.getPointerPosition());W&&W._fireAndBubble(P,d.createEvent(O)),d.releaseCapture(O.pointerId)}_lostpointercapture(O){d.releaseCapture(O.pointerId)}setPointersPositions(O){const W=this._getContentPosition();let le=null,Te=null;O=O||window.event,O.touches!==void 0?(this._pointerPositions=[],this._changedPointerPositions=[],Array.prototype.forEach.call(O.touches,he=>{this._pointerPositions.push({id:he.identifier,x:(he.clientX-W.left)/W.scaleX,y:(he.clientY-W.top)/W.scaleY})}),Array.prototype.forEach.call(O.changedTouches||O.touches,he=>{this._changedPointerPositions.push({id:he.identifier,x:(he.clientX-W.left)/W.scaleX,y:(he.clientY-W.top)/W.scaleY})})):(le=(O.clientX-W.left)/W.scaleX,Te=(O.clientY-W.top)/W.scaleY,this.pointerPos={x:le,y:Te},this._pointerPositions=[{x:le,y:Te,id:e.Util._getFirstPointerId(O)}],this._changedPointerPositions=[{x:le,y:Te,id:e.Util._getFirstPointerId(O)}])}_setPointerPosition(O){e.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(O)}_getContentPosition(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};const O=this.content.getBoundingClientRect();return{top:O.top,left:O.left,scaleX:O.width/this.content.clientWidth||1,scaleY:O.height/this.content.clientHeight||1}}_buildDOM(){if(this.bufferCanvas=new o.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new o.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),!l.Konva.isBrowser)return;const O=this.container();if(!O)throw"Stage has no container. A container is required.";O.innerHTML="",this.content=document.createElement("div"),this.content.style.position="relative",this.content.style.userSelect="none",this.content.className="konvajs-content",this.content.setAttribute("role","presentation"),O.appendChild(this.content),this._resizeDOM()}cache(){return e.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this}clearCache(){return this}batchDraw(){return this.getChildren().forEach(function(O){O.batchDraw()}),this}}t.Stage=St,St.prototype.nodeType=g,(0,c._registerNode)(St),n.Factory.addGetterSetter(St,"container"),l.Konva.isBrowser&&document.addEventListener("visibilitychange",()=>{t.stages.forEach(Ie=>{Ie.batchDraw()})})})(Xv);var _o={},ht={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Shape=t.shapes=void 0;const e=pe,n=Je,r=ve,l=Ke,o=ae,a=pe,c=ui,d="hasShadow",g="shadowRGBA",x="patternImage",k="linearGradient",w="radialGradient";let N;function S(){return N||(N=n.Util.createCanvasElement().getContext("2d"),N)}t.shapes={};function E(I){const L=this.attrs.fillRule;L?I.fill(L):I.fill()}function T(I){I.stroke()}function _(I){const L=this.attrs.fillRule;L?I.fill(L):I.fill()}function C(I){I.stroke()}function p(){this._clearCache(d)}function m(){this._clearCache(g)}function P(){this._clearCache(x)}function R(){this._clearCache(k)}function F(){this._clearCache(w)}class M extends l.Node{constructor(L){super(L);let G;for(;G=n.Util.getRandomColor(),!(G&&!(G in t.shapes)););this.colorKey=G,t.shapes[G]=this}getContext(){return n.Util.warn("shape.getContext() method is deprecated. Please do not use it."),this.getLayer().getContext()}getCanvas(){return n.Util.warn("shape.getCanvas() method is deprecated. Please do not use it."),this.getLayer().getCanvas()}getSceneFunc(){return this.attrs.sceneFunc||this._sceneFunc}getHitFunc(){return this.attrs.hitFunc||this._hitFunc}hasShadow(){return this._getCache(d,this._hasShadow)}_hasShadow(){return this.shadowEnabled()&&this.shadowOpacity()!==0&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())}_getFillPattern(){return this._getCache(x,this.__getFillPattern)}__getFillPattern(){if(this.fillPatternImage()){const G=S().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");if(G&&G.setTransform){const U=new n.Transform;U.translate(this.fillPatternX(),this.fillPatternY()),U.rotate(e.Konva.getAngle(this.fillPatternRotation())),U.scale(this.fillPatternScaleX(),this.fillPatternScaleY()),U.translate(-1*this.fillPatternOffsetX(),-1*this.fillPatternOffsetY());const H=U.getMatrix(),X=typeof DOMMatrix>"u"?{a:H[0],b:H[1],c:H[2],d:H[3],e:H[4],f:H[5]}:new DOMMatrix(H);G.setTransform(X)}return G}}_getLinearGradient(){return this._getCache(k,this.__getLinearGradient)}__getLinearGradient(){const L=this.fillLinearGradientColorStops();if(L){const G=S(),U=this.fillLinearGradientStartPoint(),H=this.fillLinearGradientEndPoint(),X=G.createLinearGradient(U.x,U.y,H.x,H.y);for(let $=0;$<L.length;$+=2)X.addColorStop(L[$],L[$+1]);return X}}_getRadialGradient(){return this._getCache(w,this.__getRadialGradient)}__getRadialGradient(){const L=this.fillRadialGradientColorStops();if(L){const G=S(),U=this.fillRadialGradientStartPoint(),H=this.fillRadialGradientEndPoint(),X=G.createRadialGradient(U.x,U.y,this.fillRadialGradientStartRadius(),H.x,H.y,this.fillRadialGradientEndRadius());for(let $=0;$<L.length;$+=2)X.addColorStop(L[$],L[$+1]);return X}}getShadowRGBA(){return this._getCache(g,this._getShadowRGBA)}_getShadowRGBA(){if(!this.hasShadow())return;const L=n.Util.colorToRGBA(this.shadowColor());if(L)return"rgba("+L.r+","+L.g+","+L.b+","+L.a*(this.shadowOpacity()||1)+")"}hasFill(){return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],()=>this.fillEnabled()&&!!(this.fill()||this.fillPatternImage()||this.fillLinearGradientColorStops()||this.fillRadialGradientColorStops()))}hasStroke(){return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],()=>this.strokeEnabled()&&this.strokeWidth()&&!!(this.stroke()||this.strokeLinearGradientColorStops()))}hasHitStroke(){const L=this.hitStrokeWidth();return L==="auto"?this.hasStroke():this.strokeEnabled()&&!!L}intersects(L){const G=this.getStage();if(!G)return!1;const U=G.bufferHitCanvas;return U.getContext().clear(),this.drawHit(U,void 0,!0),U.context.getImageData(Math.round(L.x),Math.round(L.y),1,1).data[3]>0}destroy(){return l.Node.prototype.destroy.call(this),delete t.shapes[this.colorKey],delete this.colorKey,this}_useBufferCanvas(L){var G;if(!((G=this.attrs.perfectDrawEnabled)!==null&&G!==void 0?G:!0))return!1;const H=L||this.hasFill(),X=this.hasStroke(),$=this.getAbsoluteOpacity()!==1;if(H&&X&&$)return!0;const ge=this.hasShadow(),Se=this.shadowForStrokeEnabled();return!!(H&&X&&ge&&Se)}setStrokeHitEnabled(L){n.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),L?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)}getStrokeHitEnabled(){return this.hitStrokeWidth()!==0}getSelfRect(){const L=this.size();return{x:this._centroid?-L.width/2:0,y:this._centroid?-L.height/2:0,width:L.width,height:L.height}}getClientRect(L={}){let G=!1,U=this.getParent();for(;U;){if(U.isCached()){G=!0;break}U=U.getParent()}const H=L.skipTransform,X=L.relativeTo||G&&this.getStage()||void 0,$=this.getSelfRect(),Se=!L.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,V=$.width+Se,J=$.height+Se,Q=!L.skipShadow&&this.hasShadow(),q=Q?this.shadowOffsetX():0,se=Q?this.shadowOffsetY():0,Pe=V+Math.abs(q),_t=J+Math.abs(se),St=Q&&this.shadowBlur()||0,Ie=Pe+St*2,O=_t+St*2,W={width:Ie,height:O,x:-(Se/2+St)+Math.min(q,0)+$.x,y:-(Se/2+St)+Math.min(se,0)+$.y};return H?W:this._transformedRect(W,X)}drawScene(L,G,U){const H=this.getLayer(),X=L||H.getCanvas(),$=X.getContext(),ge=this._getCanvasCache(),Se=this.getSceneFunc(),V=this.hasShadow();let J;const Q=G===this;if(!this.isVisible()&&!Q)return this;if(ge){$.save();const q=this.getAbsoluteTransform(G).getMatrix();return $.transform(q[0],q[1],q[2],q[3],q[4],q[5]),this._drawCachedSceneCanvas($),$.restore(),this}if(!Se)return this;if($.save(),this._useBufferCanvas()){J=this.getStage();const q=U||J.bufferCanvas,se=q.getContext();se.clear(),se.save(),se._applyLineJoin(this);const Pe=this.getAbsoluteTransform(G).getMatrix();se.transform(Pe[0],Pe[1],Pe[2],Pe[3],Pe[4],Pe[5]),Se.call(this,se,this),se.restore();const _t=q.pixelRatio;V&&$._applyShadow(this),$._applyOpacity(this),$._applyGlobalCompositeOperation(this),$.drawImage(q._canvas,q.x||0,q.y||0,q.width/_t,q.height/_t)}else{if($._applyLineJoin(this),!Q){const q=this.getAbsoluteTransform(G).getMatrix();$.transform(q[0],q[1],q[2],q[3],q[4],q[5]),$._applyOpacity(this),$._applyGlobalCompositeOperation(this)}V&&$._applyShadow(this),Se.call(this,$,this)}return $.restore(),this}drawHit(L,G,U=!1){if(!this.shouldDrawHit(G,U))return this;const H=this.getLayer(),X=L||H.hitCanvas,$=X&&X.getContext(),ge=this.hitFunc()||this.sceneFunc(),Se=this._getCanvasCache(),V=Se&&Se.hit;if(this.colorKey||n.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. If you want to reuse shape you should call remove() instead of destroy()"),V){$.save();const Q=this.getAbsoluteTransform(G).getMatrix();return $.transform(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5]),this._drawCachedHitCanvas($),$.restore(),this}if(!ge)return this;if($.save(),$._applyLineJoin(this),!(this===G)){const Q=this.getAbsoluteTransform(G).getMatrix();$.transform(Q[0],Q[1],Q[2],Q[3],Q[4],Q[5])}return ge.call(this,$,this),$.restore(),this}drawHitFromCache(L=0){const G=this._getCanvasCache(),U=this._getCachedSceneCanvas(),H=G.hit,X=H.getContext(),$=H.getWidth(),ge=H.getHeight();X.clear(),X.drawImage(U._canvas,0,0,$,ge);try{const Se=X.getImageData(0,0,$,ge),V=Se.data,J=V.length,Q=n.Util._hexToRgb(this.colorKey);for(let q=0;q<J;q+=4)V[q+3]>L?(V[q]=Q.r,V[q+1]=Q.g,V[q+2]=Q.b,V[q+3]=255):V[q+3]=0;X.putImageData(Se,0,0)}catch(Se){n.Util.error("Unable to draw hit graph from cached scene canvas. "+Se.message)}return this}hasPointerCapture(L){return c.hasPointerCapture(L,this)}setPointerCapture(L){c.setPointerCapture(L,this)}releaseCapture(L){c.releaseCapture(L,this)}}t.Shape=M,M.prototype._fillFunc=E,M.prototype._strokeFunc=T,M.prototype._fillFuncHit=_,M.prototype._strokeFuncHit=C,M.prototype._centroid=!1,M.prototype.nodeType="Shape",(0,a._registerNode)(M),M.prototype.eventListeners={},M.prototype.on.call(M.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",p),M.prototype.on.call(M.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",m),M.prototype.on.call(M.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva fillPatternOffsetXChange.konva fillPatternOffsetYChange.konva fillPatternXChange.konva fillPatternYChange.konva fillPatternRotationChange.konva",P),M.prototype.on.call(M.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",R),M.prototype.on.call(M.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",F),r.Factory.addGetterSetter(M,"stroke",void 0,(0,o.getStringOrGradientValidator)()),r.Factory.addGetterSetter(M,"strokeWidth",2,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(M,"fillAfterStrokeEnabled",!1),r.Factory.addGetterSetter(M,"hitStrokeWidth","auto",(0,o.getNumberOrAutoValidator)()),r.Factory.addGetterSetter(M,"strokeHitEnabled",!0,(0,o.getBooleanValidator)()),r.Factory.addGetterSetter(M,"perfectDrawEnabled",!0,(0,o.getBooleanValidator)()),r.Factory.addGetterSetter(M,"shadowForStrokeEnabled",!0,(0,o.getBooleanValidator)()),r.Factory.addGetterSetter(M,"lineJoin"),r.Factory.addGetterSetter(M,"lineCap"),r.Factory.addGetterSetter(M,"sceneFunc"),r.Factory.addGetterSetter(M,"hitFunc"),r.Factory.addGetterSetter(M,"dash"),r.Factory.addGetterSetter(M,"dashOffset",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(M,"shadowColor",void 0,(0,o.getStringValidator)()),r.Factory.addGetterSetter(M,"shadowBlur",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(M,"shadowOpacity",1,(0,o.getNumberValidator)()),r.Factory.addComponentsGetterSetter(M,"shadowOffset",["x","y"]),r.Factory.addGetterSetter(M,"shadowOffsetX",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(M,"shadowOffsetY",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(M,"fillPatternImage"),r.Factory.addGetterSetter(M,"fill",void 0,(0,o.getStringOrGradientValidator)()),r.Factory.addGetterSetter(M,"fillPatternX",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(M,"fillPatternY",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(M,"fillLinearGradientColorStops"),r.Factory.addGetterSetter(M,"strokeLinearGradientColorStops"),r.Factory.addGetterSetter(M,"fillRadialGradientStartRadius",0),r.Factory.addGetterSetter(M,"fillRadialGradientEndRadius",0),r.Factory.addGetterSetter(M,"fillRadialGradientColorStops"),r.Factory.addGetterSetter(M,"fillPatternRepeat","repeat"),r.Factory.addGetterSetter(M,"fillEnabled",!0),r.Factory.addGetterSetter(M,"strokeEnabled",!0),r.Factory.addGetterSetter(M,"shadowEnabled",!0),r.Factory.addGetterSetter(M,"dashEnabled",!0),r.Factory.addGetterSetter(M,"strokeScaleEnabled",!0),r.Factory.addGetterSetter(M,"fillPriority","color"),r.Factory.addComponentsGetterSetter(M,"fillPatternOffset",["x","y"]),r.Factory.addGetterSetter(M,"fillPatternOffsetX",0,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(M,"fillPatternOffsetY",0,(0,o.getNumberValidator)()),r.Factory.addComponentsGetterSetter(M,"fillPatternScale",["x","y"]),r.Factory.addGetterSetter(M,"fillPatternScaleX",1,(0,o.getNumberValidator)()),r.Factory.addGetterSetter(M,"fillPatternScaleY",1,(0,o.getNumberValidator)()),r.Factory.addComponentsGetterSetter(M,"fillLinearGradientStartPoint",["x","y"]),r.Factory.addComponentsGetterSetter(M,"strokeLinearGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(M,"fillLinearGradientStartPointX",0),r.Factory.addGetterSetter(M,"strokeLinearGradientStartPointX",0),r.Factory.addGetterSetter(M,"fillLinearGradientStartPointY",0),r.Factory.addGetterSetter(M,"strokeLinearGradientStartPointY",0),r.Factory.addComponentsGetterSetter(M,"fillLinearGradientEndPoint",["x","y"]),r.Factory.addComponentsGetterSetter(M,"strokeLinearGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(M,"fillLinearGradientEndPointX",0),r.Factory.addGetterSetter(M,"strokeLinearGradientEndPointX",0),r.Factory.addGetterSetter(M,"fillLinearGradientEndPointY",0),r.Factory.addGetterSetter(M,"strokeLinearGradientEndPointY",0),r.Factory.addComponentsGetterSetter(M,"fillRadialGradientStartPoint",["x","y"]),r.Factory.addGetterSetter(M,"fillRadialGradientStartPointX",0),r.Factory.addGetterSetter(M,"fillRadialGradientStartPointY",0),r.Factory.addComponentsGetterSetter(M,"fillRadialGradientEndPoint",["x","y"]),r.Factory.addGetterSetter(M,"fillRadialGradientEndPointX",0),r.Factory.addGetterSetter(M,"fillRadialGradientEndPointY",0),r.Factory.addGetterSetter(M,"fillPatternRotation",0),r.Factory.addGetterSetter(M,"fillRule",void 0,(0,o.getStringValidator)()),r.Factory.backCompat(M,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"})})(ht);Object.defineProperty(_o,"__esModule",{value:!0});_o.Layer=void 0;const dr=Je,Ch=Bi,fs=Ke,A0=ve,Jg=zn,D8=ae,z8=ht,U8=pe,G8="#",B8="beforeDraw",V8="draw",Zv=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],H8=Zv.length;let Ys=class extends Ch.Container{constructor(e){super(e),this.canvas=new Jg.SceneCanvas,this.hitCanvas=new Jg.HitCanvas({pixelRatio:1}),this._waitingForDraw=!1,this.on("visibleChange.konva",this._checkVisibility),this._checkVisibility(),this.on("imageSmoothingEnabledChange.konva",this._setSmoothEnabled),this._setSmoothEnabled()}createPNGStream(){return this.canvas._canvas.createPNGStream()}getCanvas(){return this.canvas}getNativeCanvasElement(){return this.canvas._canvas}getHitCanvas(){return this.hitCanvas}getContext(){return this.getCanvas().getContext()}clear(e){return this.getContext().clear(e),this.getHitCanvas().getContext().clear(e),this}setZIndex(e){super.setZIndex(e);const n=this.getStage();return n&&n.content&&(n.content.removeChild(this.getNativeCanvasElement()),e<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement())),this}moveToTop(){fs.Node.prototype.moveToTop.call(this);const e=this.getStage();return e&&e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.appendChild(this.getNativeCanvasElement())),!0}moveUp(){if(!fs.Node.prototype.moveUp.call(this))return!1;const n=this.getStage();return!n||!n.content?!1:(n.content.removeChild(this.getNativeCanvasElement()),this.index<n.children.length-1?n.content.insertBefore(this.getNativeCanvasElement(),n.children[this.index+1].getCanvas()._canvas):n.content.appendChild(this.getNativeCanvasElement()),!0)}moveDown(){if(fs.Node.prototype.moveDown.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[this.index+1].getCanvas()._canvas))}return!0}return!1}moveToBottom(){if(fs.Node.prototype.moveToBottom.call(this)){const e=this.getStage();if(e){const n=e.children;e.content&&(e.content.removeChild(this.getNativeCanvasElement()),e.content.insertBefore(this.getNativeCanvasElement(),n[1].getCanvas()._canvas))}return!0}return!1}getLayer(){return this}remove(){const e=this.getNativeCanvasElement();return fs.Node.prototype.remove.call(this),e&&e.parentNode&&dr.Util._isInDocument(e)&&e.parentNode.removeChild(e),this}getStage(){return this.parent}setSize({width:e,height:n}){return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this}_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&dr.Util.throw("You may only add groups and shapes to a layer.")}_toKonvaCanvas(e){return e=e||{},e.width=e.width||this.getWidth(),e.height=e.height||this.getHeight(),e.x=e.x!==void 0?e.x:this.x(),e.y=e.y!==void 0?e.y:this.y(),fs.Node.prototype._toKonvaCanvas.call(this,e)}_checkVisibility(){this.visible()?this.canvas._canvas.style.display="block":this.canvas._canvas.style.display="none"}_setSmoothEnabled(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()}getWidth(){if(this.parent)return this.parent.width()}setWidth(){dr.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')}getHeight(){if(this.parent)return this.parent.height()}setHeight(){dr.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')}batchDraw(){return this._waitingForDraw||(this._waitingForDraw=!0,dr.Util.requestAnimFrame(()=>{this.draw(),this._waitingForDraw=!1})),this}getIntersection(e){if(!this.isListening()||!this.isVisible())return null;let n=1,r=!1;for(;;){for(let l=0;l<H8;l++){const o=Zv[l],a=this._getIntersection({x:e.x+o.x*n,y:e.y+o.y*n}),c=a.shape;if(c)return c;if(r=!!a.antialiased,!a.antialiased)break}if(r)n+=1;else return null}}_getIntersection(e){const n=this.hitCanvas.pixelRatio,r=this.hitCanvas.context.getImageData(Math.round(e.x*n),Math.round(e.y*n),1,1).data,l=r[3];if(l===255){const o=dr.Util._rgbToHex(r[0],r[1],r[2]),a=z8.shapes[G8+o];return a?{shape:a}:{antialiased:!0}}else if(l>0)return{antialiased:!0};return{}}drawScene(e,n,r){const l=this.getLayer(),o=e||l&&l.getCanvas();return this._fire(B8,{node:this}),this.clearBeforeDraw()&&o.getContext().clear(),Ch.Container.prototype.drawScene.call(this,o,n,r),this._fire(V8,{node:this}),this}drawHit(e,n){const r=this.getLayer(),l=e||r&&r.hitCanvas;return r&&r.clearBeforeDraw()&&r.getHitCanvas().getContext().clear(),Ch.Container.prototype.drawHit.call(this,l,n),this}enableHitGraph(){return this.hitGraphEnabled(!0),this}disableHitGraph(){return this.hitGraphEnabled(!1),this}setHitGraphEnabled(e){dr.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(e)}getHitGraphEnabled(e){return dr.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()}toggleHitCanvas(){if(!this.parent||!this.parent.content)return;const e=this.parent;!!this.hitCanvas._canvas.parentNode?e.content.removeChild(this.hitCanvas._canvas):e.content.appendChild(this.hitCanvas._canvas)}destroy(){return dr.Util.releaseCanvas(this.getNativeCanvasElement(),this.getHitCanvas()._canvas),super.destroy()}};_o.Layer=Ys;Ys.prototype.nodeType="Layer";(0,U8._registerNode)(Ys);A0.Factory.addGetterSetter(Ys,"imageSmoothingEnabled",!0);A0.Factory.addGetterSetter(Ys,"clearBeforeDraw",!0);A0.Factory.addGetterSetter(Ys,"hitGraphEnabled",!0,(0,D8.getBooleanValidator)());var Yu={};Object.defineProperty(Yu,"__esModule",{value:!0});Yu.FastLayer=void 0;const W8=Je,K8=_o,$8=pe;class O0 extends K8.Layer{constructor(e){super(e),this.listening(!1),W8.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.')}}Yu.FastLayer=O0;O0.prototype.nodeType="FastLayer";(0,$8._registerNode)(O0);var Qs={};Object.defineProperty(Qs,"__esModule",{value:!0});Qs.Group=void 0;const Y8=Je,Q8=Bi,X8=pe;class b0 extends Q8.Container{_validateAdd(e){const n=e.getType();n!=="Group"&&n!=="Shape"&&Y8.Util.throw("You may only add groups and shapes to groups.")}}Qs.Group=b0;b0.prototype.nodeType="Group";(0,X8._registerNode)(b0);var Xs={};Object.defineProperty(Xs,"__esModule",{value:!0});Xs.Animation=void 0;const kh=pe,Zg=Je,Nh=function(){return kh.glob.performance&&kh.glob.performance.now?function(){return kh.glob.performance.now()}:function(){return new Date().getTime()}}();class er{constructor(e,n){this.id=er.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:Nh(),frameRate:0},this.func=e,this.setLayers(n)}setLayers(e){let n=[];return e&&(n=Array.isArray(e)?e:[e]),this.layers=n,this}getLayers(){return this.layers}addLayer(e){const n=this.layers,r=n.length;for(let l=0;l<r;l++)if(n[l]._id===e._id)return!1;return this.layers.push(e),!0}isRunning(){const n=er.animations,r=n.length;for(let l=0;l<r;l++)if(n[l].id===this.id)return!0;return!1}start(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=Nh(),er._addAnimation(this),this}stop(){return er._removeAnimation(this),this}_updateFrameObject(e){this.frame.timeDiff=e-this.frame.lastTime,this.frame.lastTime=e,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff}static _addAnimation(e){this.animations.push(e),this._handleAnimation()}static _removeAnimation(e){const n=e.id,r=this.animations,l=r.length;for(let o=0;o<l;o++)if(r[o].id===n){this.animations.splice(o,1);break}}static _runFrames(){const e={},n=this.animations;for(let r=0;r<n.length;r++){const l=n[r],o=l.layers,a=l.func;l._updateFrameObject(Nh());const c=o.length;let d;if(a?d=a.call(l,l.frame)!==!1:d=!0,!!d)for(let g=0;g<c;g++){const x=o[g];x._id!==void 0&&(e[x._id]=x)}}for(const r in e)e.hasOwnProperty(r)&&e[r].batchDraw()}static _animationLoop(){const e=er;e.animations.length?(e._runFrames(),Zg.Util.requestAnimFrame(e._animationLoop)):e.animRunning=!1}static _handleAnimation(){this.animRunning||(this.animRunning=!0,Zg.Util.requestAnimFrame(this._animationLoop))}}Xs.Animation=er;er.animations=[];er.animIdCounter=0;er.animRunning=!1;var e4={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Easings=t.Tween=void 0;const e=Je,n=Xs,r=Ke,l=pe,o={node:1,duration:1,easing:1,onFinish:1,yoyo:1},a=1,c=2,d=3,g=["fill","stroke","shadowColor"];let x=0;class k{constructor(S,E,T,_,C,p,m){this.prop=S,this.propFunc=E,this.begin=_,this._pos=_,this.duration=p,this._change=0,this.prevPos=0,this.yoyo=m,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=T,this._change=C-this.begin,this.pause()}fire(S){const E=this[S];E&&E()}setTime(S){S>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():S<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=S,this.update())}getTime(){return this._time}setPosition(S){this.prevPos=this._pos,this.propFunc(S),this._pos=S}getPosition(S){return S===void 0&&(S=this._time),this.func(S,this.begin,this._change,this.duration)}play(){this.state=c,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")}reverse(){this.state=d,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")}seek(S){this.pause(),this._time=S,this.update(),this.fire("onSeek")}reset(){this.pause(),this._time=0,this.update(),this.fire("onReset")}finish(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")}update(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")}onEnterFrame(){const S=this.getTimer()-this._startTime;this.state===c?this.setTime(S):this.state===d&&this.setTime(this.duration-S)}pause(){this.state=a,this.fire("onPause")}getTimer(){return new Date().getTime()}}class w{constructor(S){const E=this,T=S.node,_=T._id,C=S.easing||t.Easings.Linear,p=!!S.yoyo;let m,P;typeof S.duration>"u"?m=.3:S.duration===0?m=.001:m=S.duration,this.node=T,this._id=x++;const R=T.getLayer()||(T instanceof l.Konva.Stage?T.getLayers():null);R||e.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new n.Animation(function(){E.tween.onEnterFrame()},R),this.tween=new k(P,function(F){E._tweenFunc(F)},C,0,1,m*1e3,p),this._addListeners(),w.attrs[_]||(w.attrs[_]={}),w.attrs[_][this._id]||(w.attrs[_][this._id]={}),w.tweens[_]||(w.tweens[_]={});for(P in S)o[P]===void 0&&this._addAttr(P,S[P]);this.reset(),this.onFinish=S.onFinish,this.onReset=S.onReset,this.onUpdate=S.onUpdate}_addAttr(S,E){const T=this.node,_=T._id;let C,p,m,P,R;const F=w.tweens[_][S];F&&delete w.attrs[_][F][S];let M=T.getAttr(S);if(e.Util._isArray(E))if(C=[],p=Math.max(E.length,M.length),S==="points"&&E.length!==M.length&&(E.length>M.length?(P=M,M=e.Util._prepareArrayForTween(M,E,T.closed())):(m=E,E=e.Util._prepareArrayForTween(E,M,T.closed()))),S.indexOf("fill")===0)for(let I=0;I<p;I++)if(I%2===0)C.push(E[I]-M[I]);else{const L=e.Util.colorToRGBA(M[I]);R=e.Util.colorToRGBA(E[I]),M[I]=L,C.push({r:R.r-L.r,g:R.g-L.g,b:R.b-L.b,a:R.a-L.a})}else for(let I=0;I<p;I++)C.push(E[I]-M[I]);else g.indexOf(S)!==-1?(M=e.Util.colorToRGBA(M),R=e.Util.colorToRGBA(E),C={r:R.r-M.r,g:R.g-M.g,b:R.b-M.b,a:R.a-M.a}):C=E-M;w.attrs[_][this._id][S]={start:M,diff:C,end:E,trueEnd:m,trueStart:P},w.tweens[_][S]=this._id}_tweenFunc(S){const E=this.node,T=w.attrs[E._id][this._id];let _,C,p,m,P,R,F,M;for(_ in T){if(C=T[_],p=C.start,m=C.diff,M=C.end,e.Util._isArray(p))if(P=[],F=Math.max(p.length,M.length),_.indexOf("fill")===0)for(R=0;R<F;R++)R%2===0?P.push((p[R]||0)+m[R]*S):P.push("rgba("+Math.round(p[R].r+m[R].r*S)+","+Math.round(p[R].g+m[R].g*S)+","+Math.round(p[R].b+m[R].b*S)+","+(p[R].a+m[R].a*S)+")");else for(R=0;R<F;R++)P.push((p[R]||0)+m[R]*S);else g.indexOf(_)!==-1?P="rgba("+Math.round(p.r+m.r*S)+","+Math.round(p.g+m.g*S)+","+Math.round(p.b+m.b*S)+","+(p.a+m.a*S)+")":P=p+m*S;E.setAttr(_,P)}}_addListeners(){this.tween.onPlay=()=>{this.anim.start()},this.tween.onReverse=()=>{this.anim.start()},this.tween.onPause=()=>{this.anim.stop()},this.tween.onFinish=()=>{const S=this.node,E=w.attrs[S._id][this._id];E.points&&E.points.trueEnd&&S.setAttr("points",E.points.trueEnd),this.onFinish&&this.onFinish.call(this)},this.tween.onReset=()=>{const S=this.node,E=w.attrs[S._id][this._id];E.points&&E.points.trueStart&&S.points(E.points.trueStart),this.onReset&&this.onReset()},this.tween.onUpdate=()=>{this.onUpdate&&this.onUpdate.call(this)}}play(){return this.tween.play(),this}reverse(){return this.tween.reverse(),this}reset(){return this.tween.reset(),this}seek(S){return this.tween.seek(S*1e3),this}pause(){return this.tween.pause(),this}finish(){return this.tween.finish(),this}destroy(){const S=this.node._id,E=this._id,T=w.tweens[S];this.pause(),this.anim&&this.anim.stop();for(const _ in T)delete w.tweens[S][_];delete w.attrs[S][E],w.tweens[S]&&(Object.keys(w.tweens[S]).length===0&&delete w.tweens[S],Object.keys(w.attrs[S]).length===0&&delete w.attrs[S])}}t.Tween=w,w.attrs={},w.tweens={},r.Node.prototype.to=function(N){const S=N.onFinish;N.node=this,N.onFinish=function(){this.destroy(),S&&S()},new w(N).play()},t.Easings={BackEaseIn(N,S,E,T){return E*(N/=T)*N*((1.70158+1)*N-1.70158)+S},BackEaseOut(N,S,E,T){return E*((N=N/T-1)*N*((1.70158+1)*N+1.70158)+1)+S},BackEaseInOut(N,S,E,T){let _=1.70158;return(N/=T/2)<1?E/2*(N*N*(((_*=1.525)+1)*N-_))+S:E/2*((N-=2)*N*(((_*=1.525)+1)*N+_)+2)+S},ElasticEaseIn(N,S,E,T,_,C){let p=0;return N===0?S:(N/=T)===1?S+E:(C||(C=T*.3),!_||_<Math.abs(E)?(_=E,p=C/4):p=C/(2*Math.PI)*Math.asin(E/_),-(_*Math.pow(2,10*(N-=1))*Math.sin((N*T-p)*(2*Math.PI)/C))+S)},ElasticEaseOut(N,S,E,T,_,C){let p=0;return N===0?S:(N/=T)===1?S+E:(C||(C=T*.3),!_||_<Math.abs(E)?(_=E,p=C/4):p=C/(2*Math.PI)*Math.asin(E/_),_*Math.pow(2,-10*N)*Math.sin((N*T-p)*(2*Math.PI)/C)+E+S)},ElasticEaseInOut(N,S,E,T,_,C){let p=0;return N===0?S:(N/=T/2)===2?S+E:(C||(C=T*(.3*1.5)),!_||_<Math.abs(E)?(_=E,p=C/4):p=C/(2*Math.PI)*Math.asin(E/_),N<1?-.5*(_*Math.pow(2,10*(N-=1))*Math.sin((N*T-p)*(2*Math.PI)/C))+S:_*Math.pow(2,-10*(N-=1))*Math.sin((N*T-p)*(2*Math.PI)/C)*.5+E+S)},BounceEaseOut(N,S,E,T){return(N/=T)<1/2.75?E*(7.5625*N*N)+S:N<2/2.75?E*(7.5625*(N-=1.5/2.75)*N+.75)+S:N<2.5/2.75?E*(7.5625*(N-=2.25/2.75)*N+.9375)+S:E*(7.5625*(N-=2.625/2.75)*N+.984375)+S},BounceEaseIn(N,S,E,T){return E-t.Easings.BounceEaseOut(T-N,0,E,T)+S},BounceEaseInOut(N,S,E,T){return N<T/2?t.Easings.BounceEaseIn(N*2,0,E,T)*.5+S:t.Easings.BounceEaseOut(N*2-T,0,E,T)*.5+E*.5+S},EaseIn(N,S,E,T){return E*(N/=T)*N+S},EaseOut(N,S,E,T){return-E*(N/=T)*(N-2)+S},EaseInOut(N,S,E,T){return(N/=T/2)<1?E/2*N*N+S:-E/2*(--N*(N-2)-1)+S},StrongEaseIn(N,S,E,T){return E*(N/=T)*N*N*N*N+S},StrongEaseOut(N,S,E,T){return E*((N=N/T-1)*N*N*N*N+1)+S},StrongEaseInOut(N,S,E,T){return(N/=T/2)<1?E/2*N*N*N*N*N+S:E/2*((N-=2)*N*N*N*N+2)+S},Linear(N,S,E,T){return E*N/T+S}}})(e4);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.Konva=void 0;const e=pe,n=Je,r=Ke,l=Bi,o=Xv,a=_o,c=Yu,d=Qs,g=Ku,x=ht,k=Xs,w=e4,N=yr,S=zn;t.Konva=n.Util._assign(e.Konva,{Util:n.Util,Transform:n.Transform,Node:r.Node,Container:l.Container,Stage:o.Stage,stages:o.stages,Layer:a.Layer,FastLayer:c.FastLayer,Group:d.Group,DD:g.DD,Shape:x.Shape,shapes:x.shapes,Animation:k.Animation,Tween:w.Tween,Easings:w.Easings,Context:N.Context,Canvas:S.Canvas}),t.default=t.Konva})(Cu);var Qu={};Object.defineProperty(Qu,"__esModule",{value:!0});Qu.Arc=void 0;const Xu=ve,q8=ht,em=pe,qu=ae,J8=pe;class Pr extends q8.Shape{_sceneFunc(e){const n=em.Konva.getAngle(this.angle()),r=this.clockwise();e.beginPath(),e.arc(0,0,this.outerRadius(),0,n,r),e.arc(0,0,this.innerRadius(),n,0,!r),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}getSelfRect(){const e=this.innerRadius(),n=this.outerRadius(),r=this.clockwise(),l=em.Konva.getAngle(r?360-this.angle():this.angle()),o=Math.cos(Math.min(l,Math.PI)),a=1,c=Math.sin(Math.min(Math.max(Math.PI,l),3*Math.PI/2)),d=Math.sin(Math.min(l,Math.PI/2)),g=o*(o>0?e:n),x=a*n,k=c*(c>0?e:n),w=d*(d>0?n:e);return{x:g,y:r?-1*w:k,width:x-g,height:w-k}}}Qu.Arc=Pr;Pr.prototype._centroid=!0;Pr.prototype.className="Arc";Pr.prototype._attrsAffectingSize=["innerRadius","outerRadius","angle","clockwise"];(0,J8._registerNode)(Pr);Xu.Factory.addGetterSetter(Pr,"innerRadius",0,(0,qu.getNumberValidator)());Xu.Factory.addGetterSetter(Pr,"outerRadius",0,(0,qu.getNumberValidator)());Xu.Factory.addGetterSetter(Pr,"angle",0,(0,qu.getNumberValidator)());Xu.Factory.addGetterSetter(Pr,"clockwise",!1,(0,qu.getBooleanValidator)());var Ju={},So={};Object.defineProperty(So,"__esModule",{value:!0});So.Line=void 0;const Zu=ve,Z8=pe,ex=ht,t4=ae;function jf(t,e,n,r,l,o,a){const c=Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2)),d=Math.sqrt(Math.pow(l-n,2)+Math.pow(o-r,2)),g=a*c/(c+d),x=a*d/(c+d),k=n-g*(l-t),w=r-g*(o-e),N=n+x*(l-t),S=r+x*(o-e);return[k,w,N,S]}function tm(t,e){const n=t.length,r=[];for(let l=2;l<n-2;l+=2){const o=jf(t[l-2],t[l-1],t[l],t[l+1],t[l+2],t[l+3],e);isNaN(o[0])||(r.push(o[0]),r.push(o[1]),r.push(t[l]),r.push(t[l+1]),r.push(o[2]),r.push(o[3]))}return r}class ci extends ex.Shape{constructor(e){super(e),this.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",function(){this._clearCache("tensionPoints")})}_sceneFunc(e){const n=this.points(),r=n.length,l=this.tension(),o=this.closed(),a=this.bezier();if(!r)return;let c=0;if(e.beginPath(),e.moveTo(n[0],n[1]),l!==0&&r>4){const d=this.getTensionPoints(),g=d.length;for(c=o?0:4,o||e.quadraticCurveTo(d[0],d[1],d[2],d[3]);c<g-2;)e.bezierCurveTo(d[c++],d[c++],d[c++],d[c++],d[c++],d[c++]);o||e.quadraticCurveTo(d[g-2],d[g-1],n[r-2],n[r-1])}else if(a)for(c=2;c<r;)e.bezierCurveTo(n[c++],n[c++],n[c++],n[c++],n[c++],n[c++]);else for(c=2;c<r;c+=2)e.lineTo(n[c],n[c+1]);o?(e.closePath(),e.fillStrokeShape(this)):e.strokeShape(this)}getTensionPoints(){return this._getCache("tensionPoints",this._getTensionPoints)}_getTensionPoints(){return this.closed()?this._getTensionPointsClosed():tm(this.points(),this.tension())}_getTensionPointsClosed(){const e=this.points(),n=e.length,r=this.tension(),l=jf(e[n-2],e[n-1],e[0],e[1],e[2],e[3],r),o=jf(e[n-4],e[n-3],e[n-2],e[n-1],e[0],e[1],r),a=tm(e,r);return[l[2],l[3]].concat(a).concat([o[0],o[1],e[n-2],e[n-1],o[2],o[3],l[0],l[1],e[0],e[1]])}getWidth(){return this.getSelfRect().width}getHeight(){return this.getSelfRect().height}getSelfRect(){let e=this.points();if(e.length<4)return{x:e[0]||0,y:e[1]||0,width:0,height:0};this.tension()!==0?e=[e[0],e[1],...this._getTensionPoints(),e[e.length-2],e[e.length-1]]:e=this.points();let n=e[0],r=e[0],l=e[1],o=e[1],a,c;for(let d=0;d<e.length/2;d++)a=e[d*2],c=e[d*2+1],n=Math.min(n,a),r=Math.max(r,a),l=Math.min(l,c),o=Math.max(o,c);return{x:n,y:l,width:r-n,height:o-l}}}So.Line=ci;ci.prototype.className="Line";ci.prototype._attrsAffectingSize=["points","bezier","tension"];(0,Z8._registerNode)(ci);Zu.Factory.addGetterSetter(ci,"closed",!1);Zu.Factory.addGetterSetter(ci,"bezier",!1);Zu.Factory.addGetterSetter(ci,"tension",0,(0,t4.getNumberValidator)());Zu.Factory.addGetterSetter(ci,"points",[],(0,t4.getNumberArrayValidator)());var qs={},n4={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.t2length=t.getQuadraticArcLength=t.getCubicArcLength=t.binomialCoefficients=t.cValues=t.tValues=void 0,t.tValues=[[],[],[-.5773502691896257,.5773502691896257],[0,-.7745966692414834,.7745966692414834],[-.33998104358485626,.33998104358485626,-.8611363115940526,.8611363115940526],[0,-.5384693101056831,.5384693101056831,-.906179845938664,.906179845938664],[.6612093864662645,-.6612093864662645,-.2386191860831969,.2386191860831969,-.932469514203152,.932469514203152],[0,.4058451513773972,-.4058451513773972,-.7415311855993945,.7415311855993945,-.9491079123427585,.9491079123427585],[-.1834346424956498,.1834346424956498,-.525532409916329,.525532409916329,-.7966664774136267,.7966664774136267,-.9602898564975363,.9602898564975363],[0,-.8360311073266358,.8360311073266358,-.9681602395076261,.9681602395076261,-.3242534234038089,.3242534234038089,-.6133714327005904,.6133714327005904],[-.14887433898163122,.14887433898163122,-.4333953941292472,.4333953941292472,-.6794095682990244,.6794095682990244,-.8650633666889845,.8650633666889845,-.9739065285171717,.9739065285171717],[0,-.26954315595234496,.26954315595234496,-.5190961292068118,.5190961292068118,-.7301520055740494,.7301520055740494,-.8870625997680953,.8870625997680953,-.978228658146057,.978228658146057],[-.1252334085114689,.1252334085114689,-.3678314989981802,.3678314989981802,-.5873179542866175,.5873179542866175,-.7699026741943047,.7699026741943047,-.9041172563704749,.9041172563704749,-.9815606342467192,.9815606342467192],[0,-.2304583159551348,.2304583159551348,-.44849275103644687,.44849275103644687,-.6423493394403402,.6423493394403402,-.8015780907333099,.8015780907333099,-.9175983992229779,.9175983992229779,-.9841830547185881,.9841830547185881],[-.10805494870734367,.10805494870734367,-.31911236892788974,.31911236892788974,-.5152486363581541,.5152486363581541,-.6872929048116855,.6872929048116855,-.827201315069765,.827201315069765,-.9284348836635735,.9284348836635735,-.9862838086968123,.9862838086968123],[0,-.20119409399743451,.20119409399743451,-.3941513470775634,.3941513470775634,-.5709721726085388,.5709721726085388,-.7244177313601701,.7244177313601701,-.8482065834104272,.8482065834104272,-.937273392400706,.937273392400706,-.9879925180204854,.9879925180204854],[-.09501250983763744,.09501250983763744,-.2816035507792589,.2816035507792589,-.45801677765722737,.45801677765722737,-.6178762444026438,.6178762444026438,-.755404408355003,.755404408355003,-.8656312023878318,.8656312023878318,-.9445750230732326,.9445750230732326,-.9894009349916499,.9894009349916499],[0,-.17848418149584785,.17848418149584785,-.3512317634538763,.3512317634538763,-.5126905370864769,.5126905370864769,-.6576711592166907,.6576711592166907,-.7815140038968014,.7815140038968014,-.8802391537269859,.8802391537269859,-.9506755217687678,.9506755217687678,-.9905754753144174,.9905754753144174],[-.0847750130417353,.0847750130417353,-.2518862256915055,.2518862256915055,-.41175116146284263,.41175116146284263,-.5597708310739475,.5597708310739475,-.6916870430603532,.6916870430603532,-.8037049589725231,.8037049589725231,-.8926024664975557,.8926024664975557,-.9558239495713977,.9558239495713977,-.9915651684209309,.9915651684209309],[0,-.16035864564022537,.16035864564022537,-.31656409996362983,.31656409996362983,-.46457074137596094,.46457074137596094,-.600545304661681,.600545304661681,-.7209661773352294,.7209661773352294,-.8227146565371428,.8227146565371428,-.9031559036148179,.9031559036148179,-.96020815213483,.96020815213483,-.9924068438435844,.9924068438435844],[-.07652652113349734,.07652652113349734,-.22778585114164507,.22778585114164507,-.37370608871541955,.37370608871541955,-.5108670019508271,.5108670019508271,-.636053680726515,.636053680726515,-.7463319064601508,.7463319064601508,-.8391169718222188,.8391169718222188,-.912234428251326,.912234428251326,-.9639719272779138,.9639719272779138,-.9931285991850949,.9931285991850949],[0,-.1455618541608951,.1455618541608951,-.2880213168024011,.2880213168024011,-.4243421202074388,.4243421202074388,-.5516188358872198,.5516188358872198,-.6671388041974123,.6671388041974123,-.7684399634756779,.7684399634756779,-.8533633645833173,.8533633645833173,-.9200993341504008,.9200993341504008,-.9672268385663063,.9672268385663063,-.9937521706203895,.9937521706203895],[-.06973927331972223,.06973927331972223,-.20786042668822127,.20786042668822127,-.34193582089208424,.34193582089208424,-.469355837986757,.469355837986757,-.5876404035069116,.5876404035069116,-.6944872631866827,.6944872631866827,-.7878168059792081,.7878168059792081,-.8658125777203002,.8658125777203002,-.926956772187174,.926956772187174,-.9700604978354287,.9700604978354287,-.9942945854823992,.9942945854823992],[0,-.1332568242984661,.1332568242984661,-.26413568097034495,.26413568097034495,-.3903010380302908,.3903010380302908,-.5095014778460075,.5095014778460075,-.6196098757636461,.6196098757636461,-.7186613631319502,.7186613631319502,-.8048884016188399,.8048884016188399,-.8767523582704416,.8767523582704416,-.9329710868260161,.9329710868260161,-.9725424712181152,.9725424712181152,-.9947693349975522,.9947693349975522],[-.06405689286260563,.06405689286260563,-.1911188674736163,.1911188674736163,-.3150426796961634,.3150426796961634,-.4337935076260451,.4337935076260451,-.5454214713888396,.5454214713888396,-.6480936519369755,.6480936519369755,-.7401241915785544,.7401241915785544,-.820001985973903,.820001985973903,-.8864155270044011,.8864155270044011,-.9382745520027328,.9382745520027328,-.9747285559713095,.9747285559713095,-.9951872199970213,.9951872199970213]],t.cValues=[[],[],[1,1],[.8888888888888888,.5555555555555556,.5555555555555556],[.6521451548625461,.6521451548625461,.34785484513745385,.34785484513745385],[.5688888888888889,.47862867049936647,.47862867049936647,.23692688505618908,.23692688505618908],[.3607615730481386,.3607615730481386,.46791393457269104,.46791393457269104,.17132449237917036,.17132449237917036],[.4179591836734694,.3818300505051189,.3818300505051189,.27970539148927664,.27970539148927664,.1294849661688697,.1294849661688697],[.362683783378362,.362683783378362,.31370664587788727,.31370664587788727,.22238103445337448,.22238103445337448,.10122853629037626,.10122853629037626],[.3302393550012598,.1806481606948574,.1806481606948574,.08127438836157441,.08127438836157441,.31234707704000286,.31234707704000286,.26061069640293544,.26061069640293544],[.29552422471475287,.29552422471475287,.26926671930999635,.26926671930999635,.21908636251598204,.21908636251598204,.1494513491505806,.1494513491505806,.06667134430868814,.06667134430868814],[.2729250867779006,.26280454451024665,.26280454451024665,.23319376459199048,.23319376459199048,.18629021092773426,.18629021092773426,.1255803694649046,.1255803694649046,.05566856711617366,.05566856711617366],[.24914704581340277,.24914704581340277,.2334925365383548,.2334925365383548,.20316742672306592,.20316742672306592,.16007832854334622,.16007832854334622,.10693932599531843,.10693932599531843,.04717533638651183,.04717533638651183],[.2325515532308739,.22628318026289723,.22628318026289723,.2078160475368885,.2078160475368885,.17814598076194574,.17814598076194574,.13887351021978725,.13887351021978725,.09212149983772845,.09212149983772845,.04048400476531588,.04048400476531588],[.2152638534631578,.2152638534631578,.2051984637212956,.2051984637212956,.18553839747793782,.18553839747793782,.15720316715819355,.15720316715819355,.12151857068790319,.12151857068790319,.08015808715976021,.08015808715976021,.03511946033175186,.03511946033175186],[.2025782419255613,.19843148532711158,.19843148532711158,.1861610000155622,.1861610000155622,.16626920581699392,.16626920581699392,.13957067792615432,.13957067792615432,.10715922046717194,.10715922046717194,.07036604748810812,.07036604748810812,.03075324199611727,.03075324199611727],[.1894506104550685,.1894506104550685,.18260341504492358,.18260341504492358,.16915651939500254,.16915651939500254,.14959598881657674,.14959598881657674,.12462897125553388,.12462897125553388,.09515851168249279,.09515851168249279,.062253523938647894,.062253523938647894,.027152459411754096,.027152459411754096],[.17944647035620653,.17656270536699264,.17656270536699264,.16800410215645004,.16800410215645004,.15404576107681028,.15404576107681028,.13513636846852548,.13513636846852548,.11188384719340397,.11188384719340397,.08503614831717918,.08503614831717918,.0554595293739872,.0554595293739872,.02414830286854793,.02414830286854793],[.1691423829631436,.1691423829631436,.16427648374583273,.16427648374583273,.15468467512626524,.15468467512626524,.14064291467065065,.14064291467065065,.12255520671147846,.12255520671147846,.10094204410628717,.10094204410628717,.07642573025488905,.07642573025488905,.0497145488949698,.0497145488949698,.02161601352648331,.02161601352648331],[.1610544498487837,.15896884339395434,.15896884339395434,.15276604206585967,.15276604206585967,.1426067021736066,.1426067021736066,.12875396253933621,.12875396253933621,.11156664554733399,.11156664554733399,.09149002162245,.09149002162245,.06904454273764123,.06904454273764123,.0448142267656996,.0448142267656996,.019461788229726478,.019461788229726478],[.15275338713072584,.15275338713072584,.14917298647260374,.14917298647260374,.14209610931838204,.14209610931838204,.13168863844917664,.13168863844917664,.11819453196151841,.11819453196151841,.10193011981724044,.10193011981724044,.08327674157670475,.08327674157670475,.06267204833410907,.06267204833410907,.04060142980038694,.04060142980038694,.017614007139152118,.017614007139152118],[.14608113364969041,.14452440398997005,.14452440398997005,.13988739479107315,.13988739479107315,.13226893863333747,.13226893863333747,.12183141605372853,.12183141605372853,.10879729916714838,.10879729916714838,.09344442345603386,.09344442345603386,.0761001136283793,.0761001136283793,.057134425426857205,.057134425426857205,.036953789770852494,.036953789770852494,.016017228257774335,.016017228257774335],[.13925187285563198,.13925187285563198,.13654149834601517,.13654149834601517,.13117350478706238,.13117350478706238,.12325237681051242,.12325237681051242,.11293229608053922,.11293229608053922,.10041414444288096,.10041414444288096,.08594160621706773,.08594160621706773,.06979646842452049,.06979646842452049,.052293335152683286,.052293335152683286,.03377490158481415,.03377490158481415,.0146279952982722,.0146279952982722],[.13365457218610619,.1324620394046966,.1324620394046966,.12890572218808216,.12890572218808216,.12304908430672953,.12304908430672953,.11499664022241136,.11499664022241136,.10489209146454141,.10489209146454141,.09291576606003515,.09291576606003515,.07928141177671895,.07928141177671895,.06423242140852585,.06423242140852585,.04803767173108467,.04803767173108467,.030988005856979445,.030988005856979445,.013411859487141771,.013411859487141771],[.12793819534675216,.12793819534675216,.1258374563468283,.1258374563468283,.12167047292780339,.12167047292780339,.1155056680537256,.1155056680537256,.10744427011596563,.10744427011596563,.09761865210411388,.09761865210411388,.08619016153195327,.08619016153195327,.0733464814110803,.0733464814110803,.05929858491543678,.05929858491543678,.04427743881741981,.04427743881741981,.028531388628933663,.028531388628933663,.0123412297999872,.0123412297999872]],t.binomialCoefficients=[[1],[1,1],[1,2,1],[1,3,3,1]];const e=(a,c,d)=>{let g,x;const w=d/2;g=0;for(let N=0;N<20;N++)x=w*t.tValues[20][N]+w,g+=t.cValues[20][N]*r(a,c,x);return w*g};t.getCubicArcLength=e;const n=(a,c,d)=>{d===void 0&&(d=1);const g=a[0]-2*a[1]+a[2],x=c[0]-2*c[1]+c[2],k=2*a[1]-2*a[0],w=2*c[1]-2*c[0],N=4*(g*g+x*x),S=4*(g*k+x*w),E=k*k+w*w;if(N===0)return d*Math.sqrt(Math.pow(a[2]-a[0],2)+Math.pow(c[2]-c[0],2));const T=S/(2*N),_=E/N,C=d+T,p=_-T*T,m=C*C+p>0?Math.sqrt(C*C+p):0,P=T*T+p>0?Math.sqrt(T*T+p):0,R=T+Math.sqrt(T*T+p)!==0?p*Math.log(Math.abs((C+m)/(T+P))):0;return Math.sqrt(N)/2*(C*m-T*P+R)};t.getQuadraticArcLength=n;function r(a,c,d){const g=l(1,d,a),x=l(1,d,c),k=g*g+x*x;return Math.sqrt(k)}const l=(a,c,d)=>{const g=d.length-1;let x,k;if(g===0)return 0;if(a===0){k=0;for(let w=0;w<=g;w++)k+=t.binomialCoefficients[g][w]*Math.pow(1-c,g-w)*Math.pow(c,w)*d[w];return k}else{x=new Array(g);for(let w=0;w<g;w++)x[w]=g*(d[w+1]-d[w]);return l(a-1,c,x)}},o=(a,c,d)=>{let g=1,x=a/c,k=(a-d(x))/c,w=0;for(;g>.001;){const N=d(x+k),S=Math.abs(a-N)/c;if(S<g)g=S,x+=k;else{const E=d(x-k),T=Math.abs(a-E)/c;T<g?(g=T,x-=k):k/=2}if(w++,w>500)break}return x};t.t2length=o})(n4);Object.defineProperty(qs,"__esModule",{value:!0});qs.Path=void 0;const tx=ve,nx=pe,rx=ht,ps=n4;class ut extends rx.Shape{constructor(e){super(e),this.dataArray=[],this.pathLength=0,this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute()})}_readDataAttribute(){this.dataArray=ut.parsePathData(this.data()),this.pathLength=ut.getPathLength(this.dataArray)}_sceneFunc(e){const n=this.dataArray;e.beginPath();let r=!1;for(let l=0;l<n.length;l++){const o=n[l].command,a=n[l].points;switch(o){case"L":e.lineTo(a[0],a[1]);break;case"M":e.moveTo(a[0],a[1]);break;case"C":e.bezierCurveTo(a[0],a[1],a[2],a[3],a[4],a[5]);break;case"Q":e.quadraticCurveTo(a[0],a[1],a[2],a[3]);break;case"A":const c=a[0],d=a[1],g=a[2],x=a[3],k=a[4],w=a[5],N=a[6],S=a[7],E=g>x?g:x,T=g>x?1:g/x,_=g>x?x/g:1;e.translate(c,d),e.rotate(N),e.scale(T,_),e.arc(0,0,E,k,k+w,1-S),e.scale(1/T,1/_),e.rotate(-N),e.translate(-c,-d);break;case"z":r=!0,e.closePath();break}}!r&&!this.hasFill()?e.strokeShape(this):e.fillStrokeShape(this)}getSelfRect(){let e=[];this.dataArray.forEach(function(d){if(d.command==="A"){const g=d.points[4],x=d.points[5],k=d.points[4]+x;let w=Math.PI/180;if(Math.abs(g-k)<w&&(w=Math.abs(g-k)),x<0)for(let N=g-w;N>k;N-=w){const S=ut.getPointOnEllipticalArc(d.points[0],d.points[1],d.points[2],d.points[3],N,0);e.push(S.x,S.y)}else for(let N=g+w;N<k;N+=w){const S=ut.getPointOnEllipticalArc(d.points[0],d.points[1],d.points[2],d.points[3],N,0);e.push(S.x,S.y)}}else if(d.command==="C")for(let g=0;g<=1;g+=.01){const x=ut.getPointOnCubicBezier(g,d.start.x,d.start.y,d.points[0],d.points[1],d.points[2],d.points[3],d.points[4],d.points[5]);e.push(x.x,x.y)}else e=e.concat(d.points)});let n=e[0],r=e[0],l=e[1],o=e[1],a,c;for(let d=0;d<e.length/2;d++)a=e[d*2],c=e[d*2+1],isNaN(a)||(n=Math.min(n,a),r=Math.max(r,a)),isNaN(c)||(l=Math.min(l,c),o=Math.max(o,c));return{x:n,y:l,width:r-n,height:o-l}}getLength(){return this.pathLength}getPointAtLength(e){return ut.getPointAtLengthOfDataArray(e,this.dataArray)}static getLineLength(e,n,r,l){return Math.sqrt((r-e)*(r-e)+(l-n)*(l-n))}static getPathLength(e){let n=0;for(let r=0;r<e.length;++r)n+=e[r].pathLength;return n}static getPointAtLengthOfDataArray(e,n){let r,l=0,o=n.length;if(!o)return null;for(;l<o&&e>n[l].pathLength;)e-=n[l].pathLength,++l;if(l===o)return r=n[l-1].points.slice(-2),{x:r[0],y:r[1]};if(e<.01)return n[l].command==="M"?(r=n[l].points.slice(0,2),{x:r[0],y:r[1]}):{x:n[l].start.x,y:n[l].start.y};const a=n[l],c=a.points;switch(a.command){case"L":return ut.getPointOnLine(e,a.start.x,a.start.y,c[0],c[1]);case"C":return ut.getPointOnCubicBezier((0,ps.t2length)(e,ut.getPathLength(n),E=>(0,ps.getCubicArcLength)([a.start.x,c[0],c[2],c[4]],[a.start.y,c[1],c[3],c[5]],E)),a.start.x,a.start.y,c[0],c[1],c[2],c[3],c[4],c[5]);case"Q":return ut.getPointOnQuadraticBezier((0,ps.t2length)(e,ut.getPathLength(n),E=>(0,ps.getQuadraticArcLength)([a.start.x,c[0],c[2]],[a.start.y,c[1],c[3]],E)),a.start.x,a.start.y,c[0],c[1],c[2],c[3]);case"A":const d=c[0],g=c[1],x=c[2],k=c[3],w=c[5],N=c[6];let S=c[4];return S+=w*e/a.pathLength,ut.getPointOnEllipticalArc(d,g,x,k,S,N)}return null}static getPointOnLine(e,n,r,l,o,a,c){a=a??n,c=c??r;const d=this.getLineLength(n,r,l,o);if(d<1e-10)return{x:n,y:r};if(l===n)return{x:a,y:c+(o>r?e:-e)};const g=(o-r)/(l-n),x=Math.sqrt(e*e/(1+g*g))*(l<n?-1:1),k=g*x;if(Math.abs(c-r-g*(a-n))<1e-10)return{x:a+x,y:c+k};const w=((a-n)*(l-n)+(c-r)*(o-r))/(d*d),N=n+w*(l-n),S=r+w*(o-r),E=this.getLineLength(a,c,N,S),T=Math.sqrt(e*e-E*E),_=Math.sqrt(T*T/(1+g*g))*(l<n?-1:1),C=g*_;return{x:N+_,y:S+C}}static getPointOnCubicBezier(e,n,r,l,o,a,c,d,g){function x(T){return T*T*T}function k(T){return 3*T*T*(1-T)}function w(T){return 3*T*(1-T)*(1-T)}function N(T){return(1-T)*(1-T)*(1-T)}const S=d*x(e)+a*k(e)+l*w(e)+n*N(e),E=g*x(e)+c*k(e)+o*w(e)+r*N(e);return{x:S,y:E}}static getPointOnQuadraticBezier(e,n,r,l,o,a,c){function d(N){return N*N}function g(N){return 2*N*(1-N)}function x(N){return(1-N)*(1-N)}const k=a*d(e)+l*g(e)+n*x(e),w=c*d(e)+o*g(e)+r*x(e);return{x:k,y:w}}static getPointOnEllipticalArc(e,n,r,l,o,a){const c=Math.cos(a),d=Math.sin(a),g={x:r*Math.cos(o),y:l*Math.sin(o)};return{x:e+(g.x*c-g.y*d),y:n+(g.x*d+g.y*c)}}static parsePathData(e){if(!e)return[];let n=e;const r=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];n=n.replace(new RegExp(" ","g"),",");for(let k=0;k<r.length;k++)n=n.replace(new RegExp(r[k],"g"),"|"+r[k]);const l=n.split("|"),o=[],a=[];let c=0,d=0;const g=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;let x;for(let k=1;k<l.length;k++){let w=l[k],N=w.charAt(0);for(w=w.slice(1),a.length=0;x=g.exec(w);)a.push(x[0]);const S=[];for(let E=0,T=a.length;E<T;E++){if(a[E]==="00"){S.push(0,0);continue}const _=parseFloat(a[E]);isNaN(_)?S.push(0):S.push(_)}for(;S.length>0&&!isNaN(S[0]);){let E="",T=[];const _=c,C=d;let p,m,P,R,F,M,I,L,G,U;switch(N){case"l":c+=S.shift(),d+=S.shift(),E="L",T.push(c,d);break;case"L":c=S.shift(),d=S.shift(),T.push(c,d);break;case"m":const H=S.shift(),X=S.shift();if(c+=H,d+=X,E="M",o.length>2&&o[o.length-1].command==="z"){for(let $=o.length-2;$>=0;$--)if(o[$].command==="M"){c=o[$].points[0]+H,d=o[$].points[1]+X;break}}T.push(c,d),N="l";break;case"M":c=S.shift(),d=S.shift(),E="M",T.push(c,d),N="L";break;case"h":c+=S.shift(),E="L",T.push(c,d);break;case"H":c=S.shift(),E="L",T.push(c,d);break;case"v":d+=S.shift(),E="L",T.push(c,d);break;case"V":d=S.shift(),E="L",T.push(c,d);break;case"C":T.push(S.shift(),S.shift(),S.shift(),S.shift()),c=S.shift(),d=S.shift(),T.push(c,d);break;case"c":T.push(c+S.shift(),d+S.shift(),c+S.shift(),d+S.shift()),c+=S.shift(),d+=S.shift(),E="C",T.push(c,d);break;case"S":m=c,P=d,p=o[o.length-1],p.command==="C"&&(m=c+(c-p.points[2]),P=d+(d-p.points[3])),T.push(m,P,S.shift(),S.shift()),c=S.shift(),d=S.shift(),E="C",T.push(c,d);break;case"s":m=c,P=d,p=o[o.length-1],p.command==="C"&&(m=c+(c-p.points[2]),P=d+(d-p.points[3])),T.push(m,P,c+S.shift(),d+S.shift()),c+=S.shift(),d+=S.shift(),E="C",T.push(c,d);break;case"Q":T.push(S.shift(),S.shift()),c=S.shift(),d=S.shift(),T.push(c,d);break;case"q":T.push(c+S.shift(),d+S.shift()),c+=S.shift(),d+=S.shift(),E="Q",T.push(c,d);break;case"T":m=c,P=d,p=o[o.length-1],p.command==="Q"&&(m=c+(c-p.points[0]),P=d+(d-p.points[1])),c=S.shift(),d=S.shift(),E="Q",T.push(m,P,c,d);break;case"t":m=c,P=d,p=o[o.length-1],p.command==="Q"&&(m=c+(c-p.points[0]),P=d+(d-p.points[1])),c+=S.shift(),d+=S.shift(),E="Q",T.push(m,P,c,d);break;case"A":R=S.shift(),F=S.shift(),M=S.shift(),I=S.shift(),L=S.shift(),G=c,U=d,c=S.shift(),d=S.shift(),E="A",T=this.convertEndpointToCenterParameterization(G,U,c,d,I,L,R,F,M);break;case"a":R=S.shift(),F=S.shift(),M=S.shift(),I=S.shift(),L=S.shift(),G=c,U=d,c+=S.shift(),d+=S.shift(),E="A",T=this.convertEndpointToCenterParameterization(G,U,c,d,I,L,R,F,M);break}o.push({command:E||N,points:T,start:{x:_,y:C},pathLength:this.calcLength(_,C,E||N,T)})}(N==="z"||N==="Z")&&o.push({command:"z",points:[],start:void 0,pathLength:0})}return o}static calcLength(e,n,r,l){let o,a,c,d;const g=ut;switch(r){case"L":return g.getLineLength(e,n,l[0],l[1]);case"C":return(0,ps.getCubicArcLength)([e,l[0],l[2],l[4]],[n,l[1],l[3],l[5]],1);case"Q":return(0,ps.getQuadraticArcLength)([e,l[0],l[2]],[n,l[1],l[3]],1);case"A":o=0;const x=l[4],k=l[5],w=l[4]+k;let N=Math.PI/180;if(Math.abs(x-w)<N&&(N=Math.abs(x-w)),a=g.getPointOnEllipticalArc(l[0],l[1],l[2],l[3],x,0),k<0)for(d=x-N;d>w;d-=N)c=g.getPointOnEllipticalArc(l[0],l[1],l[2],l[3],d,0),o+=g.getLineLength(a.x,a.y,c.x,c.y),a=c;else for(d=x+N;d<w;d+=N)c=g.getPointOnEllipticalArc(l[0],l[1],l[2],l[3],d,0),o+=g.getLineLength(a.x,a.y,c.x,c.y),a=c;return c=g.getPointOnEllipticalArc(l[0],l[1],l[2],l[3],w,0),o+=g.getLineLength(a.x,a.y,c.x,c.y),o}return 0}static convertEndpointToCenterParameterization(e,n,r,l,o,a,c,d,g){const x=g*(Math.PI/180),k=Math.cos(x)*(e-r)/2+Math.sin(x)*(n-l)/2,w=-1*Math.sin(x)*(e-r)/2+Math.cos(x)*(n-l)/2,N=k*k/(c*c)+w*w/(d*d);N>1&&(c*=Math.sqrt(N),d*=Math.sqrt(N));let S=Math.sqrt((c*c*(d*d)-c*c*(w*w)-d*d*(k*k))/(c*c*(w*w)+d*d*(k*k)));o===a&&(S*=-1),isNaN(S)&&(S=0);const E=S*c*w/d,T=S*-d*k/c,_=(e+r)/2+Math.cos(x)*E-Math.sin(x)*T,C=(n+l)/2+Math.sin(x)*E+Math.cos(x)*T,p=function(L){return Math.sqrt(L[0]*L[0]+L[1]*L[1])},m=function(L,G){return(L[0]*G[0]+L[1]*G[1])/(p(L)*p(G))},P=function(L,G){return(L[0]*G[1]<L[1]*G[0]?-1:1)*Math.acos(m(L,G))},R=P([1,0],[(k-E)/c,(w-T)/d]),F=[(k-E)/c,(w-T)/d],M=[(-1*k-E)/c,(-1*w-T)/d];let I=P(F,M);return m(F,M)<=-1&&(I=Math.PI),m(F,M)>=1&&(I=0),a===0&&I>0&&(I=I-2*Math.PI),a===1&&I<0&&(I=I+2*Math.PI),[_,C,c,d,R,I,x,a]}}qs.Path=ut;ut.prototype.className="Path";ut.prototype._attrsAffectingSize=["data"];(0,nx._registerNode)(ut);tx.Factory.addGetterSetter(ut,"data");Object.defineProperty(Ju,"__esModule",{value:!0});Ju.Arrow=void 0;const ec=ve,ix=So,r4=ae,sx=pe,nm=qs;class Hi extends ix.Line{_sceneFunc(e){super._sceneFunc(e);const n=Math.PI*2,r=this.points();let l=r;const o=this.tension()!==0&&r.length>4;o&&(l=this.getTensionPoints());const a=this.pointerLength(),c=r.length;let d,g;if(o){const w=[l[l.length-4],l[l.length-3],l[l.length-2],l[l.length-1],r[c-2],r[c-1]],N=nm.Path.calcLength(l[l.length-4],l[l.length-3],"C",w),S=nm.Path.getPointOnQuadraticBezier(Math.min(1,1-a/N),w[0],w[1],w[2],w[3],w[4],w[5]);d=r[c-2]-S.x,g=r[c-1]-S.y}else d=r[c-2]-r[c-4],g=r[c-1]-r[c-3];const x=(Math.atan2(g,d)+n)%n,k=this.pointerWidth();this.pointerAtEnding()&&(e.save(),e.beginPath(),e.translate(r[c-2],r[c-1]),e.rotate(x),e.moveTo(0,0),e.lineTo(-a,k/2),e.lineTo(-a,-k/2),e.closePath(),e.restore(),this.__fillStroke(e)),this.pointerAtBeginning()&&(e.save(),e.beginPath(),e.translate(r[0],r[1]),o?(d=(l[0]+l[2])/2-r[0],g=(l[1]+l[3])/2-r[1]):(d=r[2]-r[0],g=r[3]-r[1]),e.rotate((Math.atan2(-g,-d)+n)%n),e.moveTo(0,0),e.lineTo(-a,k/2),e.lineTo(-a,-k/2),e.closePath(),e.restore(),this.__fillStroke(e))}__fillStroke(e){const n=this.dashEnabled();n&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),n&&(this.attrs.dashEnabled=!0)}getSelfRect(){const e=super.getSelfRect(),n=this.pointerWidth()/2;return{x:e.x,y:e.y-n,width:e.width,height:e.height+n*2}}}Ju.Arrow=Hi;Hi.prototype.className="Arrow";(0,sx._registerNode)(Hi);ec.Factory.addGetterSetter(Hi,"pointerLength",10,(0,r4.getNumberValidator)());ec.Factory.addGetterSetter(Hi,"pointerWidth",10,(0,r4.getNumberValidator)());ec.Factory.addGetterSetter(Hi,"pointerAtBeginning",!1);ec.Factory.addGetterSetter(Hi,"pointerAtEnding",!0);var tc={};Object.defineProperty(tc,"__esModule",{value:!0});tc.Circle=void 0;const lx=ve,ox=ht,ax=ae,ux=pe;class Js extends ox.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.attrs.radius||0,0,Math.PI*2,!1),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius()!==e/2&&this.radius(e/2)}setHeight(e){this.radius()!==e/2&&this.radius(e/2)}}tc.Circle=Js;Js.prototype._centroid=!0;Js.prototype.className="Circle";Js.prototype._attrsAffectingSize=["radius"];(0,ux._registerNode)(Js);lx.Factory.addGetterSetter(Js,"radius",0,(0,ax.getNumberValidator)());var nc={};Object.defineProperty(nc,"__esModule",{value:!0});nc.Ellipse=void 0;const I0=ve,cx=ht,i4=ae,dx=pe;class di extends cx.Shape{_sceneFunc(e){const n=this.radiusX(),r=this.radiusY();e.beginPath(),e.save(),n!==r&&e.scale(1,r/n),e.arc(0,0,n,0,Math.PI*2,!1),e.restore(),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radiusX()*2}getHeight(){return this.radiusY()*2}setWidth(e){this.radiusX(e/2)}setHeight(e){this.radiusY(e/2)}}nc.Ellipse=di;di.prototype.className="Ellipse";di.prototype._centroid=!0;di.prototype._attrsAffectingSize=["radiusX","radiusY"];(0,dx._registerNode)(di);I0.Factory.addComponentsGetterSetter(di,"radius",["x","y"]);I0.Factory.addGetterSetter(di,"radiusX",0,(0,i4.getNumberValidator)());I0.Factory.addGetterSetter(di,"radiusY",0,(0,i4.getNumberValidator)());var rc={};Object.defineProperty(rc,"__esModule",{value:!0});rc.Image=void 0;const Ph=Je,Wi=ve,hx=ht,fx=pe,wo=ae;class kn extends hx.Shape{constructor(e){super(e),this._loadListener=()=>{this._requestDraw()},this.on("imageChange.konva",n=>{this._removeImageLoad(n.oldVal),this._setImageLoad()}),this._setImageLoad()}_setImageLoad(){const e=this.image();e&&e.complete||e&&e.readyState===4||e&&e.addEventListener&&e.addEventListener("load",this._loadListener)}_removeImageLoad(e){e&&e.removeEventListener&&e.removeEventListener("load",this._loadListener)}destroy(){return this._removeImageLoad(this.image()),super.destroy(),this}_useBufferCanvas(){const e=!!this.cornerRadius(),n=this.hasShadow();return e&&n?!0:super._useBufferCanvas(!0)}_sceneFunc(e){const n=this.getWidth(),r=this.getHeight(),l=this.cornerRadius(),o=this.attrs.image;let a;if(o){const c=this.attrs.cropWidth,d=this.attrs.cropHeight;c&&d?a=[o,this.cropX(),this.cropY(),c,d,0,0,n,r]:a=[o,0,0,n,r]}(this.hasFill()||this.hasStroke()||l)&&(e.beginPath(),l?Ph.Util.drawRoundedRectPath(e,n,r,l):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)),o&&(l&&e.clip(),e.drawImage.apply(e,a))}_hitFunc(e){const n=this.width(),r=this.height(),l=this.cornerRadius();e.beginPath(),l?Ph.Util.drawRoundedRectPath(e,n,r,l):e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}getWidth(){var e,n;return(e=this.attrs.width)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.width}getHeight(){var e,n;return(e=this.attrs.height)!==null&&e!==void 0?e:(n=this.image())===null||n===void 0?void 0:n.height}static fromURL(e,n,r=null){const l=Ph.Util.createImageElement();l.onload=function(){const o=new kn({image:l});n(o)},l.onerror=r,l.crossOrigin="Anonymous",l.src=e}}rc.Image=kn;kn.prototype.className="Image";(0,fx._registerNode)(kn);Wi.Factory.addGetterSetter(kn,"cornerRadius",0,(0,wo.getNumberOrArrayOfNumbersValidator)(4));Wi.Factory.addGetterSetter(kn,"image");Wi.Factory.addComponentsGetterSetter(kn,"crop",["x","y","width","height"]);Wi.Factory.addGetterSetter(kn,"cropX",0,(0,wo.getNumberValidator)());Wi.Factory.addGetterSetter(kn,"cropY",0,(0,wo.getNumberValidator)());Wi.Factory.addGetterSetter(kn,"cropWidth",0,(0,wo.getNumberValidator)());Wi.Factory.addGetterSetter(kn,"cropHeight",0,(0,wo.getNumberValidator)());var Gs={};Object.defineProperty(Gs,"__esModule",{value:!0});Gs.Tag=Gs.Label=void 0;const ic=ve,px=ht,gx=Qs,D0=ae,s4=pe,l4=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width","height","pointerDirection","pointerWidth","pointerHeight"],mx="Change.konva",vx="none",Rf="up",Mf="right",Ff="down",Lf="left",yx=l4.length;class z0 extends gx.Group{constructor(e){super(e),this.on("add.konva",function(n){this._addListeners(n.child),this._sync()})}getText(){return this.find("Text")[0]}getTag(){return this.find("Tag")[0]}_addListeners(e){let n=this,r;const l=function(){n._sync()};for(r=0;r<yx;r++)e.on(l4[r]+mx,l)}getWidth(){return this.getText().width()}getHeight(){return this.getText().height()}_sync(){let e=this.getText(),n=this.getTag(),r,l,o,a,c,d,g;if(e&&n){switch(r=e.width(),l=e.height(),o=n.pointerDirection(),a=n.pointerWidth(),g=n.pointerHeight(),c=0,d=0,o){case Rf:c=r/2,d=-1*g;break;case Mf:c=r+a,d=l/2;break;case Ff:c=r/2,d=l+g;break;case Lf:c=-1*a,d=l/2;break}n.setAttrs({x:-1*c,y:-1*d,width:r,height:l}),e.setAttrs({x:-1*c,y:-1*d})}}}Gs.Label=z0;z0.prototype.className="Label";(0,s4._registerNode)(z0);class Ki extends px.Shape{_sceneFunc(e){const n=this.width(),r=this.height(),l=this.pointerDirection(),o=this.pointerWidth(),a=this.pointerHeight(),c=this.cornerRadius();let d=0,g=0,x=0,k=0;typeof c=="number"?d=g=x=k=Math.min(c,n/2,r/2):(d=Math.min(c[0]||0,n/2,r/2),g=Math.min(c[1]||0,n/2,r/2),k=Math.min(c[2]||0,n/2,r/2),x=Math.min(c[3]||0,n/2,r/2)),e.beginPath(),e.moveTo(d,0),l===Rf&&(e.lineTo((n-o)/2,0),e.lineTo(n/2,-1*a),e.lineTo((n+o)/2,0)),e.lineTo(n-g,0),e.arc(n-g,g,g,Math.PI*3/2,0,!1),l===Mf&&(e.lineTo(n,(r-a)/2),e.lineTo(n+o,r/2),e.lineTo(n,(r+a)/2)),e.lineTo(n,r-k),e.arc(n-k,r-k,k,0,Math.PI/2,!1),l===Ff&&(e.lineTo((n+o)/2,r),e.lineTo(n/2,r+a),e.lineTo((n-o)/2,r)),e.lineTo(x,r),e.arc(x,r-x,x,Math.PI/2,Math.PI,!1),l===Lf&&(e.lineTo(0,(r+a)/2),e.lineTo(-1*o,r/2),e.lineTo(0,(r-a)/2)),e.lineTo(0,d),e.arc(d,d,d,Math.PI,Math.PI*3/2,!1),e.closePath(),e.fillStrokeShape(this)}getSelfRect(){let e=0,n=0,r=this.pointerWidth(),l=this.pointerHeight(),o=this.pointerDirection(),a=this.width(),c=this.height();return o===Rf?(n-=l,c+=l):o===Ff?c+=l:o===Lf?(e-=r*1.5,a+=r):o===Mf&&(a+=r*1.5),{x:e,y:n,width:a,height:c}}}Gs.Tag=Ki;Ki.prototype.className="Tag";(0,s4._registerNode)(Ki);ic.Factory.addGetterSetter(Ki,"pointerDirection",vx);ic.Factory.addGetterSetter(Ki,"pointerWidth",0,(0,D0.getNumberValidator)());ic.Factory.addGetterSetter(Ki,"pointerHeight",0,(0,D0.getNumberValidator)());ic.Factory.addGetterSetter(Ki,"cornerRadius",0,(0,D0.getNumberOrArrayOfNumbersValidator)(4));var Co={};Object.defineProperty(Co,"__esModule",{value:!0});Co.Rect=void 0;const xx=ve,_x=ht,Sx=pe,wx=Je,Cx=ae;let sc=class extends _x.Shape{_sceneFunc(e){const n=this.cornerRadius(),r=this.width(),l=this.height();e.beginPath(),n?wx.Util.drawRoundedRectPath(e,r,l,n):e.rect(0,0,r,l),e.closePath(),e.fillStrokeShape(this)}};Co.Rect=sc;sc.prototype.className="Rect";(0,Sx._registerNode)(sc);xx.Factory.addGetterSetter(sc,"cornerRadius",0,(0,Cx.getNumberOrArrayOfNumbersValidator)(4));var lc={};Object.defineProperty(lc,"__esModule",{value:!0});lc.RegularPolygon=void 0;const o4=ve,kx=ht,a4=ae,Nx=pe;class $i extends kx.Shape{_sceneFunc(e){const n=this._getPoints();e.beginPath(),e.moveTo(n[0].x,n[0].y);for(let r=1;r<n.length;r++)e.lineTo(n[r].x,n[r].y);e.closePath(),e.fillStrokeShape(this)}_getPoints(){const e=this.attrs.sides,n=this.attrs.radius||0,r=[];for(let l=0;l<e;l++)r.push({x:n*Math.sin(l*2*Math.PI/e),y:-1*n*Math.cos(l*2*Math.PI/e)});return r}getSelfRect(){const e=this._getPoints();let n=e[0].x,r=e[0].y,l=e[0].x,o=e[0].y;return e.forEach(a=>{n=Math.min(n,a.x),r=Math.max(r,a.x),l=Math.min(l,a.y),o=Math.max(o,a.y)}),{x:n,y:l,width:r-n,height:o-l}}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}lc.RegularPolygon=$i;$i.prototype.className="RegularPolygon";$i.prototype._centroid=!0;$i.prototype._attrsAffectingSize=["radius"];(0,Nx._registerNode)($i);o4.Factory.addGetterSetter($i,"radius",0,(0,a4.getNumberValidator)());o4.Factory.addGetterSetter($i,"sides",0,(0,a4.getNumberValidator)());var oc={};Object.defineProperty(oc,"__esModule",{value:!0});oc.Ring=void 0;const u4=ve,Px=ht,c4=ae,Ex=pe,rm=Math.PI*2;class Yi extends Px.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.innerRadius(),0,rm,!1),e.moveTo(this.outerRadius(),0),e.arc(0,0,this.outerRadius(),rm,0,!0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}oc.Ring=Yi;Yi.prototype.className="Ring";Yi.prototype._centroid=!0;Yi.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,Ex._registerNode)(Yi);u4.Factory.addGetterSetter(Yi,"innerRadius",0,(0,c4.getNumberValidator)());u4.Factory.addGetterSetter(Yi,"outerRadius",0,(0,c4.getNumberValidator)());var ac={};Object.defineProperty(ac,"__esModule",{value:!0});ac.Sprite=void 0;const Qi=ve,Tx=ht,jx=Xs,d4=ae,Rx=pe;class rr extends Tx.Shape{constructor(e){super(e),this._updated=!0,this.anim=new jx.Animation(()=>{const n=this._updated;return this._updated=!1,n}),this.on("animationChange.konva",function(){this.frameIndex(0)}),this.on("frameIndexChange.konva",function(){this._updated=!0}),this.on("frameRateChange.konva",function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})}_sceneFunc(e){const n=this.animation(),r=this.frameIndex(),l=r*4,o=this.animations()[n],a=this.frameOffsets(),c=o[l+0],d=o[l+1],g=o[l+2],x=o[l+3],k=this.image();if((this.hasFill()||this.hasStroke())&&(e.beginPath(),e.rect(0,0,g,x),e.closePath(),e.fillStrokeShape(this)),k)if(a){const w=a[n],N=r*2;e.drawImage(k,c,d,g,x,w[N+0],w[N+1],g,x)}else e.drawImage(k,c,d,g,x,0,0,g,x)}_hitFunc(e){const n=this.animation(),r=this.frameIndex(),l=r*4,o=this.animations()[n],a=this.frameOffsets(),c=o[l+2],d=o[l+3];if(e.beginPath(),a){const g=a[n],x=r*2;e.rect(g[x+0],g[x+1],c,d)}else e.rect(0,0,c,d);e.closePath(),e.fillShape(this)}_useBufferCanvas(){return super._useBufferCanvas(!0)}_setInterval(){const e=this;this.interval=setInterval(function(){e._updateIndex()},1e3/this.frameRate())}start(){if(this.isRunning())return;const e=this.getLayer();this.anim.setLayers(e),this._setInterval(),this.anim.start()}stop(){this.anim.stop(),clearInterval(this.interval)}isRunning(){return this.anim.isRunning()}_updateIndex(){const e=this.frameIndex(),n=this.animation(),r=this.animations(),l=r[n],o=l.length/4;e<o-1?this.frameIndex(e+1):this.frameIndex(0)}}ac.Sprite=rr;rr.prototype.className="Sprite";(0,Rx._registerNode)(rr);Qi.Factory.addGetterSetter(rr,"animation");Qi.Factory.addGetterSetter(rr,"animations");Qi.Factory.addGetterSetter(rr,"frameOffsets");Qi.Factory.addGetterSetter(rr,"image");Qi.Factory.addGetterSetter(rr,"frameIndex",0,(0,d4.getNumberValidator)());Qi.Factory.addGetterSetter(rr,"frameRate",17,(0,d4.getNumberValidator)());Qi.Factory.backCompat(rr,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"});var uc={};Object.defineProperty(uc,"__esModule",{value:!0});uc.Star=void 0;const U0=ve,Mx=ht,G0=ae,Fx=pe;class hi extends Mx.Shape{_sceneFunc(e){const n=this.innerRadius(),r=this.outerRadius(),l=this.numPoints();e.beginPath(),e.moveTo(0,0-r);for(let o=1;o<l*2;o++){const a=o%2===0?r:n,c=a*Math.sin(o*Math.PI/l),d=-1*a*Math.cos(o*Math.PI/l);e.lineTo(c,d)}e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.outerRadius()*2}getHeight(){return this.outerRadius()*2}setWidth(e){this.outerRadius(e/2)}setHeight(e){this.outerRadius(e/2)}}uc.Star=hi;hi.prototype.className="Star";hi.prototype._centroid=!0;hi.prototype._attrsAffectingSize=["innerRadius","outerRadius"];(0,Fx._registerNode)(hi);U0.Factory.addGetterSetter(hi,"numPoints",5,(0,G0.getNumberValidator)());U0.Factory.addGetterSetter(hi,"innerRadius",0,(0,G0.getNumberValidator)());U0.Factory.addGetterSetter(hi,"outerRadius",0,(0,G0.getNumberValidator)());var Zs={};Object.defineProperty(Zs,"__esModule",{value:!0});Zs.Text=void 0;Zs.stringToArray=ji;const Af=Je,It=ve,Lx=ht,Eh=pe,fi=ae,Ax=pe;function ji(t){return[...t].reduce((e,n,r,l)=>{if(new RegExp("\\p{Emoji}","u").test(n)){const o=l[r+1];o&&new RegExp("\\p{Emoji_Modifier}|\\u200D","u").test(o)?(e.push(n+o),l[r+1]=""):e.push(n)}else new RegExp("\\p{Regional_Indicator}{2}","u").test(n+(l[r+1]||""))?e.push(n+l[r+1]):r>0&&new RegExp("\\p{Mn}|\\p{Me}|\\p{Mc}","u").test(n)?e[e.length-1]+=n:n&&e.push(n);return e},[])}const gs="auto",Ox="center",h4="inherit",jl="justify",bx="Change.konva",Ix="2d",im="-",f4="left",Dx="text",zx="Text",Ux="top",Gx="bottom",sm="middle",p4="normal",Bx="px ",ba=" ",Vx="right",lm="rtl",Hx="word",Wx="char",om="none",Th="…",g4=["direction","fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],Kx=g4.length;function $x(t){return t.split(",").map(e=>{e=e.trim();const n=e.indexOf(" ")>=0,r=e.indexOf('"')>=0||e.indexOf("'")>=0;return n&&!r&&(e=`"${e}"`),e}).join(", ")}let Ia;function jh(){return Ia||(Ia=Af.Util.createCanvasElement().getContext(Ix),Ia)}function Yx(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function Qx(t){t.setAttr("miterLimit",2),t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function Xx(t){return t=t||{},!t.fillLinearGradientColorStops&&!t.fillRadialGradientColorStops&&!t.fillPatternImage&&(t.fill=t.fill||"black"),t}let tt=class extends Lx.Shape{constructor(e){super(Xx(e)),this._partialTextX=0,this._partialTextY=0;for(let n=0;n<Kx;n++)this.on(g4[n]+bx,this._setTextData);this._setTextData()}_sceneFunc(e){const n=this.textArr,r=n.length;if(!this.text())return;let l=this.padding(),o=this.fontSize(),a=this.lineHeight()*o,c=this.verticalAlign(),d=this.direction(),g=0,x=this.align(),k=this.getWidth(),w=this.letterSpacing(),N=this.fill(),S=this.textDecoration(),E=S.indexOf("underline")!==-1,T=S.indexOf("line-through")!==-1,_;d=d===h4?e.direction:d;let C=a/2,p=sm;if(Eh.Konva._fixTextRendering){const m=this.measureSize("M");p="alphabetic",C=(m.fontBoundingBoxAscent-m.fontBoundingBoxDescent)/2+a/2}for(d===lm&&e.setAttr("direction",d),e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",p),e.setAttr("textAlign",f4),c===sm?g=(this.getHeight()-r*a-l*2)/2:c===Gx&&(g=this.getHeight()-r*a-l*2),e.translate(l,g+l),_=0;_<r;_++){let m=0,P=0;const R=n[_],F=R.text,M=R.width,I=R.lastInParagraph;if(e.save(),x===Vx?m+=k-M-l*2:x===Ox&&(m+=(k-M-l*2)/2),E){e.save(),e.beginPath();const L=Eh.Konva._fixTextRendering?Math.round(o/4):Math.round(o/2),G=m,U=C+P+L;e.moveTo(G,U);const H=x===jl&&!I?k-l*2:M;e.lineTo(G+Math.round(H),U),e.lineWidth=o/15;const X=this._getLinearGradient();e.strokeStyle=X||N,e.stroke(),e.restore()}if(T){e.save(),e.beginPath();const L=Eh.Konva._fixTextRendering?-Math.round(o/4):0;e.moveTo(m,C+P+L);const G=x===jl&&!I?k-l*2:M;e.lineTo(m+Math.round(G),C+P+L),e.lineWidth=o/15;const U=this._getLinearGradient();e.strokeStyle=U||N,e.stroke(),e.restore()}if(d!==lm&&(w!==0||x===jl)){const L=F.split(" ").length-1,G=ji(F);for(let U=0;U<G.length;U++){const H=G[U];H===" "&&!I&&x===jl&&(m+=(k-l*2-M)/L),this._partialTextX=m,this._partialTextY=C+P,this._partialText=H,e.fillStrokeShape(this),m+=this.measureSize(H).width+w}}else w!==0&&e.setAttr("letterSpacing",`${w}px`),this._partialTextX=m,this._partialTextY=C+P,this._partialText=F,e.fillStrokeShape(this);e.restore(),r>1&&(C+=a)}}_hitFunc(e){const n=this.getWidth(),r=this.getHeight();e.beginPath(),e.rect(0,0,n,r),e.closePath(),e.fillStrokeShape(this)}setText(e){const n=Af.Util._isString(e)?e:e==null?"":e+"";return this._setAttr(Dx,n),this}getWidth(){return this.attrs.width===gs||this.attrs.width===void 0?this.getTextWidth()+this.padding()*2:this.attrs.width}getHeight(){return this.attrs.height===gs||this.attrs.height===void 0?this.fontSize()*this.textArr.length*this.lineHeight()+this.padding()*2:this.attrs.height}getTextWidth(){return this.textWidth}getTextHeight(){return Af.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}measureSize(e){var n,r,l,o,a,c,d,g,x,k,w;let N=jh(),S=this.fontSize(),E;N.save(),N.font=this._getContextFont(),E=N.measureText(e),N.restore();const T=S/100;return{actualBoundingBoxAscent:(n=E.actualBoundingBoxAscent)!==null&&n!==void 0?n:71.58203125*T,actualBoundingBoxDescent:(r=E.actualBoundingBoxDescent)!==null&&r!==void 0?r:0,actualBoundingBoxLeft:(l=E.actualBoundingBoxLeft)!==null&&l!==void 0?l:-7.421875*T,actualBoundingBoxRight:(o=E.actualBoundingBoxRight)!==null&&o!==void 0?o:75.732421875*T,alphabeticBaseline:(a=E.alphabeticBaseline)!==null&&a!==void 0?a:0,emHeightAscent:(c=E.emHeightAscent)!==null&&c!==void 0?c:100*T,emHeightDescent:(d=E.emHeightDescent)!==null&&d!==void 0?d:-20*T,fontBoundingBoxAscent:(g=E.fontBoundingBoxAscent)!==null&&g!==void 0?g:91*T,fontBoundingBoxDescent:(x=E.fontBoundingBoxDescent)!==null&&x!==void 0?x:21*T,hangingBaseline:(k=E.hangingBaseline)!==null&&k!==void 0?k:72.80000305175781*T,ideographicBaseline:(w=E.ideographicBaseline)!==null&&w!==void 0?w:-21*T,width:E.width,height:S}}_getContextFont(){return this.fontStyle()+ba+this.fontVariant()+ba+(this.fontSize()+Bx)+$x(this.fontFamily())}_addTextLine(e){this.align()===jl&&(e=e.trim());const r=this._getTextWidth(e);return this.textArr.push({text:e,width:r,lastInParagraph:!1})}_getTextWidth(e){const n=this.letterSpacing(),r=e.length;return jh().measureText(e).width+n*r}_setTextData(){let e=this.text().split(`
`),n=+this.fontSize(),r=0,l=this.lineHeight()*n,o=this.attrs.width,a=this.attrs.height,c=o!==gs&&o!==void 0,d=a!==gs&&a!==void 0,g=this.padding(),x=o-g*2,k=a-g*2,w=0,N=this.wrap(),S=N!==om,E=N!==Wx&&S,T=this.ellipsis();this.textArr=[],jh().font=this._getContextFont();const _=T?this._getTextWidth(Th):0;for(let C=0,p=e.length;C<p;++C){let m=e[C],P=this._getTextWidth(m);if(c&&P>x)for(;m.length>0;){let R=0,F=ji(m).length,M="",I=0;for(;R<F;){const L=R+F>>>1,G=ji(m),U=G.slice(0,L+1).join(""),H=this._getTextWidth(U);(T&&d&&w+l>k?H+_:H)<=x?(R=L+1,M=U,I=H):F=L}if(M){if(E){const U=ji(m),H=ji(M),X=U[H.length],$=X===ba||X===im;let ge;if($&&I<=x)ge=H.length;else{const Se=H.lastIndexOf(ba),V=H.lastIndexOf(im);ge=Math.max(Se,V)+1}ge>0&&(R=ge,M=U.slice(0,R).join(""),I=this._getTextWidth(M))}if(M=M.trimRight(),this._addTextLine(M),r=Math.max(r,I),w+=l,this._shouldHandleEllipsis(w)){this._tryToAddEllipsisToLastLine();break}if(m=ji(m).slice(R).join("").trimLeft(),m.length>0&&(P=this._getTextWidth(m),P<=x)){this._addTextLine(m),w+=l,r=Math.max(r,P);break}}else break}else this._addTextLine(m),w+=l,r=Math.max(r,P),this._shouldHandleEllipsis(w)&&C<p-1&&this._tryToAddEllipsisToLastLine();if(this.textArr[this.textArr.length-1]&&(this.textArr[this.textArr.length-1].lastInParagraph=!0),d&&w+l>k)break}this.textHeight=n,this.textWidth=r}_shouldHandleEllipsis(e){const n=+this.fontSize(),r=this.lineHeight()*n,l=this.attrs.height,o=l!==gs&&l!==void 0,a=this.padding(),c=l-a*2;return!(this.wrap()!==om)||o&&e+r>c}_tryToAddEllipsisToLastLine(){const e=this.attrs.width,n=e!==gs&&e!==void 0,r=this.padding(),l=e-r*2,o=this.ellipsis(),a=this.textArr[this.textArr.length-1];!a||!o||(n&&(this._getTextWidth(a.text+Th)<l||(a.text=a.text.slice(0,a.text.length-3))),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(a.text+Th))}getStrokeScaleEnabled(){return!0}_useBufferCanvas(){const e=this.textDecoration().indexOf("underline")!==-1||this.textDecoration().indexOf("line-through")!==-1,n=this.hasShadow();return e&&n?!0:super._useBufferCanvas()}};Zs.Text=tt;tt.prototype._fillFunc=Yx;tt.prototype._strokeFunc=Qx;tt.prototype.className=zx;tt.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight","letterSpacing"];(0,Ax._registerNode)(tt);It.Factory.overWriteSetter(tt,"width",(0,fi.getNumberOrAutoValidator)());It.Factory.overWriteSetter(tt,"height",(0,fi.getNumberOrAutoValidator)());It.Factory.addGetterSetter(tt,"direction",h4);It.Factory.addGetterSetter(tt,"fontFamily","Arial");It.Factory.addGetterSetter(tt,"fontSize",12,(0,fi.getNumberValidator)());It.Factory.addGetterSetter(tt,"fontStyle",p4);It.Factory.addGetterSetter(tt,"fontVariant",p4);It.Factory.addGetterSetter(tt,"padding",0,(0,fi.getNumberValidator)());It.Factory.addGetterSetter(tt,"align",f4);It.Factory.addGetterSetter(tt,"verticalAlign",Ux);It.Factory.addGetterSetter(tt,"lineHeight",1,(0,fi.getNumberValidator)());It.Factory.addGetterSetter(tt,"wrap",Hx);It.Factory.addGetterSetter(tt,"ellipsis",!1,(0,fi.getBooleanValidator)());It.Factory.addGetterSetter(tt,"letterSpacing",0,(0,fi.getNumberValidator)());It.Factory.addGetterSetter(tt,"text","",(0,fi.getStringValidator)());It.Factory.addGetterSetter(tt,"textDecoration","");var cc={};Object.defineProperty(cc,"__esModule",{value:!0});cc.TextPath=void 0;const Rh=Je,Gn=ve,qx=ht,Rl=qs,Mh=Zs,m4=ae,Jx=pe,Zx="",v4="normal";function y4(t){t.fillText(this.partialText,0,0)}function x4(t){t.strokeText(this.partialText,0,0)}class ft extends qx.Shape{constructor(e){super(e),this.dummyCanvas=Rh.Util.createCanvasElement(),this.dataArray=[],this._readDataAttribute(),this.on("dataChange.konva",function(){this._readDataAttribute(),this._setTextData()}),this.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva fontSizeChange.konva fontFamilyChange.konva",this._setTextData),this._setTextData()}_getTextPathLength(){return Rl.Path.getPathLength(this.dataArray)}_getPointAtLength(e){if(!this.attrs.data)return null;const n=this.pathLength;return e-1>n?null:Rl.Path.getPointAtLengthOfDataArray(e,this.dataArray)}_readDataAttribute(){this.dataArray=Rl.Path.parsePathData(this.attrs.data),this.pathLength=this._getTextPathLength()}_sceneFunc(e){e.setAttr("font",this._getContextFont()),e.setAttr("textBaseline",this.textBaseline()),e.setAttr("textAlign","left"),e.save();const n=this.textDecoration(),r=this.fill(),l=this.fontSize(),o=this.glyphInfo;n==="underline"&&e.beginPath();for(let a=0;a<o.length;a++){e.save();const c=o[a].p0;e.translate(c.x,c.y),e.rotate(o[a].rotation),this.partialText=o[a].text,e.fillStrokeShape(this),n==="underline"&&(a===0&&e.moveTo(0,l/2+1),e.lineTo(l,l/2+1)),e.restore()}n==="underline"&&(e.strokeStyle=r,e.lineWidth=l/20,e.stroke()),e.restore()}_hitFunc(e){e.beginPath();const n=this.glyphInfo;if(n.length>=1){const r=n[0].p0;e.moveTo(r.x,r.y)}for(let r=0;r<n.length;r++){const l=n[r].p1;e.lineTo(l.x,l.y)}e.setAttr("lineWidth",this.fontSize()),e.setAttr("strokeStyle",this.colorKey),e.stroke()}getTextWidth(){return this.textWidth}getTextHeight(){return Rh.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight}setText(e){return Mh.Text.prototype.setText.call(this,e)}_getContextFont(){return Mh.Text.prototype._getContextFont.call(this)}_getTextSize(e){const r=this.dummyCanvas.getContext("2d");r.save(),r.font=this._getContextFont();const l=r.measureText(e);return r.restore(),{width:l.width,height:parseInt(`${this.fontSize()}`,10)}}_setTextData(){const{width:e,height:n}=this._getTextSize(this.attrs.text);if(this.textWidth=e,this.textHeight=n,this.glyphInfo=[],!this.attrs.data)return null;const r=this.letterSpacing(),l=this.align(),o=this.kerningFunc(),a=Math.max(this.textWidth+((this.attrs.text||"").length-1)*r,0);let c=0;l==="center"&&(c=Math.max(0,this.pathLength/2-a/2)),l==="right"&&(c=Math.max(0,this.pathLength-a));const d=(0,Mh.stringToArray)(this.text());let g=c;for(let x=0;x<d.length;x++){const k=this._getPointAtLength(g);if(!k)return;let w=this._getTextSize(d[x]).width+r;if(d[x]===" "&&l==="justify"){const C=this.text().split(" ").length-1;w+=(this.pathLength-a)/C}const N=this._getPointAtLength(g+w);if(!N)return;const S=Rl.Path.getLineLength(k.x,k.y,N.x,N.y);let E=0;if(o)try{E=o(d[x-1],d[x])*this.fontSize()}catch{E=0}k.x+=E,N.x+=E,this.textWidth+=E;const T=Rl.Path.getPointOnLine(E+S/2,k.x,k.y,N.x,N.y),_=Math.atan2(N.y-k.y,N.x-k.x);this.glyphInfo.push({transposeX:T.x,transposeY:T.y,text:d[x],rotation:_,p0:k,p1:N}),g+=w}}getSelfRect(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};const e=[];this.glyphInfo.forEach(function(g){e.push(g.p0.x),e.push(g.p0.y),e.push(g.p1.x),e.push(g.p1.y)});let n=e[0]||0,r=e[0]||0,l=e[1]||0,o=e[1]||0,a,c;for(let g=0;g<e.length/2;g++)a=e[g*2],c=e[g*2+1],n=Math.min(n,a),r=Math.max(r,a),l=Math.min(l,c),o=Math.max(o,c);const d=this.fontSize();return{x:n-d/2,y:l-d/2,width:r-n+d,height:o-l+d}}destroy(){return Rh.Util.releaseCanvas(this.dummyCanvas),super.destroy()}}cc.TextPath=ft;ft.prototype._fillFunc=y4;ft.prototype._strokeFunc=x4;ft.prototype._fillFuncHit=y4;ft.prototype._strokeFuncHit=x4;ft.prototype.className="TextPath";ft.prototype._attrsAffectingSize=["text","fontSize","data"];(0,Jx._registerNode)(ft);Gn.Factory.addGetterSetter(ft,"data");Gn.Factory.addGetterSetter(ft,"fontFamily","Arial");Gn.Factory.addGetterSetter(ft,"fontSize",12,(0,m4.getNumberValidator)());Gn.Factory.addGetterSetter(ft,"fontStyle",v4);Gn.Factory.addGetterSetter(ft,"align","left");Gn.Factory.addGetterSetter(ft,"letterSpacing",0,(0,m4.getNumberValidator)());Gn.Factory.addGetterSetter(ft,"textBaseline","middle");Gn.Factory.addGetterSetter(ft,"fontVariant",v4);Gn.Factory.addGetterSetter(ft,"text",Zx);Gn.Factory.addGetterSetter(ft,"textDecoration","");Gn.Factory.addGetterSetter(ft,"kerningFunc",void 0);var dc={};Object.defineProperty(dc,"__esModule",{value:!0});dc.Transformer=void 0;const Re=Je,Ee=ve,am=Ke,e9=ht,t9=Co,um=Qs,Ln=pe,pi=ae,n9=pe,_4="tr-konva",r9=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange","anchorStyleFuncChange"].map(t=>t+`.${_4}`).join(" "),cm="nodesRect",i9=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"],s9={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},l9="ontouchstart"in Ln.Konva._global;function o9(t,e,n){if(t==="rotater")return n;e+=Re.Util.degToRad(s9[t]||0);const r=(Re.Util.radToDeg(e)%360+360)%360;return Re.Util._inRange(r,315+22.5,360)||Re.Util._inRange(r,0,22.5)?"ns-resize":Re.Util._inRange(r,45-22.5,45+22.5)?"nesw-resize":Re.Util._inRange(r,90-22.5,90+22.5)?"ew-resize":Re.Util._inRange(r,135-22.5,135+22.5)?"nwse-resize":Re.Util._inRange(r,180-22.5,180+22.5)?"ns-resize":Re.Util._inRange(r,225-22.5,225+22.5)?"nesw-resize":Re.Util._inRange(r,270-22.5,270+22.5)?"ew-resize":Re.Util._inRange(r,315-22.5,315+22.5)?"nwse-resize":(Re.Util.error("Transformer has unknown angle for cursor detection: "+r),"pointer")}const Nu=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"];function a9(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function S4(t,e,n){const r=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),l=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return{...t,rotation:t.rotation+e,x:r,y:l}}function u9(t,e){const n=a9(t);return S4(t,e,n)}function c9(t,e,n){let r=e;for(let l=0;l<t.length;l++){const o=Ln.Konva.getAngle(t[l]),a=Math.abs(o-e)%(Math.PI*2);Math.min(a,Math.PI*2-a)<n&&(r=o)}return r}let Of=0;class _e extends um.Group{constructor(e){super(e),this._movingAnchorName=null,this._transforming=!1,this._createElements(),this._handleMouseMove=this._handleMouseMove.bind(this),this._handleMouseUp=this._handleMouseUp.bind(this),this.update=this.update.bind(this),this.on(r9,this.update),this.getNode()&&this.update()}attachTo(e){return this.setNode(e),this}setNode(e){return Re.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([e])}getNode(){return this._nodes&&this._nodes[0]}_getEventNamespace(){return _4+this._id}setNodes(e=[]){this._nodes&&this._nodes.length&&this.detach();const n=e.filter(l=>l.isAncestorOf(this)?(Re.Util.error("Konva.Transformer cannot be an a child of the node you are trying to attach"),!1):!0);return this._nodes=e=n,e.length===1&&this.useSingleNodeRotation()?this.rotation(e[0].getAbsoluteRotation()):this.rotation(0),this._nodes.forEach(l=>{const o=()=>{this.nodes().length===1&&this.useSingleNodeRotation()&&this.rotation(this.nodes()[0].getAbsoluteRotation()),this._resetTransformCache(),!this._transforming&&!this.isDragging()&&this.update()};if(l._attrsAffectingSize.length){const a=l._attrsAffectingSize.map(c=>c+"Change."+this._getEventNamespace()).join(" ");l.on(a,o)}l.on(i9.map(a=>a+`.${this._getEventNamespace()}`).join(" "),o),l.on(`absoluteTransformChange.${this._getEventNamespace()}`,o),this._proxyDrag(l)}),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this}_proxyDrag(e){let n;e.on(`dragstart.${this._getEventNamespace()}`,r=>{n=e.getAbsolutePosition(),!this.isDragging()&&e!==this.findOne(".back")&&this.startDrag(r,!1)}),e.on(`dragmove.${this._getEventNamespace()}`,r=>{if(!n)return;const l=e.getAbsolutePosition(),o=l.x-n.x,a=l.y-n.y;this.nodes().forEach(c=>{if(c===e||c.isDragging())return;const d=c.getAbsolutePosition();c.setAbsolutePosition({x:d.x+o,y:d.y+a}),c.startDrag(r)}),n=null})}getNodes(){return this._nodes||[]}getActiveAnchor(){return this._movingAnchorName}detach(){this._nodes&&this._nodes.forEach(e=>{e.off("."+this._getEventNamespace())}),this._nodes=[],this._resetTransformCache()}_resetTransformCache(){this._clearCache(cm),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")}_getNodeRect(){return this._getCache(cm,this.__getNodeRect)}__getNodeShape(e,n=this.rotation(),r){const l=e.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),o=e.getAbsoluteScale(r),a=e.getAbsolutePosition(r),c=l.x*o.x-e.offsetX()*o.x,d=l.y*o.y-e.offsetY()*o.y,g=(Ln.Konva.getAngle(e.getAbsoluteRotation())+Math.PI*2)%(Math.PI*2),x={x:a.x+c*Math.cos(g)+d*Math.sin(-g),y:a.y+d*Math.cos(g)+c*Math.sin(g),width:l.width*o.x,height:l.height*o.y,rotation:g};return S4(x,-Ln.Konva.getAngle(n),{x:0,y:0})}__getNodeRect(){if(!this.getNode())return{x:-1e8,y:-1e8,width:0,height:0,rotation:0};const n=[];this.nodes().map(g=>{const x=g.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),k=[{x:x.x,y:x.y},{x:x.x+x.width,y:x.y},{x:x.x+x.width,y:x.y+x.height},{x:x.x,y:x.y+x.height}],w=g.getAbsoluteTransform();k.forEach(function(N){const S=w.point(N);n.push(S)})});const r=new Re.Transform;r.rotate(-Ln.Konva.getAngle(this.rotation()));let l=1/0,o=1/0,a=-1/0,c=-1/0;n.forEach(function(g){const x=r.point(g);l===void 0&&(l=a=x.x,o=c=x.y),l=Math.min(l,x.x),o=Math.min(o,x.y),a=Math.max(a,x.x),c=Math.max(c,x.y)}),r.invert();const d=r.point({x:l,y:o});return{x:d.x,y:d.y,width:a-l,height:c-o,rotation:Ln.Konva.getAngle(this.rotation())}}getX(){return this._getNodeRect().x}getY(){return this._getNodeRect().y}getWidth(){return this._getNodeRect().width}getHeight(){return this._getNodeRect().height}_createElements(){this._createBack(),Nu.forEach(e=>{this._createAnchor(e)}),this._createAnchor("rotater")}_createAnchor(e){const n=new t9.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:e+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:l9?10:"auto"}),r=this;n.on("mousedown touchstart",function(l){r._handleMouseDown(l)}),n.on("dragstart",l=>{n.stopDrag(),l.cancelBubble=!0}),n.on("dragend",l=>{l.cancelBubble=!0}),n.on("mouseenter",()=>{const l=Ln.Konva.getAngle(this.rotation()),o=this.rotateAnchorCursor(),a=o9(e,l,o);n.getStage().content&&(n.getStage().content.style.cursor=a),this._cursorChange=!0}),n.on("mouseout",()=>{n.getStage().content&&(n.getStage().content.style.cursor=""),this._cursorChange=!1}),this.add(n)}_createBack(){const e=new e9.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc(n,r){const l=r.getParent(),o=l.padding();n.beginPath(),n.rect(-o,-o,r.width()+o*2,r.height()+o*2),n.moveTo(r.width()/2,-o),l.rotateEnabled()&&l.rotateLineVisible()&&n.lineTo(r.width()/2,-l.rotateAnchorOffset()*Re.Util._sign(r.height())-o),n.fillStrokeShape(r)},hitFunc:(n,r)=>{if(!this.shouldOverdrawWholeArea())return;const l=this.padding();n.beginPath(),n.rect(-l,-l,r.width()+l*2,r.height()+l*2),n.fillStrokeShape(r)}});this.add(e),this._proxyDrag(e),e.on("dragstart",n=>{n.cancelBubble=!0}),e.on("dragmove",n=>{n.cancelBubble=!0}),e.on("dragend",n=>{n.cancelBubble=!0}),this.on("dragmove",n=>{this.update()})}_handleMouseDown(e){if(this._transforming)return;this._movingAnchorName=e.target.name().split(" ")[0];const n=this._getNodeRect(),r=n.width,l=n.height,o=Math.sqrt(Math.pow(r,2)+Math.pow(l,2));this.sin=Math.abs(l/o),this.cos=Math.abs(r/o),typeof window<"u"&&(window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0)),this._transforming=!0;const a=e.target.getAbsolutePosition(),c=e.target.getStage().getPointerPosition();this._anchorDragOffset={x:c.x-a.x,y:c.y-a.y},Of++,this._fire("transformstart",{evt:e.evt,target:this.getNode()}),this._nodes.forEach(d=>{d._fire("transformstart",{evt:e.evt,target:d})})}_handleMouseMove(e){let n,r,l;const o=this.findOne("."+this._movingAnchorName),a=o.getStage();a.setPointersPositions(e);const c=a.getPointerPosition();let d={x:c.x-this._anchorDragOffset.x,y:c.y-this._anchorDragOffset.y};const g=o.getAbsolutePosition();this.anchorDragBoundFunc()&&(d=this.anchorDragBoundFunc()(g,d,e)),o.setAbsolutePosition(d);const x=o.getAbsolutePosition();if(g.x===x.x&&g.y===x.y)return;if(this._movingAnchorName==="rotater"){const C=this._getNodeRect();n=o.x()-C.width/2,r=-o.y()+C.height/2;let p=Math.atan2(-r,n)+Math.PI/2;C.height<0&&(p-=Math.PI);const P=Ln.Konva.getAngle(this.rotation())+p,R=Ln.Konva.getAngle(this.rotationSnapTolerance()),M=c9(this.rotationSnaps(),P,R)-C.rotation,I=u9(C,M);this._fitNodesInto(I,e);return}const k=this.shiftBehavior();let w;k==="inverted"?w=this.keepRatio()&&!e.shiftKey:k==="none"?w=this.keepRatio():w=this.keepRatio()||e.shiftKey;let N=this.centeredScaling()||e.altKey;if(this._movingAnchorName==="top-left"){if(w){const C=N?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};l=Math.sqrt(Math.pow(C.x-o.x(),2)+Math.pow(C.y-o.y(),2));const p=this.findOne(".top-left").x()>C.x?-1:1,m=this.findOne(".top-left").y()>C.y?-1:1;n=l*this.cos*p,r=l*this.sin*m,this.findOne(".top-left").x(C.x-n),this.findOne(".top-left").y(C.y-r)}}else if(this._movingAnchorName==="top-center")this.findOne(".top-left").y(o.y());else if(this._movingAnchorName==="top-right"){if(w){const C=N?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()};l=Math.sqrt(Math.pow(o.x()-C.x,2)+Math.pow(C.y-o.y(),2));const p=this.findOne(".top-right").x()<C.x?-1:1,m=this.findOne(".top-right").y()>C.y?-1:1;n=l*this.cos*p,r=l*this.sin*m,this.findOne(".top-right").x(C.x+n),this.findOne(".top-right").y(C.y-r)}var S=o.position();this.findOne(".top-left").y(S.y),this.findOne(".bottom-right").x(S.x)}else if(this._movingAnchorName==="middle-left")this.findOne(".top-left").x(o.x());else if(this._movingAnchorName==="middle-right")this.findOne(".bottom-right").x(o.x());else if(this._movingAnchorName==="bottom-left"){if(w){const C=N?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()};l=Math.sqrt(Math.pow(C.x-o.x(),2)+Math.pow(o.y()-C.y,2));const p=C.x<o.x()?-1:1,m=o.y()<C.y?-1:1;n=l*this.cos*p,r=l*this.sin*m,o.x(C.x-n),o.y(C.y+r)}S=o.position(),this.findOne(".top-left").x(S.x),this.findOne(".bottom-right").y(S.y)}else if(this._movingAnchorName==="bottom-center")this.findOne(".bottom-right").y(o.y());else if(this._movingAnchorName==="bottom-right"){if(w){const C=N?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()};l=Math.sqrt(Math.pow(o.x()-C.x,2)+Math.pow(o.y()-C.y,2));const p=this.findOne(".bottom-right").x()<C.x?-1:1,m=this.findOne(".bottom-right").y()<C.y?-1:1;n=l*this.cos*p,r=l*this.sin*m,this.findOne(".bottom-right").x(C.x+n),this.findOne(".bottom-right").y(C.y+r)}}else console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(N=this.centeredScaling()||e.altKey,N){const C=this.findOne(".top-left"),p=this.findOne(".bottom-right"),m=C.x(),P=C.y(),R=this.getWidth()-p.x(),F=this.getHeight()-p.y();p.move({x:-m,y:-P}),C.move({x:R,y:F})}const E=this.findOne(".top-left").getAbsolutePosition();n=E.x,r=E.y;const T=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),_=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:n,y:r,width:T,height:_,rotation:Ln.Konva.getAngle(this.rotation())},e)}_handleMouseUp(e){this._removeEvents(e)}getAbsoluteTransform(){return this.getTransform()}_removeEvents(e){var n;if(this._transforming){this._transforming=!1,typeof window<"u"&&(window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0));const r=this.getNode();Of--,this._fire("transformend",{evt:e,target:r}),(n=this.getLayer())===null||n===void 0||n.batchDraw(),r&&this._nodes.forEach(l=>{var o;l._fire("transformend",{evt:e,target:l}),(o=l.getLayer())===null||o===void 0||o.batchDraw()}),this._movingAnchorName=null}}_fitNodesInto(e,n){const r=this._getNodeRect(),l=1;if(Re.Util._inRange(e.width,-this.padding()*2-l,l)){this.update();return}if(Re.Util._inRange(e.height,-this.padding()*2-l,l)){this.update();return}const o=new Re.Transform;if(o.rotate(Ln.Konva.getAngle(this.rotation())),this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("left")>=0){const w=o.point({x:-this.padding()*2,y:0});e.x+=w.x,e.y+=w.y,e.width+=this.padding()*2,this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=w.x,this._anchorDragOffset.y-=w.y}else if(this._movingAnchorName&&e.width<0&&this._movingAnchorName.indexOf("right")>=0){const w=o.point({x:this.padding()*2,y:0});this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=w.x,this._anchorDragOffset.y-=w.y,e.width+=this.padding()*2}if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("top")>=0){const w=o.point({x:0,y:-this.padding()*2});e.x+=w.x,e.y+=w.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=w.x,this._anchorDragOffset.y-=w.y,e.height+=this.padding()*2}else if(this._movingAnchorName&&e.height<0&&this._movingAnchorName.indexOf("bottom")>=0){const w=o.point({x:0,y:this.padding()*2});this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=w.x,this._anchorDragOffset.y-=w.y,e.height+=this.padding()*2}if(this.boundBoxFunc()){const w=this.boundBoxFunc()(r,e);w?e=w:Re.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}const a=1e7,c=new Re.Transform;c.translate(r.x,r.y),c.rotate(r.rotation),c.scale(r.width/a,r.height/a);const d=new Re.Transform,g=e.width/a,x=e.height/a;this.flipEnabled()===!1?(d.translate(e.x,e.y),d.rotate(e.rotation),d.translate(e.width<0?e.width:0,e.height<0?e.height:0),d.scale(Math.abs(g),Math.abs(x))):(d.translate(e.x,e.y),d.rotate(e.rotation),d.scale(g,x));const k=d.multiply(c.invert());this._nodes.forEach(w=>{var N;const S=w.getParent().getAbsoluteTransform(),E=w.getTransform().copy();E.translate(w.offsetX(),w.offsetY());const T=new Re.Transform;T.multiply(S.copy().invert()).multiply(k).multiply(S).multiply(E);const _=T.decompose();w.setAttrs(_),(N=w.getLayer())===null||N===void 0||N.batchDraw()}),this.rotation(Re.Util._getRotation(e.rotation)),this._nodes.forEach(w=>{this._fire("transform",{evt:n,target:w}),w._fire("transform",{evt:n,target:w})}),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}forceUpdate(){this._resetTransformCache(),this.update()}_batchChangeChild(e,n){this.findOne(e).setAttrs(n)}update(){var e;const n=this._getNodeRect();this.rotation(Re.Util._getRotation(n.rotation));const r=n.width,l=n.height,o=this.enabledAnchors(),a=this.resizeEnabled(),c=this.padding(),d=this.anchorSize(),g=this.find("._anchor");g.forEach(k=>{k.setAttrs({width:d,height:d,offsetX:d/2,offsetY:d/2,stroke:this.anchorStroke(),strokeWidth:this.anchorStrokeWidth(),fill:this.anchorFill(),cornerRadius:this.anchorCornerRadius()})}),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:d/2+c,offsetY:d/2+c,visible:a&&o.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:r/2,y:0,offsetY:d/2+c,visible:a&&o.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:r,y:0,offsetX:d/2-c,offsetY:d/2+c,visible:a&&o.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:l/2,offsetX:d/2+c,visible:a&&o.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:r,y:l/2,offsetX:d/2-c,visible:a&&o.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:l,offsetX:d/2+c,offsetY:d/2-c,visible:a&&o.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:r/2,y:l,offsetY:d/2-c,visible:a&&o.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:r,y:l,offsetX:d/2-c,offsetY:d/2-c,visible:a&&o.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:r/2,y:-this.rotateAnchorOffset()*Re.Util._sign(l)-c,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:r,height:l,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0});const x=this.anchorStyleFunc();x&&g.forEach(k=>{x(k)}),(e=this.getLayer())===null||e===void 0||e.batchDraw()}isTransforming(){return this._transforming}stopTransform(){if(this._transforming){this._removeEvents();const e=this.findOne("."+this._movingAnchorName);e&&e.stopDrag()}}destroy(){return this.getStage()&&this._cursorChange&&this.getStage().content&&(this.getStage().content.style.cursor=""),um.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this}toObject(){return am.Node.prototype.toObject.call(this)}clone(e){return am.Node.prototype.clone.call(this,e)}getClientRect(){return this.nodes().length>0?super.getClientRect():{x:0,y:0,width:0,height:0}}}dc.Transformer=_e;_e.isTransforming=()=>Of>0;function d9(t){return t instanceof Array||Re.Util.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach(function(e){Nu.indexOf(e)===-1&&Re.Util.warn("Unknown anchor name: "+e+". Available names are: "+Nu.join(", "))}),t||[]}_e.prototype.className="Transformer";(0,n9._registerNode)(_e);Ee.Factory.addGetterSetter(_e,"enabledAnchors",Nu,d9);Ee.Factory.addGetterSetter(_e,"flipEnabled",!0,(0,pi.getBooleanValidator)());Ee.Factory.addGetterSetter(_e,"resizeEnabled",!0);Ee.Factory.addGetterSetter(_e,"anchorSize",10,(0,pi.getNumberValidator)());Ee.Factory.addGetterSetter(_e,"rotateEnabled",!0);Ee.Factory.addGetterSetter(_e,"rotateLineVisible",!0);Ee.Factory.addGetterSetter(_e,"rotationSnaps",[]);Ee.Factory.addGetterSetter(_e,"rotateAnchorOffset",50,(0,pi.getNumberValidator)());Ee.Factory.addGetterSetter(_e,"rotateAnchorCursor","crosshair");Ee.Factory.addGetterSetter(_e,"rotationSnapTolerance",5,(0,pi.getNumberValidator)());Ee.Factory.addGetterSetter(_e,"borderEnabled",!0);Ee.Factory.addGetterSetter(_e,"anchorStroke","rgb(0, 161, 255)");Ee.Factory.addGetterSetter(_e,"anchorStrokeWidth",1,(0,pi.getNumberValidator)());Ee.Factory.addGetterSetter(_e,"anchorFill","white");Ee.Factory.addGetterSetter(_e,"anchorCornerRadius",0,(0,pi.getNumberValidator)());Ee.Factory.addGetterSetter(_e,"borderStroke","rgb(0, 161, 255)");Ee.Factory.addGetterSetter(_e,"borderStrokeWidth",1,(0,pi.getNumberValidator)());Ee.Factory.addGetterSetter(_e,"borderDash");Ee.Factory.addGetterSetter(_e,"keepRatio",!0);Ee.Factory.addGetterSetter(_e,"shiftBehavior","default");Ee.Factory.addGetterSetter(_e,"centeredScaling",!1);Ee.Factory.addGetterSetter(_e,"ignoreStroke",!1);Ee.Factory.addGetterSetter(_e,"padding",0,(0,pi.getNumberValidator)());Ee.Factory.addGetterSetter(_e,"nodes");Ee.Factory.addGetterSetter(_e,"node");Ee.Factory.addGetterSetter(_e,"boundBoxFunc");Ee.Factory.addGetterSetter(_e,"anchorDragBoundFunc");Ee.Factory.addGetterSetter(_e,"anchorStyleFunc");Ee.Factory.addGetterSetter(_e,"shouldOverdrawWholeArea",!1);Ee.Factory.addGetterSetter(_e,"useSingleNodeRotation",!0);Ee.Factory.backCompat(_e,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"});var hc={};Object.defineProperty(hc,"__esModule",{value:!0});hc.Wedge=void 0;const fc=ve,h9=ht,f9=pe,w4=ae,p9=pe;class Er extends h9.Shape{_sceneFunc(e){e.beginPath(),e.arc(0,0,this.radius(),0,f9.Konva.getAngle(this.angle()),this.clockwise()),e.lineTo(0,0),e.closePath(),e.fillStrokeShape(this)}getWidth(){return this.radius()*2}getHeight(){return this.radius()*2}setWidth(e){this.radius(e/2)}setHeight(e){this.radius(e/2)}}hc.Wedge=Er;Er.prototype.className="Wedge";Er.prototype._centroid=!0;Er.prototype._attrsAffectingSize=["radius"];(0,p9._registerNode)(Er);fc.Factory.addGetterSetter(Er,"radius",0,(0,w4.getNumberValidator)());fc.Factory.addGetterSetter(Er,"angle",0,(0,w4.getNumberValidator)());fc.Factory.addGetterSetter(Er,"clockwise",!1);fc.Factory.backCompat(Er,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"});var pc={};Object.defineProperty(pc,"__esModule",{value:!0});pc.Blur=void 0;const dm=ve,g9=Ke,m9=ae;function hm(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}const v9=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],y9=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function x9(t,e){const n=t.data,r=t.width,l=t.height;let o,a,c,d,g,x,k,w,N,S,E,T,_,C,p,m,P,R,F,M;const I=e+e+1,L=r-1,G=l-1,U=e+1,H=U*(U+1)/2,X=new hm,$=v9[e],ge=y9[e];let Se=null,V=X,J=null,Q=null;for(let q=1;q<I;q++)V=V.next=new hm,q===U&&(Se=V);V.next=X,c=a=0;for(let q=0;q<l;q++){T=_=C=p=d=g=x=k=0,w=U*(m=n[a]),N=U*(P=n[a+1]),S=U*(R=n[a+2]),E=U*(F=n[a+3]),d+=H*m,g+=H*P,x+=H*R,k+=H*F,V=X;for(let se=0;se<U;se++)V.r=m,V.g=P,V.b=R,V.a=F,V=V.next;for(let se=1;se<U;se++)o=a+((L<se?L:se)<<2),d+=(V.r=m=n[o])*(M=U-se),g+=(V.g=P=n[o+1])*M,x+=(V.b=R=n[o+2])*M,k+=(V.a=F=n[o+3])*M,T+=m,_+=P,C+=R,p+=F,V=V.next;J=X,Q=Se;for(let se=0;se<r;se++)n[a+3]=F=k*$>>ge,F!==0?(F=255/F,n[a]=(d*$>>ge)*F,n[a+1]=(g*$>>ge)*F,n[a+2]=(x*$>>ge)*F):n[a]=n[a+1]=n[a+2]=0,d-=w,g-=N,x-=S,k-=E,w-=J.r,N-=J.g,S-=J.b,E-=J.a,o=c+((o=se+e+1)<L?o:L)<<2,T+=J.r=n[o],_+=J.g=n[o+1],C+=J.b=n[o+2],p+=J.a=n[o+3],d+=T,g+=_,x+=C,k+=p,J=J.next,w+=m=Q.r,N+=P=Q.g,S+=R=Q.b,E+=F=Q.a,T-=m,_-=P,C-=R,p-=F,Q=Q.next,a+=4;c+=r}for(let q=0;q<r;q++){_=C=p=T=g=x=k=d=0,a=q<<2,w=U*(m=n[a]),N=U*(P=n[a+1]),S=U*(R=n[a+2]),E=U*(F=n[a+3]),d+=H*m,g+=H*P,x+=H*R,k+=H*F,V=X;for(let Pe=0;Pe<U;Pe++)V.r=m,V.g=P,V.b=R,V.a=F,V=V.next;let se=r;for(let Pe=1;Pe<=e;Pe++)a=se+q<<2,d+=(V.r=m=n[a])*(M=U-Pe),g+=(V.g=P=n[a+1])*M,x+=(V.b=R=n[a+2])*M,k+=(V.a=F=n[a+3])*M,T+=m,_+=P,C+=R,p+=F,V=V.next,Pe<G&&(se+=r);a=q,J=X,Q=Se;for(let Pe=0;Pe<l;Pe++)o=a<<2,n[o+3]=F=k*$>>ge,F>0?(F=255/F,n[o]=(d*$>>ge)*F,n[o+1]=(g*$>>ge)*F,n[o+2]=(x*$>>ge)*F):n[o]=n[o+1]=n[o+2]=0,d-=w,g-=N,x-=S,k-=E,w-=J.r,N-=J.g,S-=J.b,E-=J.a,o=q+((o=Pe+U)<G?o:G)*r<<2,d+=T+=J.r=n[o],g+=_+=J.g=n[o+1],x+=C+=J.b=n[o+2],k+=p+=J.a=n[o+3],J=J.next,w+=m=Q.r,N+=P=Q.g,S+=R=Q.b,E+=F=Q.a,T-=m,_-=P,C-=R,p-=F,Q=Q.next,a+=r}}const _9=function(e){const n=Math.round(this.blurRadius());n>0&&x9(e,n)};pc.Blur=_9;dm.Factory.addGetterSetter(g9.Node,"blurRadius",0,(0,m9.getNumberValidator)(),dm.Factory.afterSetFilter);var gc={};Object.defineProperty(gc,"__esModule",{value:!0});gc.Brighten=void 0;const fm=ve,S9=Ke,w9=ae,C9=function(t){const e=this.brightness()*255,n=t.data,r=n.length;for(let l=0;l<r;l+=4)n[l]+=e,n[l+1]+=e,n[l+2]+=e};gc.Brighten=C9;fm.Factory.addGetterSetter(S9.Node,"brightness",0,(0,w9.getNumberValidator)(),fm.Factory.afterSetFilter);var mc={};Object.defineProperty(mc,"__esModule",{value:!0});mc.Contrast=void 0;const pm=ve,k9=Ke,N9=ae,P9=function(t){const e=Math.pow((this.contrast()+100)/100,2),n=t.data,r=n.length;let l=150,o=150,a=150;for(let c=0;c<r;c+=4)l=n[c],o=n[c+1],a=n[c+2],l/=255,l-=.5,l*=e,l+=.5,l*=255,o/=255,o-=.5,o*=e,o+=.5,o*=255,a/=255,a-=.5,a*=e,a+=.5,a*=255,l=l<0?0:l>255?255:l,o=o<0?0:o>255?255:o,a=a<0?0:a>255?255:a,n[c]=l,n[c+1]=o,n[c+2]=a};mc.Contrast=P9;pm.Factory.addGetterSetter(k9.Node,"contrast",0,(0,N9.getNumberValidator)(),pm.Factory.afterSetFilter);var vc={};Object.defineProperty(vc,"__esModule",{value:!0});vc.Emboss=void 0;const si=ve,yc=Ke,E9=Je,C4=ae,T9=function(t){const e=this.embossStrength()*10,n=this.embossWhiteLevel()*255,r=this.embossDirection(),l=this.embossBlend(),o=t.data,a=t.width,c=t.height,d=a*4;let g=0,x=0,k=c;switch(r){case"top-left":g=-1,x=-1;break;case"top":g=-1,x=0;break;case"top-right":g=-1,x=1;break;case"right":g=0,x=1;break;case"bottom-right":g=1,x=1;break;case"bottom":g=1,x=0;break;case"bottom-left":g=1,x=-1;break;case"left":g=0,x=-1;break;default:E9.Util.error("Unknown emboss direction: "+r)}do{const w=(k-1)*d;let N=g;k+N<1&&(N=0),k+N>c&&(N=0);const S=(k-1+N)*a*4;let E=a;do{const T=w+(E-1)*4;let _=x;E+_<1&&(_=0),E+_>a&&(_=0);const C=S+(E-1+_)*4,p=o[T]-o[C],m=o[T+1]-o[C+1],P=o[T+2]-o[C+2];let R=p;const F=R>0?R:-R,M=m>0?m:-m,I=P>0?P:-P;if(M>F&&(R=m),I>F&&(R=P),R*=e,l){const L=o[T]+R,G=o[T+1]+R,U=o[T+2]+R;o[T]=L>255?255:L<0?0:L,o[T+1]=G>255?255:G<0?0:G,o[T+2]=U>255?255:U<0?0:U}else{let L=n-R;L<0?L=0:L>255&&(L=255),o[T]=o[T+1]=o[T+2]=L}}while(--E)}while(--k)};vc.Emboss=T9;si.Factory.addGetterSetter(yc.Node,"embossStrength",.5,(0,C4.getNumberValidator)(),si.Factory.afterSetFilter);si.Factory.addGetterSetter(yc.Node,"embossWhiteLevel",.5,(0,C4.getNumberValidator)(),si.Factory.afterSetFilter);si.Factory.addGetterSetter(yc.Node,"embossDirection","top-left",void 0,si.Factory.afterSetFilter);si.Factory.addGetterSetter(yc.Node,"embossBlend",!1,void 0,si.Factory.afterSetFilter);var xc={};Object.defineProperty(xc,"__esModule",{value:!0});xc.Enhance=void 0;const gm=ve,j9=Ke,R9=ae;function Fh(t,e,n,r,l){const o=n-e,a=l-r;if(o===0)return r+a/2;if(a===0)return r;let c=(t-e)/o;return c=a*c+r,c}const M9=function(t){const e=t.data,n=e.length;let r=e[0],l=r,o,a=e[1],c=a,d,g=e[2],x=g,k;const w=this.enhance();if(w===0)return;for(let p=0;p<n;p+=4)o=e[p+0],o<r?r=o:o>l&&(l=o),d=e[p+1],d<a?a=d:d>c&&(c=d),k=e[p+2],k<g?g=k:k>x&&(x=k);l===r&&(l=255,r=0),c===a&&(c=255,a=0),x===g&&(x=255,g=0);let N,S,E,T,_,C;if(w>0)N=l+w*(255-l),S=r-w*(r-0),E=c+w*(255-c),T=a-w*(a-0),_=x+w*(255-x),C=g-w*(g-0);else{const p=(l+r)*.5;N=l+w*(l-p),S=r+w*(r-p);const m=(c+a)*.5;E=c+w*(c-m),T=a+w*(a-m);const P=(x+g)*.5;_=x+w*(x-P),C=g+w*(g-P)}for(let p=0;p<n;p+=4)e[p+0]=Fh(e[p+0],r,l,S,N),e[p+1]=Fh(e[p+1],a,c,T,E),e[p+2]=Fh(e[p+2],g,x,C,_)};xc.Enhance=M9;gm.Factory.addGetterSetter(j9.Node,"enhance",0,(0,R9.getNumberValidator)(),gm.Factory.afterSetFilter);var _c={};Object.defineProperty(_c,"__esModule",{value:!0});_c.Grayscale=void 0;const F9=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4){const l=.34*e[r]+.5*e[r+1]+.16*e[r+2];e[r]=l,e[r+1]=l,e[r+2]=l}};_c.Grayscale=F9;var Sc={};Object.defineProperty(Sc,"__esModule",{value:!0});Sc.HSL=void 0;const Bs=ve,B0=Ke,V0=ae;Bs.Factory.addGetterSetter(B0.Node,"hue",0,(0,V0.getNumberValidator)(),Bs.Factory.afterSetFilter);Bs.Factory.addGetterSetter(B0.Node,"saturation",0,(0,V0.getNumberValidator)(),Bs.Factory.afterSetFilter);Bs.Factory.addGetterSetter(B0.Node,"luminance",0,(0,V0.getNumberValidator)(),Bs.Factory.afterSetFilter);const L9=function(t){const e=t.data,n=e.length,r=1,l=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,a=this.luminance()*127,c=r*l*Math.cos(o*Math.PI/180),d=r*l*Math.sin(o*Math.PI/180),g=.299*r+.701*c+.167*d,x=.587*r-.587*c+.33*d,k=.114*r-.114*c-.497*d,w=.299*r-.299*c-.328*d,N=.587*r+.413*c+.035*d,S=.114*r-.114*c+.293*d,E=.299*r-.3*c+1.25*d,T=.587*r-.586*c-1.05*d,_=.114*r+.886*c-.2*d;let C,p,m,P;for(let R=0;R<n;R+=4)C=e[R+0],p=e[R+1],m=e[R+2],P=e[R+3],e[R+0]=g*C+x*p+k*m+a,e[R+1]=w*C+N*p+S*m+a,e[R+2]=E*C+T*p+_*m+a,e[R+3]=P};Sc.HSL=L9;var wc={};Object.defineProperty(wc,"__esModule",{value:!0});wc.HSV=void 0;const Vs=ve,H0=Ke,W0=ae,A9=function(t){const e=t.data,n=e.length,r=Math.pow(2,this.value()),l=Math.pow(2,this.saturation()),o=Math.abs(this.hue()+360)%360,a=r*l*Math.cos(o*Math.PI/180),c=r*l*Math.sin(o*Math.PI/180),d=.299*r+.701*a+.167*c,g=.587*r-.587*a+.33*c,x=.114*r-.114*a-.497*c,k=.299*r-.299*a-.328*c,w=.587*r+.413*a+.035*c,N=.114*r-.114*a+.293*c,S=.299*r-.3*a+1.25*c,E=.587*r-.586*a-1.05*c,T=.114*r+.886*a-.2*c;for(let _=0;_<n;_+=4){const C=e[_+0],p=e[_+1],m=e[_+2],P=e[_+3];e[_+0]=d*C+g*p+x*m,e[_+1]=k*C+w*p+N*m,e[_+2]=S*C+E*p+T*m,e[_+3]=P}};wc.HSV=A9;Vs.Factory.addGetterSetter(H0.Node,"hue",0,(0,W0.getNumberValidator)(),Vs.Factory.afterSetFilter);Vs.Factory.addGetterSetter(H0.Node,"saturation",0,(0,W0.getNumberValidator)(),Vs.Factory.afterSetFilter);Vs.Factory.addGetterSetter(H0.Node,"value",0,(0,W0.getNumberValidator)(),Vs.Factory.afterSetFilter);var Cc={};Object.defineProperty(Cc,"__esModule",{value:!0});Cc.Invert=void 0;const O9=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4)e[r]=255-e[r],e[r+1]=255-e[r+1],e[r+2]=255-e[r+2]};Cc.Invert=O9;var kc={};Object.defineProperty(kc,"__esModule",{value:!0});kc.Kaleidoscope=void 0;const Pu=ve,k4=Ke,mm=Je,N4=ae,b9=function(t,e,n){const r=t.data,l=e.data,o=t.width,a=t.height,c=n.polarCenterX||o/2,d=n.polarCenterY||a/2;let g=Math.sqrt(c*c+d*d),x=o-c,k=a-d;const w=Math.sqrt(x*x+k*k);g=w>g?w:g;const N=a,S=o,E=360/S*Math.PI/180;for(let T=0;T<S;T+=1){const _=Math.sin(T*E),C=Math.cos(T*E);for(let p=0;p<N;p+=1){x=Math.floor(c+g*p/N*C),k=Math.floor(d+g*p/N*_);let m=(k*o+x)*4;const P=r[m+0],R=r[m+1],F=r[m+2],M=r[m+3];m=(T+p*o)*4,l[m+0]=P,l[m+1]=R,l[m+2]=F,l[m+3]=M}}},I9=function(t,e,n){const r=t.data,l=e.data,o=t.width,a=t.height,c=n.polarCenterX||o/2,d=n.polarCenterY||a/2;let g=Math.sqrt(c*c+d*d),x=o-c,k=a-d;const w=Math.sqrt(x*x+k*k);g=w>g?w:g;const N=a,S=o,E=0;let T,_;for(x=0;x<o;x+=1)for(k=0;k<a;k+=1){const C=x-c,p=k-d,m=Math.sqrt(C*C+p*p)*N/g;let P=(Math.atan2(p,C)*180/Math.PI+360+E)%360;P=P*S/360,T=Math.floor(P),_=Math.floor(m);let R=(_*o+T)*4;const F=r[R+0],M=r[R+1],I=r[R+2],L=r[R+3];R=(k*o+x)*4,l[R+0]=F,l[R+1]=M,l[R+2]=I,l[R+3]=L}},D9=function(t){const e=t.width,n=t.height;let r,l,o,a,c,d,g,x,k,w,N=Math.round(this.kaleidoscopePower());const S=Math.round(this.kaleidoscopeAngle()),E=Math.floor(e*(S%360)/360);if(N<1)return;const T=mm.Util.createCanvasElement();T.width=e,T.height=n;const _=T.getContext("2d").getImageData(0,0,e,n);mm.Util.releaseCanvas(T),b9(t,_,{polarCenterX:e/2,polarCenterY:n/2});let C=e/Math.pow(2,N);for(;C<=8;)C=C*2,N-=1;C=Math.ceil(C);let p=C,m=0,P=p,R=1;for(E+C>e&&(m=p,P=0,R=-1),l=0;l<n;l+=1)for(r=m;r!==P;r+=R)o=Math.round(r+E)%e,k=(e*l+o)*4,c=_.data[k+0],d=_.data[k+1],g=_.data[k+2],x=_.data[k+3],w=(e*l+r)*4,_.data[w+0]=c,_.data[w+1]=d,_.data[w+2]=g,_.data[w+3]=x;for(l=0;l<n;l+=1)for(p=Math.floor(C),a=0;a<N;a+=1){for(r=0;r<p+1;r+=1)k=(e*l+r)*4,c=_.data[k+0],d=_.data[k+1],g=_.data[k+2],x=_.data[k+3],w=(e*l+p*2-r-1)*4,_.data[w+0]=c,_.data[w+1]=d,_.data[w+2]=g,_.data[w+3]=x;p*=2}I9(_,t,{})};kc.Kaleidoscope=D9;Pu.Factory.addGetterSetter(k4.Node,"kaleidoscopePower",2,(0,N4.getNumberValidator)(),Pu.Factory.afterSetFilter);Pu.Factory.addGetterSetter(k4.Node,"kaleidoscopeAngle",0,(0,N4.getNumberValidator)(),Pu.Factory.afterSetFilter);var Nc={};Object.defineProperty(Nc,"__esModule",{value:!0});Nc.Mask=void 0;const vm=ve,z9=Ke,U9=ae;function Da(t,e,n){let r=(n*t.width+e)*4;const l=[];return l.push(t.data[r++],t.data[r++],t.data[r++],t.data[r++]),l}function Ml(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function G9(t){const e=[0,0,0];for(let n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function B9(t,e){const n=Da(t,0,0),r=Da(t,t.width-1,0),l=Da(t,0,t.height-1),o=Da(t,t.width-1,t.height-1),a=e||10;if(Ml(n,r)<a&&Ml(r,o)<a&&Ml(o,l)<a&&Ml(l,n)<a){const c=G9([r,n,o,l]),d=[];for(let g=0;g<t.width*t.height;g++){const x=Ml(c,[t.data[g*4],t.data[g*4+1],t.data[g*4+2]]);d[g]=x<a?0:255}return d}}function V9(t,e){for(let n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function H9(t,e,n){const r=[1,1,1,1,0,1,1,1,1],l=Math.round(Math.sqrt(r.length)),o=Math.floor(l/2),a=[];for(let c=0;c<n;c++)for(let d=0;d<e;d++){const g=c*e+d;let x=0;for(let k=0;k<l;k++)for(let w=0;w<l;w++){const N=c+k-o,S=d+w-o;if(N>=0&&N<n&&S>=0&&S<e){const E=N*e+S,T=r[k*l+w];x+=t[E]*T}}a[g]=x===255*8?255:0}return a}function W9(t,e,n){const r=[1,1,1,1,1,1,1,1,1],l=Math.round(Math.sqrt(r.length)),o=Math.floor(l/2),a=[];for(let c=0;c<n;c++)for(let d=0;d<e;d++){const g=c*e+d;let x=0;for(let k=0;k<l;k++)for(let w=0;w<l;w++){const N=c+k-o,S=d+w-o;if(N>=0&&N<n&&S>=0&&S<e){const E=N*e+S,T=r[k*l+w];x+=t[E]*T}}a[g]=x>=255*4?255:0}return a}function K9(t,e,n){const r=[.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111,.1111111111111111],l=Math.round(Math.sqrt(r.length)),o=Math.floor(l/2),a=[];for(let c=0;c<n;c++)for(let d=0;d<e;d++){const g=c*e+d;let x=0;for(let k=0;k<l;k++)for(let w=0;w<l;w++){const N=c+k-o,S=d+w-o;if(N>=0&&N<n&&S>=0&&S<e){const E=N*e+S,T=r[k*l+w];x+=t[E]*T}}a[g]=x}return a}const $9=function(t){const e=this.threshold();let n=B9(t,e);return n&&(n=H9(n,t.width,t.height),n=W9(n,t.width,t.height),n=K9(n,t.width,t.height),V9(t,n)),t};Nc.Mask=$9;vm.Factory.addGetterSetter(z9.Node,"threshold",0,(0,U9.getNumberValidator)(),vm.Factory.afterSetFilter);var Pc={};Object.defineProperty(Pc,"__esModule",{value:!0});Pc.Noise=void 0;const ym=ve,Y9=Ke,Q9=ae,X9=function(t){const e=this.noise()*255,n=t.data,r=n.length,l=e/2;for(let o=0;o<r;o+=4)n[o+0]+=l-2*l*Math.random(),n[o+1]+=l-2*l*Math.random(),n[o+2]+=l-2*l*Math.random()};Pc.Noise=X9;ym.Factory.addGetterSetter(Y9.Node,"noise",.2,(0,Q9.getNumberValidator)(),ym.Factory.afterSetFilter);var Ec={};Object.defineProperty(Ec,"__esModule",{value:!0});Ec.Pixelate=void 0;const xm=ve,q9=Je,J9=Ke,Z9=ae,e7=function(t){let e=Math.ceil(this.pixelSize()),n=t.width,r=t.height,l=Math.ceil(n/e),o=Math.ceil(r/e),a=t.data;if(e<=0){q9.Util.error("pixelSize value can not be <= 0");return}for(let c=0;c<l;c+=1)for(let d=0;d<o;d+=1){let g=0,x=0,k=0,w=0;const N=c*e,S=N+e,E=d*e,T=E+e;let _=0;for(let C=N;C<S;C+=1)if(!(C>=n))for(let p=E;p<T;p+=1){if(p>=r)continue;const m=(n*p+C)*4;g+=a[m+0],x+=a[m+1],k+=a[m+2],w+=a[m+3],_+=1}g=g/_,x=x/_,k=k/_,w=w/_;for(let C=N;C<S;C+=1)if(!(C>=n))for(let p=E;p<T;p+=1){if(p>=r)continue;const m=(n*p+C)*4;a[m+0]=g,a[m+1]=x,a[m+2]=k,a[m+3]=w}}};Ec.Pixelate=e7;xm.Factory.addGetterSetter(J9.Node,"pixelSize",8,(0,Z9.getNumberValidator)(),xm.Factory.afterSetFilter);var Tc={};Object.defineProperty(Tc,"__esModule",{value:!0});Tc.Posterize=void 0;const _m=ve,t7=Ke,n7=ae,r7=function(t){const e=Math.round(this.levels()*254)+1,n=t.data,r=n.length,l=255/e;for(let o=0;o<r;o+=1)n[o]=Math.floor(n[o]/l)*l};Tc.Posterize=r7;_m.Factory.addGetterSetter(t7.Node,"levels",.5,(0,n7.getNumberValidator)(),_m.Factory.afterSetFilter);var jc={};Object.defineProperty(jc,"__esModule",{value:!0});jc.RGB=void 0;const Eu=ve,K0=Ke,i7=ae,s7=function(t){const e=t.data,n=e.length,r=this.red(),l=this.green(),o=this.blue();for(let a=0;a<n;a+=4){const c=(.34*e[a]+.5*e[a+1]+.16*e[a+2])/255;e[a]=c*r,e[a+1]=c*l,e[a+2]=c*o,e[a+3]=e[a+3]}};jc.RGB=s7;Eu.Factory.addGetterSetter(K0.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Eu.Factory.addGetterSetter(K0.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});Eu.Factory.addGetterSetter(K0.Node,"blue",0,i7.RGBComponent,Eu.Factory.afterSetFilter);var Rc={};Object.defineProperty(Rc,"__esModule",{value:!0});Rc.RGBA=void 0;const ho=ve,Mc=Ke,l7=ae,o7=function(t){const e=t.data,n=e.length,r=this.red(),l=this.green(),o=this.blue(),a=this.alpha();for(let c=0;c<n;c+=4){const d=1-a;e[c]=r*a+e[c]*d,e[c+1]=l*a+e[c+1]*d,e[c+2]=o*a+e[c+2]*d}};Rc.RGBA=o7;ho.Factory.addGetterSetter(Mc.Node,"red",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});ho.Factory.addGetterSetter(Mc.Node,"green",0,function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)});ho.Factory.addGetterSetter(Mc.Node,"blue",0,l7.RGBComponent,ho.Factory.afterSetFilter);ho.Factory.addGetterSetter(Mc.Node,"alpha",1,function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t});var Fc={};Object.defineProperty(Fc,"__esModule",{value:!0});Fc.Sepia=void 0;const a7=function(t){const e=t.data,n=e.length;for(let r=0;r<n;r+=4){const l=e[r+0],o=e[r+1],a=e[r+2];e[r+0]=Math.min(255,l*.393+o*.769+a*.189),e[r+1]=Math.min(255,l*.349+o*.686+a*.168),e[r+2]=Math.min(255,l*.272+o*.534+a*.131)}};Fc.Sepia=a7;var Lc={};Object.defineProperty(Lc,"__esModule",{value:!0});Lc.Solarize=void 0;const u7=function(t){const e=t.data,n=t.width,r=t.height,l=n*4;let o=r;do{const a=(o-1)*l;let c=n;do{const d=a+(c-1)*4;let g=e[d],x=e[d+1],k=e[d+2];g>127&&(g=255-g),x>127&&(x=255-x),k>127&&(k=255-k),e[d]=g,e[d+1]=x,e[d+2]=k}while(--c)}while(--o)};Lc.Solarize=u7;var Ac={};Object.defineProperty(Ac,"__esModule",{value:!0});Ac.Threshold=void 0;const Sm=ve,c7=Ke,d7=ae,h7=function(t){const e=this.threshold()*255,n=t.data,r=n.length;for(let l=0;l<r;l+=1)n[l]=n[l]<e?0:255};Ac.Threshold=h7;Sm.Factory.addGetterSetter(c7.Node,"threshold",.5,(0,d7.getNumberValidator)(),Sm.Factory.afterSetFilter);Object.defineProperty(Hu,"__esModule",{value:!0});Hu.Konva=void 0;const wm=Cu,f7=Qu,p7=Ju,g7=tc,m7=nc,v7=rc,Cm=Gs,y7=So,x7=qs,_7=Co,S7=lc,w7=oc,C7=ac,k7=uc,N7=Zs,P7=cc,E7=dc,T7=hc,j7=pc,R7=gc,M7=mc,F7=vc,L7=xc,A7=_c,O7=Sc,b7=wc,I7=Cc,D7=kc,z7=Nc,U7=Pc,G7=Ec,B7=Tc,V7=jc,H7=Rc,W7=Fc,K7=Lc,$7=Ac;Hu.Konva=wm.Konva.Util._assign(wm.Konva,{Arc:f7.Arc,Arrow:p7.Arrow,Circle:g7.Circle,Ellipse:m7.Ellipse,Image:v7.Image,Label:Cm.Label,Tag:Cm.Tag,Line:y7.Line,Path:x7.Path,Rect:_7.Rect,RegularPolygon:S7.RegularPolygon,Ring:w7.Ring,Sprite:C7.Sprite,Star:k7.Star,Text:N7.Text,TextPath:P7.TextPath,Transformer:E7.Transformer,Wedge:T7.Wedge,Filters:{Blur:j7.Blur,Brighten:R7.Brighten,Contrast:M7.Contrast,Emboss:F7.Emboss,Enhance:L7.Enhance,Grayscale:A7.Grayscale,HSL:O7.HSL,HSV:b7.HSV,Invert:I7.Invert,Kaleidoscope:D7.Kaleidoscope,Mask:z7.Mask,Noise:U7.Noise,Pixelate:G7.Pixelate,Posterize:B7.Posterize,RGB:V7.RGB,RGBA:H7.RGBA,Sepia:W7.Sepia,Solarize:K7.Solarize,Threshold:$7.Threshold}});var Y7=Kv.exports;Object.defineProperty(Y7,"__esModule",{value:!0});const Q7=Hu;Kv.exports=Q7.Konva;var bf={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.Konva=void 0;var n=Cu;Object.defineProperty(e,"Konva",{enumerable:!0,get:function(){return n.Konva}});const r=Cu;t.exports=r.Konva})(bf,bf.exports);var X7=bf.exports;const fo=If(X7);var P4={exports:{}};/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q7=function(e){var n={},r=te,l=Il,o=Object.assign;function a(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,d=Symbol.for("react.element"),g=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),S=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.for("react.offscreen"),P=Symbol.iterator;function R(i){return i===null||typeof i!="object"?null:(i=P&&i[P]||i["@@iterator"],typeof i=="function"?i:null)}function F(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case g:return"Portal";case w:return"Profiler";case k:return"StrictMode";case T:return"Suspense";case _:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case S:return(i.displayName||"Context")+".Consumer";case N:return(i._context.displayName||"Context")+".Provider";case E:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case C:return s=i.displayName||null,s!==null?s:F(i.type)||"Memo";case p:s=i._payload,i=i._init;try{return F(i(s))}catch{}}return null}function M(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return F(s);case 8:return s===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function I(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function L(i){if(I(i)!==i)throw Error(a(188))}function G(i){var s=i.alternate;if(!s){if(s=I(i),s===null)throw Error(a(188));return s!==i?null:i}for(var u=i,h=s;;){var f=u.return;if(f===null)break;var v=f.alternate;if(v===null){if(h=f.return,h!==null){u=h;continue}break}if(f.child===v.child){for(v=f.child;v;){if(v===u)return L(f),i;if(v===h)return L(f),s;v=v.sibling}throw Error(a(188))}if(u.return!==h.return)u=f,h=v;else{for(var j=!1,A=f.child;A;){if(A===u){j=!0,u=f,h=v;break}if(A===h){j=!0,h=f,u=v;break}A=A.sibling}if(!j){for(A=v.child;A;){if(A===u){j=!0,u=v,h=f;break}if(A===h){j=!0,h=v,u=f;break}A=A.sibling}if(!j)throw Error(a(189))}}if(u.alternate!==h)throw Error(a(190))}if(u.tag!==3)throw Error(a(188));return u.stateNode.current===u?i:s}function U(i){return i=G(i),i!==null?H(i):null}function H(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=H(i);if(s!==null)return s;i=i.sibling}return null}function X(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){if(i.tag!==4){var s=X(i);if(s!==null)return s}i=i.sibling}return null}var $=Array.isArray,ge=e.getPublicInstance,Se=e.getRootHostContext,V=e.getChildHostContext,J=e.prepareForCommit,Q=e.resetAfterCommit,q=e.createInstance,se=e.appendInitialChild,Pe=e.finalizeInitialChildren,_t=e.prepareUpdate,St=e.shouldSetTextContent,Ie=e.createTextInstance,O=e.scheduleTimeout,W=e.cancelTimeout,le=e.noTimeout,Te=e.isPrimaryRenderer,he=e.supportsMutation,Ae=e.supportsPersistence,De=e.supportsHydration,Bn=e.getInstanceFromNode,Me=e.preparePortalMount,Tr=e.getCurrentEventPriority,Nn=e.detachDeletedInstance,jr=e.supportsMicrotasks,A4=e.scheduleMicrotask,el=e.supportsTestSelectors,O4=e.findFiberRoot,b4=e.getBoundingRect,I4=e.getTextContent,tl=e.isHiddenSubtree,D4=e.matchAccessibilityRole,z4=e.setFocusIfFocusable,U4=e.setupIntersectionObserver,G4=e.appendChild,B4=e.appendChildToContainer,V4=e.commitTextUpdate,H4=e.commitMount,W4=e.commitUpdate,K4=e.insertBefore,$4=e.insertInContainerBefore,Y4=e.removeChild,Q4=e.removeChildFromContainer,Q0=e.resetTextContent,X4=e.hideInstance,q4=e.hideTextInstance,J4=e.unhideInstance,Z4=e.unhideTextInstance,e3=e.clearContainer,t3=e.cloneInstance,X0=e.createContainerChildSet,q0=e.appendChildToContainerChildSet,n3=e.finalizeContainerChildren,bc=e.replaceContainerChildren,J0=e.cloneHiddenInstance,Z0=e.cloneHiddenTextInstance,r3=e.canHydrateInstance,i3=e.canHydrateTextInstance,s3=e.canHydrateSuspenseInstance,ep=e.isSuspenseInstancePending,Ic=e.isSuspenseInstanceFallback,l3=e.getSuspenseInstanceFallbackErrorDetails,o3=e.registerSuspenseInstanceRetry,ko=e.getNextHydratableSibling,a3=e.getFirstHydratableChild,u3=e.getFirstHydratableChildWithinContainer,c3=e.getFirstHydratableChildWithinSuspenseInstance,d3=e.hydrateInstance,h3=e.hydrateTextInstance,f3=e.hydrateSuspenseInstance,p3=e.getNextHydratableInstanceAfterSuspenseInstance,g3=e.commitHydratedContainer,m3=e.commitHydratedSuspenseInstance,v3=e.clearSuspenseBoundary,y3=e.clearSuspenseBoundaryFromContainer,x3=e.shouldDeleteUnhydratedTailInstances,_3=e.didNotMatchHydratedContainerTextInstance,S3=e.didNotMatchHydratedTextInstance,Dc;function nl(i){if(Dc===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);Dc=s&&s[1]||""}return`
`+Dc+i}var zc=!1;function Uc(i,s){if(!i||zc)return"";zc=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(Y){var h=Y}Reflect.construct(i,[],s)}else{try{s.call()}catch(Y){h=Y}i.call(s.prototype)}else{try{throw Error()}catch(Y){h=Y}i()}}catch(Y){if(Y&&h&&typeof Y.stack=="string"){for(var f=Y.stack.split(`
`),v=h.stack.split(`
`),j=f.length-1,A=v.length-1;1<=j&&0<=A&&f[j]!==v[A];)A--;for(;1<=j&&0<=A;j--,A--)if(f[j]!==v[A]){if(j!==1||A!==1)do if(j--,A--,0>A||f[j]!==v[A]){var z=`
`+f[j].replace(" at new "," at ");return i.displayName&&z.includes("<anonymous>")&&(z=z.replace("<anonymous>",i.displayName)),z}while(1<=j&&0<=A);break}}}finally{zc=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?nl(i):""}var w3=Object.prototype.hasOwnProperty,Gc=[],qi=-1;function Rr(i){return{current:i}}function ze(i){0>qi||(i.current=Gc[qi],Gc[qi]=null,qi--)}function Oe(i,s){qi++,Gc[qi]=i.current,i.current=s}var Mr={},Tt=Rr(Mr),Vt=Rr(!1),mi=Mr;function Ji(i,s){var u=i.type.contextTypes;if(!u)return Mr;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var f={},v;for(v in u)f[v]=s[v];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=f),f}function Ht(i){return i=i.childContextTypes,i!=null}function No(){ze(Vt),ze(Tt)}function tp(i,s,u){if(Tt.current!==Mr)throw Error(a(168));Oe(Tt,s),Oe(Vt,u)}function np(i,s,u){var h=i.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var f in h)if(!(f in s))throw Error(a(108,M(i)||"Unknown",f));return o({},u,h)}function Po(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Mr,mi=Tt.current,Oe(Tt,i),Oe(Vt,Vt.current),!0}function rp(i,s,u){var h=i.stateNode;if(!h)throw Error(a(169));u?(i=np(i,s,mi),h.__reactInternalMemoizedMergedChildContext=i,ze(Vt),ze(Tt),Oe(Tt,i)):ze(Vt),Oe(Vt,u)}var Pn=Math.clz32?Math.clz32:N3,C3=Math.log,k3=Math.LN2;function N3(i){return i>>>=0,i===0?32:31-(C3(i)/k3|0)|0}var Eo=64,To=4194304;function rl(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function jo(i,s){var u=i.pendingLanes;if(u===0)return 0;var h=0,f=i.suspendedLanes,v=i.pingedLanes,j=u&268435455;if(j!==0){var A=j&~f;A!==0?h=rl(A):(v&=j,v!==0&&(h=rl(v)))}else j=u&~f,j!==0?h=rl(j):v!==0&&(h=rl(v));if(h===0)return 0;if(s!==0&&s!==h&&!(s&f)&&(f=h&-h,v=s&-s,f>=v||f===16&&(v&4194240)!==0))return s;if(h&4&&(h|=u&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=h;0<s;)u=31-Pn(s),f=1<<u,h|=i[u],s&=~f;return h}function P3(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function E3(i,s){for(var u=i.suspendedLanes,h=i.pingedLanes,f=i.expirationTimes,v=i.pendingLanes;0<v;){var j=31-Pn(v),A=1<<j,z=f[j];z===-1?(!(A&u)||A&h)&&(f[j]=P3(A,s)):z<=s&&(i.expiredLanes|=A),v&=~A}}function Bc(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function ip(){var i=Eo;return Eo<<=1,!(Eo&4194240)&&(Eo=64),i}function Vc(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function il(i,s,u){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-Pn(s),i[s]=u}function T3(i,s){var u=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<u;){var f=31-Pn(u),v=1<<f;s[f]=0,h[f]=-1,i[f]=-1,u&=~v}}function Hc(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var h=31-Pn(u),f=1<<h;f&s|i[h]&s&&(i[h]|=s),u&=~f}}var Ce=0;function sp(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Wc=l.unstable_scheduleCallback,lp=l.unstable_cancelCallback,j3=l.unstable_shouldYield,R3=l.unstable_requestPaint,pt=l.unstable_now,Kc=l.unstable_ImmediatePriority,M3=l.unstable_UserBlockingPriority,$c=l.unstable_NormalPriority,F3=l.unstable_IdlePriority,Ro=null,Vn=null;function L3(i){if(Vn&&typeof Vn.onCommitFiberRoot=="function")try{Vn.onCommitFiberRoot(Ro,i,void 0,(i.current.flags&128)===128)}catch{}}function A3(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var En=typeof Object.is=="function"?Object.is:A3,ir=null,Mo=!1,Yc=!1;function op(i){ir===null?ir=[i]:ir.push(i)}function O3(i){Mo=!0,op(i)}function Hn(){if(!Yc&&ir!==null){Yc=!0;var i=0,s=Ce;try{var u=ir;for(Ce=1;i<u.length;i++){var h=u[i];do h=h(!0);while(h!==null)}ir=null,Mo=!1}catch(f){throw ir!==null&&(ir=ir.slice(i+1)),Wc(Kc,Hn),f}finally{Ce=s,Yc=!1}}return null}var Zi=[],es=0,Fo=null,Lo=0,un=[],cn=0,vi=null,sr=1,lr="";function yi(i,s){Zi[es++]=Lo,Zi[es++]=Fo,Fo=i,Lo=s}function ap(i,s,u){un[cn++]=sr,un[cn++]=lr,un[cn++]=vi,vi=i;var h=sr;i=lr;var f=32-Pn(h)-1;h&=~(1<<f),u+=1;var v=32-Pn(s)+f;if(30<v){var j=f-f%5;v=(h&(1<<j)-1).toString(32),h>>=j,f-=j,sr=1<<32-Pn(s)+f|u<<f|h,lr=v+i}else sr=1<<v|u<<f|h,lr=i}function Qc(i){i.return!==null&&(yi(i,1),ap(i,1,0))}function Xc(i){for(;i===Fo;)Fo=Zi[--es],Zi[es]=null,Lo=Zi[--es],Zi[es]=null;for(;i===vi;)vi=un[--cn],un[cn]=null,lr=un[--cn],un[cn]=null,sr=un[--cn],un[cn]=null}var en=null,dn=null,Ve=!1,sl=!1,Tn=null;function up(i,s){var u=mn(5,null,null,0);u.elementType="DELETED",u.stateNode=s,u.return=i,s=i.deletions,s===null?(i.deletions=[u],i.flags|=16):s.push(u)}function cp(i,s){switch(i.tag){case 5:return s=r3(s,i.type,i.pendingProps),s!==null?(i.stateNode=s,en=i,dn=a3(s),!0):!1;case 6:return s=i3(s,i.pendingProps),s!==null?(i.stateNode=s,en=i,dn=null,!0):!1;case 13:if(s=s3(s),s!==null){var u=vi!==null?{id:sr,overflow:lr}:null;return i.memoizedState={dehydrated:s,treeContext:u,retryLane:1073741824},u=mn(18,null,null,0),u.stateNode=s,u.return=i,i.child=u,en=i,dn=null,!0}return!1;default:return!1}}function qc(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Jc(i){if(Ve){var s=dn;if(s){var u=s;if(!cp(i,s)){if(qc(i))throw Error(a(418));s=ko(u);var h=en;s&&cp(i,s)?up(h,u):(i.flags=i.flags&-4097|2,Ve=!1,en=i)}}else{if(qc(i))throw Error(a(418));i.flags=i.flags&-4097|2,Ve=!1,en=i}}}function dp(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;en=i}function Ao(i){if(!De||i!==en)return!1;if(!Ve)return dp(i),Ve=!0,!1;if(i.tag!==3&&(i.tag!==5||x3(i.type)&&!St(i.type,i.memoizedProps))){var s=dn;if(s){if(qc(i))throw hp(),Error(a(418));for(;s;)up(i,s),s=ko(s)}}if(dp(i),i.tag===13){if(!De)throw Error(a(316));if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(a(317));dn=p3(i)}else dn=en?ko(i.stateNode):null;return!0}function hp(){for(var i=dn;i;)i=ko(i)}function ts(){De&&(dn=en=null,sl=Ve=!1)}function Zc(i){Tn===null?Tn=[i]:Tn.push(i)}var b3=c.ReactCurrentBatchConfig;function Oo(i,s){if(En(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),h=Object.keys(s);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var f=u[h];if(!w3.call(s,f)||!En(i[f],s[f]))return!1}return!0}function I3(i){switch(i.tag){case 5:return nl(i.type);case 16:return nl("Lazy");case 13:return nl("Suspense");case 19:return nl("SuspenseList");case 0:case 2:case 15:return i=Uc(i.type,!1),i;case 11:return i=Uc(i.type.render,!1),i;case 1:return i=Uc(i.type,!0),i;default:return""}}function ll(i,s,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(a(309));var h=u.stateNode}if(!h)throw Error(a(147,i));var f=h,v=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===v?s.ref:(s=function(j){var A=f.refs;j===null?delete A[v]:A[v]=j},s._stringRef=v,s)}if(typeof i!="string")throw Error(a(284));if(!u._owner)throw Error(a(290,i))}return i}function bo(i,s){throw i=Object.prototype.toString.call(s),Error(a(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function fp(i){var s=i._init;return s(i._payload)}function pp(i){function s(D,b){if(i){var B=D.deletions;B===null?(D.deletions=[b],D.flags|=16):B.push(b)}}function u(D,b){if(!i)return null;for(;b!==null;)s(D,b),b=b.sibling;return null}function h(D,b){for(D=new Map;b!==null;)b.key!==null?D.set(b.key,b):D.set(b.index,b),b=b.sibling;return D}function f(D,b){return D=Dr(D,b),D.index=0,D.sibling=null,D}function v(D,b,B){return D.index=B,i?(B=D.alternate,B!==null?(B=B.index,B<b?(D.flags|=2,b):B):(D.flags|=2,b)):(D.flags|=1048576,b)}function j(D){return i&&D.alternate===null&&(D.flags|=2),D}function A(D,b,B,ee){return b===null||b.tag!==6?(b=Yd(B,D.mode,ee),b.return=D,b):(b=f(b,B),b.return=D,b)}function z(D,b,B,ee){var oe=B.type;return oe===x?ie(D,b,B.props.children,ee,B.key):b!==null&&(b.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===p&&fp(oe)===b.type)?(ee=f(b,B.props),ee.ref=ll(D,b,B),ee.return=D,ee):(ee=fa(B.type,B.key,B.props,null,D.mode,ee),ee.ref=ll(D,b,B),ee.return=D,ee)}function Y(D,b,B,ee){return b===null||b.tag!==4||b.stateNode.containerInfo!==B.containerInfo||b.stateNode.implementation!==B.implementation?(b=Qd(B,D.mode,ee),b.return=D,b):(b=f(b,B.children||[]),b.return=D,b)}function ie(D,b,B,ee,oe){return b===null||b.tag!==7?(b=Ni(B,D.mode,ee,oe),b.return=D,b):(b=f(b,B),b.return=D,b)}function ce(D,b,B){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Yd(""+b,D.mode,B),b.return=D,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case d:return B=fa(b.type,b.key,b.props,null,D.mode,B),B.ref=ll(D,null,b),B.return=D,B;case g:return b=Qd(b,D.mode,B),b.return=D,b;case p:var ee=b._init;return ce(D,ee(b._payload),B)}if($(b)||R(b))return b=Ni(b,D.mode,B,null),b.return=D,b;bo(D,b)}return null}function Z(D,b,B,ee){var oe=b!==null?b.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return oe!==null?null:A(D,b,""+B,ee);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case d:return B.key===oe?z(D,b,B,ee):null;case g:return B.key===oe?Y(D,b,B,ee):null;case p:return oe=B._init,Z(D,b,oe(B._payload),ee)}if($(B)||R(B))return oe!==null?null:ie(D,b,B,ee,null);bo(D,B)}return null}function Ue(D,b,B,ee,oe){if(typeof ee=="string"&&ee!==""||typeof ee=="number")return D=D.get(B)||null,A(b,D,""+ee,oe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case d:return D=D.get(ee.key===null?B:ee.key)||null,z(b,D,ee,oe);case g:return D=D.get(ee.key===null?B:ee.key)||null,Y(b,D,ee,oe);case p:var fe=ee._init;return Ue(D,b,B,fe(ee._payload),oe)}if($(ee)||R(ee))return D=D.get(B)||null,ie(b,D,ee,oe,null);bo(b,ee)}return null}function Fe(D,b,B,ee){for(var oe=null,fe=null,de=b,ke=b=0,vt=null;de!==null&&ke<B.length;ke++){de.index>ke?(vt=de,de=null):vt=de.sibling;var Ne=Z(D,de,B[ke],ee);if(Ne===null){de===null&&(de=vt);break}i&&de&&Ne.alternate===null&&s(D,de),b=v(Ne,b,ke),fe===null?oe=Ne:fe.sibling=Ne,fe=Ne,de=vt}if(ke===B.length)return u(D,de),Ve&&yi(D,ke),oe;if(de===null){for(;ke<B.length;ke++)de=ce(D,B[ke],ee),de!==null&&(b=v(de,b,ke),fe===null?oe=de:fe.sibling=de,fe=de);return Ve&&yi(D,ke),oe}for(de=h(D,de);ke<B.length;ke++)vt=Ue(de,D,ke,B[ke],ee),vt!==null&&(i&&vt.alternate!==null&&de.delete(vt.key===null?ke:vt.key),b=v(vt,b,ke),fe===null?oe=vt:fe.sibling=vt,fe=vt);return i&&de.forEach(function(zr){return s(D,zr)}),Ve&&yi(D,ke),oe}function Yt(D,b,B,ee){var oe=R(B);if(typeof oe!="function")throw Error(a(150));if(B=oe.call(B),B==null)throw Error(a(151));for(var fe=oe=null,de=b,ke=b=0,vt=null,Ne=B.next();de!==null&&!Ne.done;ke++,Ne=B.next()){de.index>ke?(vt=de,de=null):vt=de.sibling;var zr=Z(D,de,Ne.value,ee);if(zr===null){de===null&&(de=vt);break}i&&de&&zr.alternate===null&&s(D,de),b=v(zr,b,ke),fe===null?oe=zr:fe.sibling=zr,fe=zr,de=vt}if(Ne.done)return u(D,de),Ve&&yi(D,ke),oe;if(de===null){for(;!Ne.done;ke++,Ne=B.next())Ne=ce(D,Ne.value,ee),Ne!==null&&(b=v(Ne,b,ke),fe===null?oe=Ne:fe.sibling=Ne,fe=Ne);return Ve&&yi(D,ke),oe}for(de=h(D,de);!Ne.done;ke++,Ne=B.next())Ne=Ue(de,D,ke,Ne.value,ee),Ne!==null&&(i&&Ne.alternate!==null&&de.delete(Ne.key===null?ke:Ne.key),b=v(Ne,b,ke),fe===null?oe=Ne:fe.sibling=Ne,fe=Ne);return i&&de.forEach(function(fy){return s(D,fy)}),Ve&&yi(D,ke),oe}function cr(D,b,B,ee){if(typeof B=="object"&&B!==null&&B.type===x&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case d:e:{for(var oe=B.key,fe=b;fe!==null;){if(fe.key===oe){if(oe=B.type,oe===x){if(fe.tag===7){u(D,fe.sibling),b=f(fe,B.props.children),b.return=D,D=b;break e}}else if(fe.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===p&&fp(oe)===fe.type){u(D,fe.sibling),b=f(fe,B.props),b.ref=ll(D,fe,B),b.return=D,D=b;break e}u(D,fe);break}else s(D,fe);fe=fe.sibling}B.type===x?(b=Ni(B.props.children,D.mode,ee,B.key),b.return=D,D=b):(ee=fa(B.type,B.key,B.props,null,D.mode,ee),ee.ref=ll(D,b,B),ee.return=D,D=ee)}return j(D);case g:e:{for(fe=B.key;b!==null;){if(b.key===fe)if(b.tag===4&&b.stateNode.containerInfo===B.containerInfo&&b.stateNode.implementation===B.implementation){u(D,b.sibling),b=f(b,B.children||[]),b.return=D,D=b;break e}else{u(D,b);break}else s(D,b);b=b.sibling}b=Qd(B,D.mode,ee),b.return=D,D=b}return j(D);case p:return fe=B._init,cr(D,b,fe(B._payload),ee)}if($(B))return Fe(D,b,B,ee);if(R(B))return Yt(D,b,B,ee);bo(D,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,b!==null&&b.tag===6?(u(D,b.sibling),b=f(b,B),b.return=D,D=b):(u(D,b),b=Yd(B,D.mode,ee),b.return=D,D=b),j(D)):u(D,b)}return cr}var ns=pp(!0),gp=pp(!1),Io=Rr(null),Do=null,rs=null,ed=null;function td(){ed=rs=Do=null}function mp(i,s,u){Te?(Oe(Io,s._currentValue),s._currentValue=u):(Oe(Io,s._currentValue2),s._currentValue2=u)}function nd(i){var s=Io.current;ze(Io),Te?i._currentValue=s:i._currentValue2=s}function rd(i,s,u){for(;i!==null;){var h=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),i===u)break;i=i.return}}function is(i,s){Do=i,ed=rs=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(Wt=!0),i.firstContext=null)}function hn(i){var s=Te?i._currentValue:i._currentValue2;if(ed!==i)if(i={context:i,memoizedValue:s,next:null},rs===null){if(Do===null)throw Error(a(308));rs=i,Do.dependencies={lanes:0,firstContext:i}}else rs=rs.next=i;return s}var xi=null;function id(i){xi===null?xi=[i]:xi.push(i)}function vp(i,s,u,h){var f=s.interleaved;return f===null?(u.next=u,id(s)):(u.next=f.next,f.next=u),s.interleaved=u,Wn(i,h)}function Wn(i,s){i.lanes|=s;var u=i.alternate;for(u!==null&&(u.lanes|=s),u=i,i=i.return;i!==null;)i.childLanes|=s,u=i.alternate,u!==null&&(u.childLanes|=s),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Fr=!1;function sd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yp(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function or(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function Lr(i,s,u){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,me&2){var f=h.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),h.pending=s,Wn(i,u)}return f=h.interleaved,f===null?(s.next=s,id(h)):(s.next=f.next,f.next=s),h.interleaved=s,Wn(i,u)}function zo(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194240)!==0)){var h=s.lanes;h&=i.pendingLanes,u|=h,s.lanes=u,Hc(i,u)}}function xp(i,s){var u=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var f=null,v=null;if(u=u.firstBaseUpdate,u!==null){do{var j={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};v===null?f=v=j:v=v.next=j,u=u.next}while(u!==null);v===null?f=v=s:v=v.next=s}else f=v=s;u={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:v,shared:h.shared,effects:h.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}function Uo(i,s,u,h){var f=i.updateQueue;Fr=!1;var v=f.firstBaseUpdate,j=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var z=A,Y=z.next;z.next=null,j===null?v=Y:j.next=Y,j=z;var ie=i.alternate;ie!==null&&(ie=ie.updateQueue,A=ie.lastBaseUpdate,A!==j&&(A===null?ie.firstBaseUpdate=Y:A.next=Y,ie.lastBaseUpdate=z))}if(v!==null){var ce=f.baseState;j=0,ie=Y=z=null,A=v;do{var Z=A.lane,Ue=A.eventTime;if((h&Z)===Z){ie!==null&&(ie=ie.next={eventTime:Ue,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var Fe=i,Yt=A;switch(Z=s,Ue=u,Yt.tag){case 1:if(Fe=Yt.payload,typeof Fe=="function"){ce=Fe.call(Ue,ce,Z);break e}ce=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=Yt.payload,Z=typeof Fe=="function"?Fe.call(Ue,ce,Z):Fe,Z==null)break e;ce=o({},ce,Z);break e;case 2:Fr=!0}}A.callback!==null&&A.lane!==0&&(i.flags|=64,Z=f.effects,Z===null?f.effects=[A]:Z.push(A))}else Ue={eventTime:Ue,lane:Z,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ie===null?(Y=ie=Ue,z=ce):ie=ie.next=Ue,j|=Z;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;Z=A,A=Z.next,Z.next=null,f.lastBaseUpdate=Z,f.shared.pending=null}}while(!0);if(ie===null&&(z=ce),f.baseState=z,f.firstBaseUpdate=Y,f.lastBaseUpdate=ie,s=f.shared.interleaved,s!==null){f=s;do j|=f.lane,f=f.next;while(f!==s)}else v===null&&(f.shared.lanes=0);Si|=j,i.lanes=j,i.memoizedState=ce}}function _p(i,s,u){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var h=i[s],f=h.callback;if(f!==null){if(h.callback=null,h=u,typeof f!="function")throw Error(a(191,f));f.call(h)}}}var ol={},fn=Rr(ol),al=Rr(ol),ss=Rr(ol);function Kn(i){if(i===ol)throw Error(a(174));return i}function ld(i,s){Oe(ss,s),Oe(al,i),Oe(fn,ol),i=Se(s),ze(fn),Oe(fn,i)}function ls(){ze(fn),ze(al),ze(ss)}function Sp(i){var s=Kn(ss.current),u=Kn(fn.current);s=V(u,i.type,s),u!==s&&(Oe(al,i),Oe(fn,s))}function od(i){al.current===i&&(ze(fn),ze(al))}var $e=Rr(0);function Go(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||ep(u)||Ic(u)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ad=[];function ud(){for(var i=0;i<ad.length;i++){var s=ad[i];Te?s._workInProgressVersionPrimary=null:s._workInProgressVersionSecondary=null}ad.length=0}var Bo=c.ReactCurrentDispatcher,cd=c.ReactCurrentBatchConfig,_i=0,Ye=null,ot=null,gt=null,Vo=!1,ul=!1,cl=0,D3=0;function jt(){throw Error(a(321))}function dd(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!En(i[u],s[u]))return!1;return!0}function hd(i,s,u,h,f,v){if(_i=v,Ye=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Bo.current=i===null||i.memoizedState===null?B3:V3,i=u(h,f),ul){v=0;do{if(ul=!1,cl=0,25<=v)throw Error(a(301));v+=1,gt=ot=null,s.updateQueue=null,Bo.current=H3,i=u(h,f)}while(ul)}if(Bo.current=Ko,s=ot!==null&&ot.next!==null,_i=0,gt=ot=Ye=null,Vo=!1,s)throw Error(a(300));return i}function fd(){var i=cl!==0;return cl=0,i}function $n(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?Ye.memoizedState=gt=i:gt=gt.next=i,gt}function pn(){if(ot===null){var i=Ye.alternate;i=i!==null?i.memoizedState:null}else i=ot.next;var s=gt===null?Ye.memoizedState:gt.next;if(s!==null)gt=s,ot=i;else{if(i===null)throw Error(a(310));ot=i,i={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},gt===null?Ye.memoizedState=gt=i:gt=gt.next=i}return gt}function dl(i,s){return typeof s=="function"?s(i):s}function pd(i){var s=pn(),u=s.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=i;var h=ot,f=h.baseQueue,v=u.pending;if(v!==null){if(f!==null){var j=f.next;f.next=v.next,v.next=j}h.baseQueue=f=v,u.pending=null}if(f!==null){v=f.next,h=h.baseState;var A=j=null,z=null,Y=v;do{var ie=Y.lane;if((_i&ie)===ie)z!==null&&(z=z.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),h=Y.hasEagerState?Y.eagerState:i(h,Y.action);else{var ce={lane:ie,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};z===null?(A=z=ce,j=h):z=z.next=ce,Ye.lanes|=ie,Si|=ie}Y=Y.next}while(Y!==null&&Y!==v);z===null?j=h:z.next=A,En(h,s.memoizedState)||(Wt=!0),s.memoizedState=h,s.baseState=j,s.baseQueue=z,u.lastRenderedState=h}if(i=u.interleaved,i!==null){f=i;do v=f.lane,Ye.lanes|=v,Si|=v,f=f.next;while(f!==i)}else f===null&&(u.lanes=0);return[s.memoizedState,u.dispatch]}function gd(i){var s=pn(),u=s.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=i;var h=u.dispatch,f=u.pending,v=s.memoizedState;if(f!==null){u.pending=null;var j=f=f.next;do v=i(v,j.action),j=j.next;while(j!==f);En(v,s.memoizedState)||(Wt=!0),s.memoizedState=v,s.baseQueue===null&&(s.baseState=v),u.lastRenderedState=v}return[v,h]}function wp(){}function Cp(i,s){var u=Ye,h=pn(),f=s(),v=!En(h.memoizedState,f);if(v&&(h.memoizedState=f,Wt=!0),h=h.queue,md(Pp.bind(null,u,h,i),[i]),h.getSnapshot!==s||v||gt!==null&&gt.memoizedState.tag&1){if(u.flags|=2048,hl(9,Np.bind(null,u,h,f,s),void 0,null),mt===null)throw Error(a(349));_i&30||kp(u,s,f)}return f}function kp(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=Ye.updateQueue,s===null?(s={lastEffect:null,stores:null},Ye.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function Np(i,s,u,h){s.value=u,s.getSnapshot=h,Ep(s)&&Tp(i)}function Pp(i,s,u){return u(function(){Ep(s)&&Tp(i)})}function Ep(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!En(i,u)}catch{return!0}}function Tp(i){var s=Wn(i,1);s!==null&&gn(s,i,1,-1)}function jp(i){var s=$n();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dl,lastRenderedState:i},s.queue=i,i=i.dispatch=G3.bind(null,Ye,i),[s.memoizedState,i]}function hl(i,s,u,h){return i={tag:i,create:s,destroy:u,deps:h,next:null},s=Ye.updateQueue,s===null?(s={lastEffect:null,stores:null},Ye.updateQueue=s,s.lastEffect=i.next=i):(u=s.lastEffect,u===null?s.lastEffect=i.next=i:(h=u.next,u.next=i,i.next=h,s.lastEffect=i)),i}function Rp(){return pn().memoizedState}function Ho(i,s,u,h){var f=$n();Ye.flags|=i,f.memoizedState=hl(1|s,u,void 0,h===void 0?null:h)}function Wo(i,s,u,h){var f=pn();h=h===void 0?null:h;var v=void 0;if(ot!==null){var j=ot.memoizedState;if(v=j.destroy,h!==null&&dd(h,j.deps)){f.memoizedState=hl(s,u,v,h);return}}Ye.flags|=i,f.memoizedState=hl(1|s,u,v,h)}function Mp(i,s){return Ho(8390656,8,i,s)}function md(i,s){return Wo(2048,8,i,s)}function Fp(i,s){return Wo(4,2,i,s)}function Lp(i,s){return Wo(4,4,i,s)}function Ap(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function Op(i,s,u){return u=u!=null?u.concat([i]):null,Wo(4,4,Ap.bind(null,s,i),u)}function vd(){}function bp(i,s){var u=pn();s=s===void 0?null:s;var h=u.memoizedState;return h!==null&&s!==null&&dd(s,h[1])?h[0]:(u.memoizedState=[i,s],i)}function Ip(i,s){var u=pn();s=s===void 0?null:s;var h=u.memoizedState;return h!==null&&s!==null&&dd(s,h[1])?h[0]:(i=i(),u.memoizedState=[i,s],i)}function Dp(i,s,u){return _i&21?(En(u,s)||(u=ip(),Ye.lanes|=u,Si|=u,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,Wt=!0),i.memoizedState=u)}function z3(i,s){var u=Ce;Ce=u!==0&&4>u?u:4,i(!0);var h=cd.transition;cd.transition={};try{i(!1),s()}finally{Ce=u,cd.transition=h}}function zp(){return pn().memoizedState}function U3(i,s,u){var h=br(i);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},Up(i))Gp(s,u);else if(u=vp(i,s,u,h),u!==null){var f=Ft();gn(u,i,h,f),Bp(u,s,h)}}function G3(i,s,u){var h=br(i),f={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(Up(i))Gp(s,f);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=s.lastRenderedReducer,v!==null))try{var j=s.lastRenderedState,A=v(j,u);if(f.hasEagerState=!0,f.eagerState=A,En(A,j)){var z=s.interleaved;z===null?(f.next=f,id(s)):(f.next=z.next,z.next=f),s.interleaved=f;return}}catch{}finally{}u=vp(i,s,f,h),u!==null&&(f=Ft(),gn(u,i,h,f),Bp(u,s,h))}}function Up(i){var s=i.alternate;return i===Ye||s!==null&&s===Ye}function Gp(i,s){ul=Vo=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function Bp(i,s,u){if(u&4194240){var h=s.lanes;h&=i.pendingLanes,u|=h,s.lanes=u,Hc(i,u)}}var Ko={readContext:hn,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},B3={readContext:hn,useCallback:function(i,s){return $n().memoizedState=[i,s===void 0?null:s],i},useContext:hn,useEffect:Mp,useImperativeHandle:function(i,s,u){return u=u!=null?u.concat([i]):null,Ho(4194308,4,Ap.bind(null,s,i),u)},useLayoutEffect:function(i,s){return Ho(4194308,4,i,s)},useInsertionEffect:function(i,s){return Ho(4,2,i,s)},useMemo:function(i,s){var u=$n();return s=s===void 0?null:s,i=i(),u.memoizedState=[i,s],i},useReducer:function(i,s,u){var h=$n();return s=u!==void 0?u(s):s,h.memoizedState=h.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},h.queue=i,i=i.dispatch=U3.bind(null,Ye,i),[h.memoizedState,i]},useRef:function(i){var s=$n();return i={current:i},s.memoizedState=i},useState:jp,useDebugValue:vd,useDeferredValue:function(i){return $n().memoizedState=i},useTransition:function(){var i=jp(!1),s=i[0];return i=z3.bind(null,i[1]),$n().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,u){var h=Ye,f=$n();if(Ve){if(u===void 0)throw Error(a(407));u=u()}else{if(u=s(),mt===null)throw Error(a(349));_i&30||kp(h,s,u)}f.memoizedState=u;var v={value:u,getSnapshot:s};return f.queue=v,Mp(Pp.bind(null,h,v,i),[i]),h.flags|=2048,hl(9,Np.bind(null,h,v,u,s),void 0,null),u},useId:function(){var i=$n(),s=mt.identifierPrefix;if(Ve){var u=lr,h=sr;u=(h&~(1<<32-Pn(h)-1)).toString(32)+u,s=":"+s+"R"+u,u=cl++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=D3++,s=":"+s+"r"+u.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},V3={readContext:hn,useCallback:bp,useContext:hn,useEffect:md,useImperativeHandle:Op,useInsertionEffect:Fp,useLayoutEffect:Lp,useMemo:Ip,useReducer:pd,useRef:Rp,useState:function(){return pd(dl)},useDebugValue:vd,useDeferredValue:function(i){var s=pn();return Dp(s,ot.memoizedState,i)},useTransition:function(){var i=pd(dl)[0],s=pn().memoizedState;return[i,s]},useMutableSource:wp,useSyncExternalStore:Cp,useId:zp,unstable_isNewReconciler:!1},H3={readContext:hn,useCallback:bp,useContext:hn,useEffect:md,useImperativeHandle:Op,useInsertionEffect:Fp,useLayoutEffect:Lp,useMemo:Ip,useReducer:gd,useRef:Rp,useState:function(){return gd(dl)},useDebugValue:vd,useDeferredValue:function(i){var s=pn();return ot===null?s.memoizedState=i:Dp(s,ot.memoizedState,i)},useTransition:function(){var i=gd(dl)[0],s=pn().memoizedState;return[i,s]},useMutableSource:wp,useSyncExternalStore:Cp,useId:zp,unstable_isNewReconciler:!1};function jn(i,s){if(i&&i.defaultProps){s=o({},s),i=i.defaultProps;for(var u in i)s[u]===void 0&&(s[u]=i[u]);return s}return s}function yd(i,s,u,h){s=i.memoizedState,u=u(h,s),u=u==null?s:o({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var $o={isMounted:function(i){return(i=i._reactInternals)?I(i)===i:!1},enqueueSetState:function(i,s,u){i=i._reactInternals;var h=Ft(),f=br(i),v=or(h,f);v.payload=s,u!=null&&(v.callback=u),s=Lr(i,v,f),s!==null&&(gn(s,i,f,h),zo(s,i,f))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var h=Ft(),f=br(i),v=or(h,f);v.tag=1,v.payload=s,u!=null&&(v.callback=u),s=Lr(i,v,f),s!==null&&(gn(s,i,f,h),zo(s,i,f))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=Ft(),h=br(i),f=or(u,h);f.tag=2,s!=null&&(f.callback=s),s=Lr(i,f,h),s!==null&&(gn(s,i,h,u),zo(s,i,h))}};function Vp(i,s,u,h,f,v,j){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,v,j):s.prototype&&s.prototype.isPureReactComponent?!Oo(u,h)||!Oo(f,v):!0}function Hp(i,s,u){var h=!1,f=Mr,v=s.contextType;return typeof v=="object"&&v!==null?v=hn(v):(f=Ht(s)?mi:Tt.current,h=s.contextTypes,v=(h=h!=null)?Ji(i,f):Mr),s=new s(u,v),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=$o,i.stateNode=s,s._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=f,i.__reactInternalMemoizedMaskedChildContext=v),s}function Wp(i,s,u,h){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,h),s.state!==i&&$o.enqueueReplaceState(s,s.state,null)}function xd(i,s,u,h){var f=i.stateNode;f.props=u,f.state=i.memoizedState,f.refs={},sd(i);var v=s.contextType;typeof v=="object"&&v!==null?f.context=hn(v):(v=Ht(s)?mi:Tt.current,f.context=Ji(i,v)),f.state=i.memoizedState,v=s.getDerivedStateFromProps,typeof v=="function"&&(yd(i,s,v,u),f.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&$o.enqueueReplaceState(f,f.state,null),Uo(i,u,f,h),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308)}function os(i,s){try{var u="",h=s;do u+=I3(h),h=h.return;while(h);var f=u}catch(v){f=`
Error generating stack: `+v.message+`
`+v.stack}return{value:i,source:s,stack:f,digest:null}}function _d(i,s,u){return{value:i,source:null,stack:u??null,digest:s??null}}function Sd(i,s){try{console.error(s.value)}catch(u){setTimeout(function(){throw u})}}var W3=typeof WeakMap=="function"?WeakMap:Map;function Kp(i,s,u){u=or(-1,u),u.tag=3,u.payload={element:null};var h=s.value;return u.callback=function(){oa||(oa=!0,Gd=h),Sd(i,s)},u}function $p(i,s,u){u=or(-1,u),u.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var f=s.value;u.payload=function(){return h(f)},u.callback=function(){Sd(i,s)}}var v=i.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(u.callback=function(){Sd(i,s),typeof h!="function"&&(Ar===null?Ar=new Set([this]):Ar.add(this));var j=s.stack;this.componentDidCatch(s.value,{componentStack:j!==null?j:""})}),u}function Yp(i,s,u){var h=i.pingCache;if(h===null){h=i.pingCache=new W3;var f=new Set;h.set(s,f)}else f=h.get(s),f===void 0&&(f=new Set,h.set(s,f));f.has(u)||(f.add(u),i=sy.bind(null,i,s,u),s.then(i,i))}function Qp(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function Xp(i,s,u,h,f){return i.mode&1?(i.flags|=65536,i.lanes=f,i):(i===s?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(s=or(-1,1),s.tag=2,Lr(u,s,1))),u.lanes|=1),i)}var K3=c.ReactCurrentOwner,Wt=!1;function Dt(i,s,u,h){s.child=i===null?gp(s,null,u,h):ns(s,i.child,u,h)}function qp(i,s,u,h,f){u=u.render;var v=s.ref;return is(s,f),h=hd(i,s,u,h,v,f),u=fd(),i!==null&&!Wt?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~f,ar(i,s,f)):(Ve&&u&&Qc(s),s.flags|=1,Dt(i,s,h,f),s.child)}function Jp(i,s,u,h,f){if(i===null){var v=u.type;return typeof v=="function"&&!$d(v)&&v.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(s.tag=15,s.type=v,Zp(i,s,v,h,f)):(i=fa(u.type,null,h,s,s.mode,f),i.ref=s.ref,i.return=s,s.child=i)}if(v=i.child,!(i.lanes&f)){var j=v.memoizedProps;if(u=u.compare,u=u!==null?u:Oo,u(j,h)&&i.ref===s.ref)return ar(i,s,f)}return s.flags|=1,i=Dr(v,h),i.ref=s.ref,i.return=s,s.child=i}function Zp(i,s,u,h,f){if(i!==null){var v=i.memoizedProps;if(Oo(v,h)&&i.ref===s.ref)if(Wt=!1,s.pendingProps=h=v,(i.lanes&f)!==0)i.flags&131072&&(Wt=!0);else return s.lanes=i.lanes,ar(i,s,f)}return wd(i,s,u,h,f)}function e1(i,s,u){var h=s.pendingProps,f=h.children,v=i!==null?i.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(us,tn),tn|=u;else{if(!(u&1073741824))return i=v!==null?v.baseLanes|u:u,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,Oe(us,tn),tn|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:u,Oe(us,tn),tn|=h}else v!==null?(h=v.baseLanes|u,s.memoizedState=null):h=u,Oe(us,tn),tn|=h;return Dt(i,s,f,u),s.child}function t1(i,s){var u=s.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(s.flags|=512,s.flags|=2097152)}function wd(i,s,u,h,f){var v=Ht(u)?mi:Tt.current;return v=Ji(s,v),is(s,f),u=hd(i,s,u,h,v,f),h=fd(),i!==null&&!Wt?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~f,ar(i,s,f)):(Ve&&h&&Qc(s),s.flags|=1,Dt(i,s,u,f),s.child)}function n1(i,s,u,h,f){if(Ht(u)){var v=!0;Po(s)}else v=!1;if(is(s,f),s.stateNode===null)Qo(i,s),Hp(s,u,h),xd(s,u,h,f),h=!0;else if(i===null){var j=s.stateNode,A=s.memoizedProps;j.props=A;var z=j.context,Y=u.contextType;typeof Y=="object"&&Y!==null?Y=hn(Y):(Y=Ht(u)?mi:Tt.current,Y=Ji(s,Y));var ie=u.getDerivedStateFromProps,ce=typeof ie=="function"||typeof j.getSnapshotBeforeUpdate=="function";ce||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(A!==h||z!==Y)&&Wp(s,j,h,Y),Fr=!1;var Z=s.memoizedState;j.state=Z,Uo(s,h,j,f),z=s.memoizedState,A!==h||Z!==z||Vt.current||Fr?(typeof ie=="function"&&(yd(s,u,ie,h),z=s.memoizedState),(A=Fr||Vp(s,u,A,h,Z,z,Y))?(ce||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount()),typeof j.componentDidMount=="function"&&(s.flags|=4194308)):(typeof j.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=z),j.props=h,j.state=z,j.context=Y,h=A):(typeof j.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{j=s.stateNode,yp(i,s),A=s.memoizedProps,Y=s.type===s.elementType?A:jn(s.type,A),j.props=Y,ce=s.pendingProps,Z=j.context,z=u.contextType,typeof z=="object"&&z!==null?z=hn(z):(z=Ht(u)?mi:Tt.current,z=Ji(s,z));var Ue=u.getDerivedStateFromProps;(ie=typeof Ue=="function"||typeof j.getSnapshotBeforeUpdate=="function")||typeof j.UNSAFE_componentWillReceiveProps!="function"&&typeof j.componentWillReceiveProps!="function"||(A!==ce||Z!==z)&&Wp(s,j,h,z),Fr=!1,Z=s.memoizedState,j.state=Z,Uo(s,h,j,f);var Fe=s.memoizedState;A!==ce||Z!==Fe||Vt.current||Fr?(typeof Ue=="function"&&(yd(s,u,Ue,h),Fe=s.memoizedState),(Y=Fr||Vp(s,u,Y,h,Z,Fe,z)||!1)?(ie||typeof j.UNSAFE_componentWillUpdate!="function"&&typeof j.componentWillUpdate!="function"||(typeof j.componentWillUpdate=="function"&&j.componentWillUpdate(h,Fe,z),typeof j.UNSAFE_componentWillUpdate=="function"&&j.UNSAFE_componentWillUpdate(h,Fe,z)),typeof j.componentDidUpdate=="function"&&(s.flags|=4),typeof j.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof j.componentDidUpdate!="function"||A===i.memoizedProps&&Z===i.memoizedState||(s.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&Z===i.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=Fe),j.props=h,j.state=Fe,j.context=z,h=Y):(typeof j.componentDidUpdate!="function"||A===i.memoizedProps&&Z===i.memoizedState||(s.flags|=4),typeof j.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&Z===i.memoizedState||(s.flags|=1024),h=!1)}return Cd(i,s,u,h,v,f)}function Cd(i,s,u,h,f,v){t1(i,s);var j=(s.flags&128)!==0;if(!h&&!j)return f&&rp(s,u,!1),ar(i,s,v);h=s.stateNode,K3.current=s;var A=j&&typeof u.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,i!==null&&j?(s.child=ns(s,i.child,null,v),s.child=ns(s,null,A,v)):Dt(i,s,A,v),s.memoizedState=h.state,f&&rp(s,u,!0),s.child}function r1(i){var s=i.stateNode;s.pendingContext?tp(i,s.pendingContext,s.pendingContext!==s.context):s.context&&tp(i,s.context,!1),ld(i,s.containerInfo)}function i1(i,s,u,h,f){return ts(),Zc(f),s.flags|=256,Dt(i,s,u,h),s.child}var kd={dehydrated:null,treeContext:null,retryLane:0};function Nd(i){return{baseLanes:i,cachePool:null,transitions:null}}function s1(i,s,u){var h=s.pendingProps,f=$e.current,v=!1,j=(s.flags&128)!==0,A;if((A=j)||(A=i!==null&&i.memoizedState===null?!1:(f&2)!==0),A?(v=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(f|=1),Oe($e,f&1),i===null)return Jc(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?Ic(i)?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(j=h.children,i=h.fallback,v?(h=s.mode,v=s.child,j={mode:"hidden",children:j},!(h&1)&&v!==null?(v.childLanes=0,v.pendingProps=j):v=pa(j,h,0,null),i=Ni(i,h,u,null),v.return=s,i.return=s,v.sibling=i,s.child=v,s.child.memoizedState=Nd(u),s.memoizedState=kd,i):Pd(s,j));if(f=i.memoizedState,f!==null&&(A=f.dehydrated,A!==null))return $3(i,s,j,h,A,f,u);if(v){v=h.fallback,j=s.mode,f=i.child,A=f.sibling;var z={mode:"hidden",children:h.children};return!(j&1)&&s.child!==f?(h=s.child,h.childLanes=0,h.pendingProps=z,s.deletions=null):(h=Dr(f,z),h.subtreeFlags=f.subtreeFlags&14680064),A!==null?v=Dr(A,v):(v=Ni(v,j,u,null),v.flags|=2),v.return=s,h.return=s,h.sibling=v,s.child=h,h=v,v=s.child,j=i.child.memoizedState,j=j===null?Nd(u):{baseLanes:j.baseLanes|u,cachePool:null,transitions:j.transitions},v.memoizedState=j,v.childLanes=i.childLanes&~u,s.memoizedState=kd,h}return v=i.child,i=v.sibling,h=Dr(v,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=u),h.return=s,h.sibling=null,i!==null&&(u=s.deletions,u===null?(s.deletions=[i],s.flags|=16):u.push(i)),s.child=h,s.memoizedState=null,h}function Pd(i,s){return s=pa({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function Yo(i,s,u,h){return h!==null&&Zc(h),ns(s,i.child,null,u),i=Pd(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function $3(i,s,u,h,f,v,j){if(u)return s.flags&256?(s.flags&=-257,h=_d(Error(a(422))),Yo(i,s,j,h)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(v=h.fallback,f=s.mode,h=pa({mode:"visible",children:h.children},f,0,null),v=Ni(v,f,j,null),v.flags|=2,h.return=s,v.return=s,h.sibling=v,s.child=h,s.mode&1&&ns(s,i.child,null,j),s.child.memoizedState=Nd(j),s.memoizedState=kd,v);if(!(s.mode&1))return Yo(i,s,j,null);if(Ic(f))return h=l3(f).digest,v=Error(a(419)),h=_d(v,h,void 0),Yo(i,s,j,h);if(u=(j&i.childLanes)!==0,Wt||u){if(h=mt,h!==null){switch(j&-j){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(h.suspendedLanes|j)?0:f,f!==0&&f!==v.retryLane&&(v.retryLane=f,Wn(i,f),gn(h,i,f,-1))}return Kd(),h=_d(Error(a(421))),Yo(i,s,j,h)}return ep(f)?(s.flags|=128,s.child=i.child,s=ly.bind(null,i),o3(f,s),null):(i=v.treeContext,De&&(dn=c3(f),en=s,Ve=!0,Tn=null,sl=!1,i!==null&&(un[cn++]=sr,un[cn++]=lr,un[cn++]=vi,sr=i.id,lr=i.overflow,vi=s)),s=Pd(s,h.children),s.flags|=4096,s)}function l1(i,s,u){i.lanes|=s;var h=i.alternate;h!==null&&(h.lanes|=s),rd(i.return,s,u)}function Ed(i,s,u,h,f){var v=i.memoizedState;v===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:f}:(v.isBackwards=s,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=u,v.tailMode=f)}function o1(i,s,u){var h=s.pendingProps,f=h.revealOrder,v=h.tail;if(Dt(i,s,h.children,u),h=$e.current,h&2)h=h&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&l1(i,u,s);else if(i.tag===19)l1(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break e;for(;i.sibling===null;){if(i.return===null||i.return===s)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(Oe($e,h),!(s.mode&1))s.memoizedState=null;else switch(f){case"forwards":for(u=s.child,f=null;u!==null;)i=u.alternate,i!==null&&Go(i)===null&&(f=u),u=u.sibling;u=f,u===null?(f=s.child,s.child=null):(f=u.sibling,u.sibling=null),Ed(s,!1,f,u,v);break;case"backwards":for(u=null,f=s.child,s.child=null;f!==null;){if(i=f.alternate,i!==null&&Go(i)===null){s.child=f;break}i=f.sibling,f.sibling=u,u=f,f=i}Ed(s,!0,u,null,v);break;case"together":Ed(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Qo(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function ar(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),Si|=s.lanes,!(u&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(a(153));if(s.child!==null){for(i=s.child,u=Dr(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=Dr(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function Y3(i,s,u){switch(s.tag){case 3:r1(s),ts();break;case 5:Sp(s);break;case 1:Ht(s.type)&&Po(s);break;case 4:ld(s,s.stateNode.containerInfo);break;case 10:mp(s,s.type._context,s.memoizedProps.value);break;case 13:var h=s.memoizedState;if(h!==null)return h.dehydrated!==null?(Oe($e,$e.current&1),s.flags|=128,null):u&s.child.childLanes?s1(i,s,u):(Oe($e,$e.current&1),i=ar(i,s,u),i!==null?i.sibling:null);Oe($e,$e.current&1);break;case 19:if(h=(u&s.childLanes)!==0,i.flags&128){if(h)return o1(i,s,u);s.flags|=128}var f=s.memoizedState;if(f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Oe($e,$e.current),h)break;return null;case 22:case 23:return s.lanes=0,e1(i,s,u)}return ar(i,s,u)}function Yn(i){i.flags|=4}function a1(i,s){if(i!==null&&i.child===s.child)return!0;if(s.flags&16)return!1;for(i=s.child;i!==null;){if(i.flags&12854||i.subtreeFlags&12854)return!1;i=i.sibling}return!0}var fl,pl,Xo,qo;if(he)fl=function(i,s){for(var u=s.child;u!==null;){if(u.tag===5||u.tag===6)se(i,u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},pl=function(){},Xo=function(i,s,u,h,f){if(i=i.memoizedProps,i!==h){var v=s.stateNode,j=Kn(fn.current);u=_t(v,u,i,h,f,j),(s.updateQueue=u)&&Yn(s)}},qo=function(i,s,u,h){u!==h&&Yn(s)};else if(Ae){fl=function(i,s,u,h){for(var f=s.child;f!==null;){if(f.tag===5){var v=f.stateNode;u&&h&&(v=J0(v,f.type,f.memoizedProps,f)),se(i,v)}else if(f.tag===6)v=f.stateNode,u&&h&&(v=Z0(v,f.memoizedProps,f)),se(i,v);else if(f.tag!==4){if(f.tag===22&&f.memoizedState!==null)v=f.child,v!==null&&(v.return=f),fl(i,f,!0,!0);else if(f.child!==null){f.child.return=f,f=f.child;continue}}if(f===s)break;for(;f.sibling===null;){if(f.return===null||f.return===s)return;f=f.return}f.sibling.return=f.return,f=f.sibling}};var u1=function(i,s,u,h){for(var f=s.child;f!==null;){if(f.tag===5){var v=f.stateNode;u&&h&&(v=J0(v,f.type,f.memoizedProps,f)),q0(i,v)}else if(f.tag===6)v=f.stateNode,u&&h&&(v=Z0(v,f.memoizedProps,f)),q0(i,v);else if(f.tag!==4){if(f.tag===22&&f.memoizedState!==null)v=f.child,v!==null&&(v.return=f),u1(i,f,!0,!0);else if(f.child!==null){f.child.return=f,f=f.child;continue}}if(f===s)break;for(;f.sibling===null;){if(f.return===null||f.return===s)return;f=f.return}f.sibling.return=f.return,f=f.sibling}};pl=function(i,s){var u=s.stateNode;if(!a1(i,s)){i=u.containerInfo;var h=X0(i);u1(h,s,!1,!1),u.pendingChildren=h,Yn(s),n3(i,h)}},Xo=function(i,s,u,h,f){var v=i.stateNode,j=i.memoizedProps;if((i=a1(i,s))&&j===h)s.stateNode=v;else{var A=s.stateNode,z=Kn(fn.current),Y=null;j!==h&&(Y=_t(A,u,j,h,f,z)),i&&Y===null?s.stateNode=v:(v=t3(v,Y,u,j,h,s,i,A),Pe(v,u,h,f,z)&&Yn(s),s.stateNode=v,i?Yn(s):fl(v,s,!1,!1))}},qo=function(i,s,u,h){u!==h?(i=Kn(ss.current),u=Kn(fn.current),s.stateNode=Ie(h,i,u,s),Yn(s)):s.stateNode=i.stateNode}}else pl=function(){},Xo=function(){},qo=function(){};function gl(i,s){if(!Ve)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function Rt(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,h=0;if(s)for(var f=i.child;f!==null;)u|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)u|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=h,i.childLanes=u,s}function Q3(i,s,u){var h=s.pendingProps;switch(Xc(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rt(s),null;case 1:return Ht(s.type)&&No(),Rt(s),null;case 3:return u=s.stateNode,ls(),ze(Vt),ze(Tt),ud(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(Ao(s)?Yn(s):i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Tn!==null&&(Hd(Tn),Tn=null))),pl(i,s),Rt(s),null;case 5:od(s),u=Kn(ss.current);var f=s.type;if(i!==null&&s.stateNode!=null)Xo(i,s,f,h,u),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(a(166));return Rt(s),null}if(i=Kn(fn.current),Ao(s)){if(!De)throw Error(a(175));i=d3(s.stateNode,s.type,s.memoizedProps,u,i,s,!sl),s.updateQueue=i,i!==null&&Yn(s)}else{var v=q(f,h,u,i,s);fl(v,s,!1,!1),s.stateNode=v,Pe(v,f,h,u,i)&&Yn(s)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Rt(s),null;case 6:if(i&&s.stateNode!=null)qo(i,s,i.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(a(166));if(i=Kn(ss.current),u=Kn(fn.current),Ao(s)){if(!De)throw Error(a(176));if(i=s.stateNode,u=s.memoizedProps,(h=h3(i,u,s,!sl))&&(f=en,f!==null))switch(f.tag){case 3:_3(f.stateNode.containerInfo,i,u,(f.mode&1)!==0);break;case 5:S3(f.type,f.memoizedProps,f.stateNode,i,u,(f.mode&1)!==0)}h&&Yn(s)}else s.stateNode=Ie(h,i,u,s)}return Rt(s),null;case 13:if(ze($e),h=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Ve&&dn!==null&&s.mode&1&&!(s.flags&128))hp(),ts(),s.flags|=98560,f=!1;else if(f=Ao(s),h!==null&&h.dehydrated!==null){if(i===null){if(!f)throw Error(a(318));if(!De)throw Error(a(344));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(a(317));f3(f,s)}else ts(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Rt(s),f=!1}else Tn!==null&&(Hd(Tn),Tn=null),f=!0;if(!f)return s.flags&65536?s:null}return s.flags&128?(s.lanes=u,s):(u=h!==null,u!==(i!==null&&i.memoizedState!==null)&&u&&(s.child.flags|=8192,s.mode&1&&(i===null||$e.current&1?at===0&&(at=3):Kd())),s.updateQueue!==null&&(s.flags|=4),Rt(s),null);case 4:return ls(),pl(i,s),i===null&&Me(s.stateNode.containerInfo),Rt(s),null;case 10:return nd(s.type._context),Rt(s),null;case 17:return Ht(s.type)&&No(),Rt(s),null;case 19:if(ze($e),f=s.memoizedState,f===null)return Rt(s),null;if(h=(s.flags&128)!==0,v=f.rendering,v===null)if(h)gl(f,!1);else{if(at!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(v=Go(i),v!==null){for(s.flags|=128,gl(f,!1),i=v.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),s.subtreeFlags=0,i=u,u=s.child;u!==null;)h=u,f=i,h.flags&=14680066,v=h.alternate,v===null?(h.childLanes=0,h.lanes=f,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=v.childLanes,h.lanes=v.lanes,h.child=v.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=v.memoizedProps,h.memoizedState=v.memoizedState,h.updateQueue=v.updateQueue,h.type=v.type,f=v.dependencies,h.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),u=u.sibling;return Oe($e,$e.current&1|2),s.child}i=i.sibling}f.tail!==null&&pt()>Ud&&(s.flags|=128,h=!0,gl(f,!1),s.lanes=4194304)}else{if(!h)if(i=Go(v),i!==null){if(s.flags|=128,h=!0,i=i.updateQueue,i!==null&&(s.updateQueue=i,s.flags|=4),gl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!v.alternate&&!Ve)return Rt(s),null}else 2*pt()-f.renderingStartTime>Ud&&u!==1073741824&&(s.flags|=128,h=!0,gl(f,!1),s.lanes=4194304);f.isBackwards?(v.sibling=s.child,s.child=v):(i=f.last,i!==null?i.sibling=v:s.child=v,f.last=v)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=pt(),s.sibling=null,i=$e.current,Oe($e,h?i&1|2:i&1),s):(Rt(s),null);case 22:case 23:return Wd(),u=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==u&&(s.flags|=8192),u&&s.mode&1?tn&1073741824&&(Rt(s),he&&s.subtreeFlags&6&&(s.flags|=8192)):Rt(s),null;case 24:return null;case 25:return null}throw Error(a(156,s.tag))}function X3(i,s){switch(Xc(s),s.tag){case 1:return Ht(s.type)&&No(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return ls(),ze(Vt),ze(Tt),ud(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return od(s),null;case 13:if(ze($e),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(a(340));ts()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return ze($e),null;case 4:return ls(),null;case 10:return nd(s.type._context),null;case 22:case 23:return Wd(),null;case 24:return null;default:return null}}var Jo=!1,Mt=!1,q3=typeof WeakSet=="function"?WeakSet:Set,ne=null;function as(i,s){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){He(i,s,h)}else u.current=null}function Td(i,s,u){try{u()}catch(h){He(i,s,h)}}var c1=!1;function J3(i,s){for(J(i.containerInfo),ne=s;ne!==null;)if(i=ne,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,ne=s;else for(;ne!==null;){i=ne;try{var u=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(u!==null){var h=u.memoizedProps,f=u.memoizedState,v=i.stateNode,j=v.getSnapshotBeforeUpdate(i.elementType===i.type?h:jn(i.type,h),f);v.__reactInternalSnapshotBeforeUpdate=j}break;case 3:he&&e3(i.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(A){He(i,i.return,A)}if(s=i.sibling,s!==null){s.return=i.return,ne=s;break}ne=i.return}return u=c1,c1=!1,u}function ml(i,s,u){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&i)===i){var v=f.destroy;f.destroy=void 0,v!==void 0&&Td(s,u,v)}f=f.next}while(f!==h)}}function Zo(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&i)===i){var h=u.create;u.destroy=h()}u=u.next}while(u!==s)}}function jd(i){var s=i.ref;if(s!==null){var u=i.stateNode;switch(i.tag){case 5:i=ge(u);break;default:i=u}typeof s=="function"?s(i):s.current=i}}function d1(i){var s=i.alternate;s!==null&&(i.alternate=null,d1(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&Nn(s)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function h1(i){return i.tag===5||i.tag===3||i.tag===4}function f1(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||h1(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Rd(i,s,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?$4(u,i,s):B4(u,i);else if(h!==4&&(i=i.child,i!==null))for(Rd(i,s,u),i=i.sibling;i!==null;)Rd(i,s,u),i=i.sibling}function Md(i,s,u){var h=i.tag;if(h===5||h===6)i=i.stateNode,s?K4(u,i,s):G4(u,i);else if(h!==4&&(i=i.child,i!==null))for(Md(i,s,u),i=i.sibling;i!==null;)Md(i,s,u),i=i.sibling}var wt=null,Rn=!1;function Qn(i,s,u){for(u=u.child;u!==null;)Fd(i,s,u),u=u.sibling}function Fd(i,s,u){if(Vn&&typeof Vn.onCommitFiberUnmount=="function")try{Vn.onCommitFiberUnmount(Ro,u)}catch{}switch(u.tag){case 5:Mt||as(u,s);case 6:if(he){var h=wt,f=Rn;wt=null,Qn(i,s,u),wt=h,Rn=f,wt!==null&&(Rn?Q4(wt,u.stateNode):Y4(wt,u.stateNode))}else Qn(i,s,u);break;case 18:he&&wt!==null&&(Rn?y3(wt,u.stateNode):v3(wt,u.stateNode));break;case 4:he?(h=wt,f=Rn,wt=u.stateNode.containerInfo,Rn=!0,Qn(i,s,u),wt=h,Rn=f):(Ae&&(h=u.stateNode.containerInfo,f=X0(h),bc(h,f)),Qn(i,s,u));break;case 0:case 11:case 14:case 15:if(!Mt&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var v=f,j=v.destroy;v=v.tag,j!==void 0&&(v&2||v&4)&&Td(u,s,j),f=f.next}while(f!==h)}Qn(i,s,u);break;case 1:if(!Mt&&(as(u,s),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(A){He(u,s,A)}Qn(i,s,u);break;case 21:Qn(i,s,u);break;case 22:u.mode&1?(Mt=(h=Mt)||u.memoizedState!==null,Qn(i,s,u),Mt=h):Qn(i,s,u);break;default:Qn(i,s,u)}}function p1(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new q3),s.forEach(function(h){var f=oy.bind(null,i,h);u.has(h)||(u.add(h),h.then(f,f))})}}function Mn(i,s){var u=s.deletions;if(u!==null)for(var h=0;h<u.length;h++){var f=u[h];try{var v=i,j=s;if(he){var A=j;e:for(;A!==null;){switch(A.tag){case 5:wt=A.stateNode,Rn=!1;break e;case 3:wt=A.stateNode.containerInfo,Rn=!0;break e;case 4:wt=A.stateNode.containerInfo,Rn=!0;break e}A=A.return}if(wt===null)throw Error(a(160));Fd(v,j,f),wt=null,Rn=!1}else Fd(v,j,f);var z=f.alternate;z!==null&&(z.return=null),f.return=null}catch(Y){He(f,s,Y)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)g1(s,i),s=s.sibling}function g1(i,s){var u=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Mn(s,i),Xn(i),h&4){try{ml(3,i,i.return),Zo(3,i)}catch(Z){He(i,i.return,Z)}try{ml(5,i,i.return)}catch(Z){He(i,i.return,Z)}}break;case 1:Mn(s,i),Xn(i),h&512&&u!==null&&as(u,u.return);break;case 5:if(Mn(s,i),Xn(i),h&512&&u!==null&&as(u,u.return),he){if(i.flags&32){var f=i.stateNode;try{Q0(f)}catch(Z){He(i,i.return,Z)}}if(h&4&&(f=i.stateNode,f!=null)){var v=i.memoizedProps;if(u=u!==null?u.memoizedProps:v,h=i.type,s=i.updateQueue,i.updateQueue=null,s!==null)try{W4(f,s,h,u,v,i)}catch(Z){He(i,i.return,Z)}}}break;case 6:if(Mn(s,i),Xn(i),h&4&&he){if(i.stateNode===null)throw Error(a(162));f=i.stateNode,v=i.memoizedProps,u=u!==null?u.memoizedProps:v;try{V4(f,u,v)}catch(Z){He(i,i.return,Z)}}break;case 3:if(Mn(s,i),Xn(i),h&4){if(he&&De&&u!==null&&u.memoizedState.isDehydrated)try{g3(s.containerInfo)}catch(Z){He(i,i.return,Z)}if(Ae){f=s.containerInfo,v=s.pendingChildren;try{bc(f,v)}catch(Z){He(i,i.return,Z)}}}break;case 4:if(Mn(s,i),Xn(i),h&4&&Ae){v=i.stateNode,f=v.containerInfo,v=v.pendingChildren;try{bc(f,v)}catch(Z){He(i,i.return,Z)}}break;case 13:Mn(s,i),Xn(i),f=i.child,f.flags&8192&&(v=f.memoizedState!==null,f.stateNode.isHidden=v,!v||f.alternate!==null&&f.alternate.memoizedState!==null||(zd=pt())),h&4&&p1(i);break;case 22:var j=u!==null&&u.memoizedState!==null;if(i.mode&1?(Mt=(u=Mt)||j,Mn(s,i),Mt=u):Mn(s,i),Xn(i),h&8192){if(u=i.memoizedState!==null,(i.stateNode.isHidden=u)&&!j&&i.mode&1)for(ne=i,h=i.child;h!==null;){for(s=ne=h;ne!==null;){j=ne;var A=j.child;switch(j.tag){case 0:case 11:case 14:case 15:ml(4,j,j.return);break;case 1:as(j,j.return);var z=j.stateNode;if(typeof z.componentWillUnmount=="function"){var Y=j,ie=j.return;try{var ce=Y;z.props=ce.memoizedProps,z.state=ce.memoizedState,z.componentWillUnmount()}catch(Z){He(Y,ie,Z)}}break;case 5:as(j,j.return);break;case 22:if(j.memoizedState!==null){y1(s);continue}}A!==null?(A.return=j,ne=A):y1(s)}h=h.sibling}if(he){e:if(h=null,he)for(s=i;;){if(s.tag===5){if(h===null){h=s;try{f=s.stateNode,u?X4(f):J4(s.stateNode,s.memoizedProps)}catch(Z){He(i,i.return,Z)}}}else if(s.tag===6){if(h===null)try{v=s.stateNode,u?q4(v):Z4(v,s.memoizedProps)}catch(Z){He(i,i.return,Z)}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===i)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;h===s&&(h=null),s=s.return}h===s&&(h=null),s.sibling.return=s.return,s=s.sibling}}}break;case 19:Mn(s,i),Xn(i),h&4&&p1(i);break;case 21:break;default:Mn(s,i),Xn(i)}}function Xn(i){var s=i.flags;if(s&2){try{if(he){e:{for(var u=i.return;u!==null;){if(h1(u)){var h=u;break e}u=u.return}throw Error(a(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(Q0(f),h.flags&=-33);var v=f1(i);Md(i,v,f);break;case 3:case 4:var j=h.stateNode.containerInfo,A=f1(i);Rd(i,A,j);break;default:throw Error(a(161))}}}catch(z){He(i,i.return,z)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function Z3(i,s,u){ne=i,m1(i)}function m1(i,s,u){for(var h=(i.mode&1)!==0;ne!==null;){var f=ne,v=f.child;if(f.tag===22&&h){var j=f.memoizedState!==null||Jo;if(!j){var A=f.alternate,z=A!==null&&A.memoizedState!==null||Mt;A=Jo;var Y=Mt;if(Jo=j,(Mt=z)&&!Y)for(ne=f;ne!==null;)j=ne,z=j.child,j.tag===22&&j.memoizedState!==null?x1(f):z!==null?(z.return=j,ne=z):x1(f);for(;v!==null;)ne=v,m1(v),v=v.sibling;ne=f,Jo=A,Mt=Y}v1(i)}else f.subtreeFlags&8772&&v!==null?(v.return=f,ne=v):v1(i)}}function v1(i){for(;ne!==null;){var s=ne;if(s.flags&8772){var u=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Mt||Zo(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Mt)if(u===null)h.componentDidMount();else{var f=s.elementType===s.type?u.memoizedProps:jn(s.type,u.memoizedProps);h.componentDidUpdate(f,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=s.updateQueue;v!==null&&_p(s,v,h);break;case 3:var j=s.updateQueue;if(j!==null){if(u=null,s.child!==null)switch(s.child.tag){case 5:u=ge(s.child.stateNode);break;case 1:u=s.child.stateNode}_p(s,j,u)}break;case 5:var A=s.stateNode;u===null&&s.flags&4&&H4(A,s.type,s.memoizedProps,s);break;case 6:break;case 4:break;case 12:break;case 13:if(De&&s.memoizedState===null){var z=s.alternate;if(z!==null){var Y=z.memoizedState;if(Y!==null){var ie=Y.dehydrated;ie!==null&&m3(ie)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}Mt||s.flags&512&&jd(s)}catch(ce){He(s,s.return,ce)}}if(s===i){ne=null;break}if(u=s.sibling,u!==null){u.return=s.return,ne=u;break}ne=s.return}}function y1(i){for(;ne!==null;){var s=ne;if(s===i){ne=null;break}var u=s.sibling;if(u!==null){u.return=s.return,ne=u;break}ne=s.return}}function x1(i){for(;ne!==null;){var s=ne;try{switch(s.tag){case 0:case 11:case 15:var u=s.return;try{Zo(4,s)}catch(z){He(s,u,z)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var f=s.return;try{h.componentDidMount()}catch(z){He(s,f,z)}}var v=s.return;try{jd(s)}catch(z){He(s,v,z)}break;case 5:var j=s.return;try{jd(s)}catch(z){He(s,j,z)}}}catch(z){He(s,s.return,z)}if(s===i){ne=null;break}var A=s.sibling;if(A!==null){A.return=s.return,ne=A;break}ne=s.return}}var ea=0,ta=1,na=2,ra=3,ia=4;if(typeof Symbol=="function"&&Symbol.for){var vl=Symbol.for;ea=vl("selector.component"),ta=vl("selector.has_pseudo_class"),na=vl("selector.role"),ra=vl("selector.test_id"),ia=vl("selector.text")}function Ld(i){var s=Bn(i);if(s!=null){if(typeof s.memoizedProps["data-testname"]!="string")throw Error(a(364));return s}if(i=O4(i),i===null)throw Error(a(362));return i.stateNode.current}function Ad(i,s){switch(s.$$typeof){case ea:if(i.type===s.value)return!0;break;case ta:e:{s=s.value,i=[i,0];for(var u=0;u<i.length;){var h=i[u++],f=i[u++],v=s[f];if(h.tag!==5||!tl(h)){for(;v!=null&&Ad(h,v);)f++,v=s[f];if(f===s.length){s=!0;break e}else for(h=h.child;h!==null;)i.push(h,f),h=h.sibling}}s=!1}return s;case na:if(i.tag===5&&D4(i.stateNode,s.value))return!0;break;case ia:if((i.tag===5||i.tag===6)&&(i=I4(i),i!==null&&0<=i.indexOf(s.value)))return!0;break;case ra:if(i.tag===5&&(i=i.memoizedProps["data-testname"],typeof i=="string"&&i.toLowerCase()===s.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function Od(i){switch(i.$$typeof){case ea:return"<"+(F(i.value)||"Unknown")+">";case ta:return":has("+(Od(i)||"")+")";case na:return'[role="'+i.value+'"]';case ia:return'"'+i.value+'"';case ra:return'[data-testname="'+i.value+'"]';default:throw Error(a(365))}}function _1(i,s){var u=[];i=[i,0];for(var h=0;h<i.length;){var f=i[h++],v=i[h++],j=s[v];if(f.tag!==5||!tl(f)){for(;j!=null&&Ad(f,j);)v++,j=s[v];if(v===s.length)u.push(f);else for(f=f.child;f!==null;)i.push(f,v),f=f.sibling}}return u}function bd(i,s){if(!el)throw Error(a(363));i=Ld(i),i=_1(i,s),s=[],i=Array.from(i);for(var u=0;u<i.length;){var h=i[u++];if(h.tag===5)tl(h)||s.push(h.stateNode);else for(h=h.child;h!==null;)i.push(h),h=h.sibling}return s}var ey=Math.ceil,sa=c.ReactCurrentDispatcher,Id=c.ReactCurrentOwner,nt=c.ReactCurrentBatchConfig,me=0,mt=null,st=null,Ct=0,tn=0,us=Rr(0),at=0,yl=null,Si=0,la=0,Dd=0,xl=null,Kt=null,zd=0,Ud=1/0,ur=null;function cs(){Ud=pt()+500}var oa=!1,Gd=null,Ar=null,aa=!1,Or=null,ua=0,_l=0,Bd=null,ca=-1,da=0;function Ft(){return me&6?pt():ca!==-1?ca:ca=pt()}function br(i){return i.mode&1?me&2&&Ct!==0?Ct&-Ct:b3.transition!==null?(da===0&&(da=ip()),da):(i=Ce,i!==0?i:Tr()):1}function gn(i,s,u,h){if(50<_l)throw _l=0,Bd=null,Error(a(185));il(i,u,h),(!(me&2)||i!==mt)&&(i===mt&&(!(me&2)&&(la|=u),at===4&&Ir(i,Ct)),$t(i,h),u===1&&me===0&&!(s.mode&1)&&(cs(),Mo&&Hn()))}function $t(i,s){var u=i.callbackNode;E3(i,s);var h=jo(i,i===mt?Ct:0);if(h===0)u!==null&&lp(u),i.callbackNode=null,i.callbackPriority=0;else if(s=h&-h,i.callbackPriority!==s){if(u!=null&&lp(u),s===1)i.tag===0?O3(w1.bind(null,i)):op(w1.bind(null,i)),jr?A4(function(){!(me&6)&&Hn()}):Wc(Kc,Hn),u=null;else{switch(sp(h)){case 1:u=Kc;break;case 4:u=M3;break;case 16:u=$c;break;case 536870912:u=F3;break;default:u=$c}u=M1(u,S1.bind(null,i))}i.callbackPriority=s,i.callbackNode=u}}function S1(i,s){if(ca=-1,da=0,me&6)throw Error(a(327));var u=i.callbackNode;if(ki()&&i.callbackNode!==u)return null;var h=jo(i,i===mt?Ct:0);if(h===0)return null;if(h&30||h&i.expiredLanes||s)s=ha(i,h);else{s=h;var f=me;me|=2;var v=N1();(mt!==i||Ct!==s)&&(ur=null,cs(),wi(i,s));do try{ry();break}catch(A){k1(i,A)}while(!0);td(),sa.current=v,me=f,st!==null?s=0:(mt=null,Ct=0,s=at)}if(s!==0){if(s===2&&(f=Bc(i),f!==0&&(h=f,s=Vd(i,f))),s===1)throw u=yl,wi(i,0),Ir(i,h),$t(i,pt()),u;if(s===6)Ir(i,h);else{if(f=i.current.alternate,!(h&30)&&!ty(f)&&(s=ha(i,h),s===2&&(v=Bc(i),v!==0&&(h=v,s=Vd(i,v))),s===1))throw u=yl,wi(i,0),Ir(i,h),$t(i,pt()),u;switch(i.finishedWork=f,i.finishedLanes=h,s){case 0:case 1:throw Error(a(345));case 2:Ci(i,Kt,ur);break;case 3:if(Ir(i,h),(h&130023424)===h&&(s=zd+500-pt(),10<s)){if(jo(i,0)!==0)break;if(f=i.suspendedLanes,(f&h)!==h){Ft(),i.pingedLanes|=i.suspendedLanes&f;break}i.timeoutHandle=O(Ci.bind(null,i,Kt,ur),s);break}Ci(i,Kt,ur);break;case 4:if(Ir(i,h),(h&4194240)===h)break;for(s=i.eventTimes,f=-1;0<h;){var j=31-Pn(h);v=1<<j,j=s[j],j>f&&(f=j),h&=~v}if(h=f,h=pt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*ey(h/1960))-h,10<h){i.timeoutHandle=O(Ci.bind(null,i,Kt,ur),h);break}Ci(i,Kt,ur);break;case 5:Ci(i,Kt,ur);break;default:throw Error(a(329))}}}return $t(i,pt()),i.callbackNode===u?S1.bind(null,i):null}function Vd(i,s){var u=xl;return i.current.memoizedState.isDehydrated&&(wi(i,s).flags|=256),i=ha(i,s),i!==2&&(s=Kt,Kt=u,s!==null&&Hd(s)),i}function Hd(i){Kt===null?Kt=i:Kt.push.apply(Kt,i)}function ty(i){for(var s=i;;){if(s.flags&16384){var u=s.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var f=u[h],v=f.getSnapshot;f=f.value;try{if(!En(v(),f))return!1}catch{return!1}}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ir(i,s){for(s&=~Dd,s&=~la,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var u=31-Pn(s),h=1<<u;i[u]=-1,s&=~h}}function w1(i){if(me&6)throw Error(a(327));ki();var s=jo(i,0);if(!(s&1))return $t(i,pt()),null;var u=ha(i,s);if(i.tag!==0&&u===2){var h=Bc(i);h!==0&&(s=h,u=Vd(i,h))}if(u===1)throw u=yl,wi(i,0),Ir(i,s),$t(i,pt()),u;if(u===6)throw Error(a(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,Ci(i,Kt,ur),$t(i,pt()),null}function C1(i){Or!==null&&Or.tag===0&&!(me&6)&&ki();var s=me;me|=1;var u=nt.transition,h=Ce;try{if(nt.transition=null,Ce=1,i)return i()}finally{Ce=h,nt.transition=u,me=s,!(me&6)&&Hn()}}function Wd(){tn=us.current,ze(us)}function wi(i,s){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==le&&(i.timeoutHandle=le,W(u)),st!==null)for(u=st.return;u!==null;){var h=u;switch(Xc(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&No();break;case 3:ls(),ze(Vt),ze(Tt),ud();break;case 5:od(h);break;case 4:ls();break;case 13:ze($e);break;case 19:ze($e);break;case 10:nd(h.type._context);break;case 22:case 23:Wd()}u=u.return}if(mt=i,st=i=Dr(i.current,null),Ct=tn=s,at=0,yl=null,Dd=la=Si=0,Kt=xl=null,xi!==null){for(s=0;s<xi.length;s++)if(u=xi[s],h=u.interleaved,h!==null){u.interleaved=null;var f=h.next,v=u.pending;if(v!==null){var j=v.next;v.next=f,h.next=j}u.pending=h}xi=null}return i}function k1(i,s){do{var u=st;try{if(td(),Bo.current=Ko,Vo){for(var h=Ye.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}Vo=!1}if(_i=0,gt=ot=Ye=null,ul=!1,cl=0,Id.current=null,u===null||u.return===null){at=1,yl=s,st=null;break}e:{var v=i,j=u.return,A=u,z=s;if(s=Ct,A.flags|=32768,z!==null&&typeof z=="object"&&typeof z.then=="function"){var Y=z,ie=A,ce=ie.tag;if(!(ie.mode&1)&&(ce===0||ce===11||ce===15)){var Z=ie.alternate;Z?(ie.updateQueue=Z.updateQueue,ie.memoizedState=Z.memoizedState,ie.lanes=Z.lanes):(ie.updateQueue=null,ie.memoizedState=null)}var Ue=Qp(j);if(Ue!==null){Ue.flags&=-257,Xp(Ue,j,A,v,s),Ue.mode&1&&Yp(v,Y,s),s=Ue,z=Y;var Fe=s.updateQueue;if(Fe===null){var Yt=new Set;Yt.add(z),s.updateQueue=Yt}else Fe.add(z);break e}else{if(!(s&1)){Yp(v,Y,s),Kd();break e}z=Error(a(426))}}else if(Ve&&A.mode&1){var cr=Qp(j);if(cr!==null){!(cr.flags&65536)&&(cr.flags|=256),Xp(cr,j,A,v,s),Zc(os(z,A));break e}}v=z=os(z,A),at!==4&&(at=2),xl===null?xl=[v]:xl.push(v),v=j;do{switch(v.tag){case 3:v.flags|=65536,s&=-s,v.lanes|=s;var D=Kp(v,z,s);xp(v,D);break e;case 1:A=z;var b=v.type,B=v.stateNode;if(!(v.flags&128)&&(typeof b.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(Ar===null||!Ar.has(B)))){v.flags|=65536,s&=-s,v.lanes|=s;var ee=$p(v,A,s);xp(v,ee);break e}}v=v.return}while(v!==null)}E1(u)}catch(oe){s=oe,st===u&&u!==null&&(st=u=u.return);continue}break}while(!0)}function N1(){var i=sa.current;return sa.current=Ko,i===null?Ko:i}function Kd(){(at===0||at===3||at===2)&&(at=4),mt===null||!(Si&268435455)&&!(la&268435455)||Ir(mt,Ct)}function ha(i,s){var u=me;me|=2;var h=N1();(mt!==i||Ct!==s)&&(ur=null,wi(i,s));do try{ny();break}catch(f){k1(i,f)}while(!0);if(td(),me=u,sa.current=h,st!==null)throw Error(a(261));return mt=null,Ct=0,at}function ny(){for(;st!==null;)P1(st)}function ry(){for(;st!==null&&!j3();)P1(st)}function P1(i){var s=R1(i.alternate,i,tn);i.memoizedProps=i.pendingProps,s===null?E1(i):st=s,Id.current=null}function E1(i){var s=i;do{var u=s.alternate;if(i=s.return,s.flags&32768){if(u=X3(u,s),u!==null){u.flags&=32767,st=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{at=6,st=null;return}}else if(u=Q3(u,s,tn),u!==null){st=u;return}if(s=s.sibling,s!==null){st=s;return}st=s=i}while(s!==null);at===0&&(at=5)}function Ci(i,s,u){var h=Ce,f=nt.transition;try{nt.transition=null,Ce=1,iy(i,s,u,h)}finally{nt.transition=f,Ce=h}return null}function iy(i,s,u,h){do ki();while(Or!==null);if(me&6)throw Error(a(327));u=i.finishedWork;var f=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(a(177));i.callbackNode=null,i.callbackPriority=0;var v=u.lanes|u.childLanes;if(T3(i,v),i===mt&&(st=mt=null,Ct=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||aa||(aa=!0,M1($c,function(){return ki(),null})),v=(u.flags&15990)!==0,u.subtreeFlags&15990||v){v=nt.transition,nt.transition=null;var j=Ce;Ce=1;var A=me;me|=4,Id.current=null,J3(i,u),g1(u,i),Q(i.containerInfo),i.current=u,Z3(u),R3(),me=A,Ce=j,nt.transition=v}else i.current=u;if(aa&&(aa=!1,Or=i,ua=f),v=i.pendingLanes,v===0&&(Ar=null),L3(u.stateNode),$t(i,pt()),s!==null)for(h=i.onRecoverableError,u=0;u<s.length;u++)f=s[u],h(f.value,{componentStack:f.stack,digest:f.digest});if(oa)throw oa=!1,i=Gd,Gd=null,i;return ua&1&&i.tag!==0&&ki(),v=i.pendingLanes,v&1?i===Bd?_l++:(_l=0,Bd=i):_l=0,Hn(),null}function ki(){if(Or!==null){var i=sp(ua),s=nt.transition,u=Ce;try{if(nt.transition=null,Ce=16>i?16:i,Or===null)var h=!1;else{if(i=Or,Or=null,ua=0,me&6)throw Error(a(331));var f=me;for(me|=4,ne=i.current;ne!==null;){var v=ne,j=v.child;if(ne.flags&16){var A=v.deletions;if(A!==null){for(var z=0;z<A.length;z++){var Y=A[z];for(ne=Y;ne!==null;){var ie=ne;switch(ie.tag){case 0:case 11:case 15:ml(8,ie,v)}var ce=ie.child;if(ce!==null)ce.return=ie,ne=ce;else for(;ne!==null;){ie=ne;var Z=ie.sibling,Ue=ie.return;if(d1(ie),ie===Y){ne=null;break}if(Z!==null){Z.return=Ue,ne=Z;break}ne=Ue}}}var Fe=v.alternate;if(Fe!==null){var Yt=Fe.child;if(Yt!==null){Fe.child=null;do{var cr=Yt.sibling;Yt.sibling=null,Yt=cr}while(Yt!==null)}}ne=v}}if(v.subtreeFlags&2064&&j!==null)j.return=v,ne=j;else e:for(;ne!==null;){if(v=ne,v.flags&2048)switch(v.tag){case 0:case 11:case 15:ml(9,v,v.return)}var D=v.sibling;if(D!==null){D.return=v.return,ne=D;break e}ne=v.return}}var b=i.current;for(ne=b;ne!==null;){j=ne;var B=j.child;if(j.subtreeFlags&2064&&B!==null)B.return=j,ne=B;else e:for(j=b;ne!==null;){if(A=ne,A.flags&2048)try{switch(A.tag){case 0:case 11:case 15:Zo(9,A)}}catch(oe){He(A,A.return,oe)}if(A===j){ne=null;break e}var ee=A.sibling;if(ee!==null){ee.return=A.return,ne=ee;break e}ne=A.return}}if(me=f,Hn(),Vn&&typeof Vn.onPostCommitFiberRoot=="function")try{Vn.onPostCommitFiberRoot(Ro,i)}catch{}h=!0}return h}finally{Ce=u,nt.transition=s}}return!1}function T1(i,s,u){s=os(u,s),s=Kp(i,s,1),i=Lr(i,s,1),s=Ft(),i!==null&&(il(i,1,s),$t(i,s))}function He(i,s,u){if(i.tag===3)T1(i,i,u);else for(;s!==null;){if(s.tag===3){T1(s,i,u);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ar===null||!Ar.has(h))){i=os(u,i),i=$p(s,i,1),s=Lr(s,i,1),i=Ft(),s!==null&&(il(s,1,i),$t(s,i));break}}s=s.return}}function sy(i,s,u){var h=i.pingCache;h!==null&&h.delete(s),s=Ft(),i.pingedLanes|=i.suspendedLanes&u,mt===i&&(Ct&u)===u&&(at===4||at===3&&(Ct&130023424)===Ct&&500>pt()-zd?wi(i,0):Dd|=u),$t(i,s)}function j1(i,s){s===0&&(i.mode&1?(s=To,To<<=1,!(To&130023424)&&(To=4194304)):s=1);var u=Ft();i=Wn(i,s),i!==null&&(il(i,s,u),$t(i,u))}function ly(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),j1(i,u)}function oy(i,s){var u=0;switch(i.tag){case 13:var h=i.stateNode,f=i.memoizedState;f!==null&&(u=f.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(a(314))}h!==null&&h.delete(s),j1(i,u)}var R1;R1=function(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps||Vt.current)Wt=!0;else{if(!(i.lanes&u)&&!(s.flags&128))return Wt=!1,Y3(i,s,u);Wt=!!(i.flags&131072)}else Wt=!1,Ve&&s.flags&1048576&&ap(s,Lo,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;Qo(i,s),i=s.pendingProps;var f=Ji(s,Tt.current);is(s,u),f=hd(null,s,h,i,f,u);var v=fd();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Ht(h)?(v=!0,Po(s)):v=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,sd(s),f.updater=$o,s.stateNode=f,f._reactInternals=s,xd(s,h,i,u),s=Cd(null,s,h,!0,v,u)):(s.tag=0,Ve&&v&&Qc(s),Dt(null,s,f,u),s=s.child),s;case 16:h=s.elementType;e:{switch(Qo(i,s),i=s.pendingProps,f=h._init,h=f(h._payload),s.type=h,f=s.tag=uy(h),i=jn(h,i),f){case 0:s=wd(null,s,h,i,u);break e;case 1:s=n1(null,s,h,i,u);break e;case 11:s=qp(null,s,h,i,u);break e;case 14:s=Jp(null,s,h,jn(h.type,i),u);break e}throw Error(a(306,h,""))}return s;case 0:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:jn(h,f),wd(i,s,h,f,u);case 1:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:jn(h,f),n1(i,s,h,f,u);case 3:e:{if(r1(s),i===null)throw Error(a(387));h=s.pendingProps,v=s.memoizedState,f=v.element,yp(i,s),Uo(s,h,null,u);var j=s.memoizedState;if(h=j.element,De&&v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:j.cache,pendingSuspenseBoundaries:j.pendingSuspenseBoundaries,transitions:j.transitions},s.updateQueue.baseState=v,s.memoizedState=v,s.flags&256){f=os(Error(a(423)),s),s=i1(i,s,h,u,f);break e}else if(h!==f){f=os(Error(a(424)),s),s=i1(i,s,h,u,f);break e}else for(De&&(dn=u3(s.stateNode.containerInfo),en=s,Ve=!0,Tn=null,sl=!1),u=gp(s,null,h,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(ts(),h===f){s=ar(i,s,u);break e}Dt(i,s,h,u)}s=s.child}return s;case 5:return Sp(s),i===null&&Jc(s),h=s.type,f=s.pendingProps,v=i!==null?i.memoizedProps:null,j=f.children,St(h,f)?j=null:v!==null&&St(h,v)&&(s.flags|=32),t1(i,s),Dt(i,s,j,u),s.child;case 6:return i===null&&Jc(s),null;case 13:return s1(i,s,u);case 4:return ld(s,s.stateNode.containerInfo),h=s.pendingProps,i===null?s.child=ns(s,null,h,u):Dt(i,s,h,u),s.child;case 11:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:jn(h,f),qp(i,s,h,f,u);case 7:return Dt(i,s,s.pendingProps,u),s.child;case 8:return Dt(i,s,s.pendingProps.children,u),s.child;case 12:return Dt(i,s,s.pendingProps.children,u),s.child;case 10:e:{if(h=s.type._context,f=s.pendingProps,v=s.memoizedProps,j=f.value,mp(s,h,j),v!==null)if(En(v.value,j)){if(v.children===f.children&&!Vt.current){s=ar(i,s,u);break e}}else for(v=s.child,v!==null&&(v.return=s);v!==null;){var A=v.dependencies;if(A!==null){j=v.child;for(var z=A.firstContext;z!==null;){if(z.context===h){if(v.tag===1){z=or(-1,u&-u),z.tag=2;var Y=v.updateQueue;if(Y!==null){Y=Y.shared;var ie=Y.pending;ie===null?z.next=z:(z.next=ie.next,ie.next=z),Y.pending=z}}v.lanes|=u,z=v.alternate,z!==null&&(z.lanes|=u),rd(v.return,u,s),A.lanes|=u;break}z=z.next}}else if(v.tag===10)j=v.type===s.type?null:v.child;else if(v.tag===18){if(j=v.return,j===null)throw Error(a(341));j.lanes|=u,A=j.alternate,A!==null&&(A.lanes|=u),rd(j,u,s),j=v.sibling}else j=v.child;if(j!==null)j.return=v;else for(j=v;j!==null;){if(j===s){j=null;break}if(v=j.sibling,v!==null){v.return=j.return,j=v;break}j=j.return}v=j}Dt(i,s,f.children,u),s=s.child}return s;case 9:return f=s.type,h=s.pendingProps.children,is(s,u),f=hn(f),h=h(f),s.flags|=1,Dt(i,s,h,u),s.child;case 14:return h=s.type,f=jn(h,s.pendingProps),f=jn(h.type,f),Jp(i,s,h,f,u);case 15:return Zp(i,s,s.type,s.pendingProps,u);case 17:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:jn(h,f),Qo(i,s),s.tag=1,Ht(h)?(i=!0,Po(s)):i=!1,is(s,u),Hp(s,h,f),xd(s,h,f,u),Cd(null,s,h,!0,i,u);case 19:return o1(i,s,u);case 22:return e1(i,s,u)}throw Error(a(156,s.tag))};function M1(i,s){return Wc(i,s)}function ay(i,s,u,h){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mn(i,s,u,h){return new ay(i,s,u,h)}function $d(i){return i=i.prototype,!(!i||!i.isReactComponent)}function uy(i){if(typeof i=="function")return $d(i)?1:0;if(i!=null){if(i=i.$$typeof,i===E)return 11;if(i===C)return 14}return 2}function Dr(i,s){var u=i.alternate;return u===null?(u=mn(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function fa(i,s,u,h,f,v){var j=2;if(h=i,typeof i=="function")$d(i)&&(j=1);else if(typeof i=="string")j=5;else e:switch(i){case x:return Ni(u.children,f,v,s);case k:j=8,f|=8;break;case w:return i=mn(12,u,s,f|2),i.elementType=w,i.lanes=v,i;case T:return i=mn(13,u,s,f),i.elementType=T,i.lanes=v,i;case _:return i=mn(19,u,s,f),i.elementType=_,i.lanes=v,i;case m:return pa(u,f,v,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case N:j=10;break e;case S:j=9;break e;case E:j=11;break e;case C:j=14;break e;case p:j=16,h=null;break e}throw Error(a(130,i==null?i:typeof i,""))}return s=mn(j,u,s,f),s.elementType=i,s.type=h,s.lanes=v,s}function Ni(i,s,u,h){return i=mn(7,i,h,s),i.lanes=u,i}function pa(i,s,u,h){return i=mn(22,i,h,s),i.elementType=m,i.lanes=u,i.stateNode={isHidden:!1},i}function Yd(i,s,u){return i=mn(6,i,null,s),i.lanes=u,i}function Qd(i,s,u){return s=mn(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function cy(i,s,u,h,f){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=le,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Vc(0),this.expirationTimes=Vc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Vc(0),this.identifierPrefix=h,this.onRecoverableError=f,De&&(this.mutableSourceEagerHydrationData=null)}function F1(i,s,u,h,f,v,j,A,z){return i=new cy(i,s,u,A,z),s===1?(s=1,v===!0&&(s|=8)):s=0,v=mn(3,null,null,s),i.current=v,v.stateNode=i,v.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},sd(v),i}function L1(i){if(!i)return Mr;i=i._reactInternals;e:{if(I(i)!==i||i.tag!==1)throw Error(a(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Ht(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(a(171))}if(i.tag===1){var u=i.type;if(Ht(u))return np(i,u,s)}return s}function A1(i){var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(a(188)):(i=Object.keys(i).join(","),Error(a(268,i)));return i=U(s),i===null?null:i.stateNode}function O1(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function ga(i,s){O1(i,s),(i=i.alternate)&&O1(i,s)}function dy(i){return i=U(i),i===null?null:i.stateNode}function hy(){return null}return n.attemptContinuousHydration=function(i){if(i.tag===13){var s=Wn(i,134217728);if(s!==null){var u=Ft();gn(s,i,134217728,u)}ga(i,134217728)}},n.attemptDiscreteHydration=function(i){if(i.tag===13){var s=Wn(i,1);if(s!==null){var u=Ft();gn(s,i,1,u)}ga(i,1)}},n.attemptHydrationAtCurrentPriority=function(i){if(i.tag===13){var s=br(i),u=Wn(i,s);if(u!==null){var h=Ft();gn(u,i,s,h)}ga(i,s)}},n.attemptSynchronousHydration=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var u=rl(s.pendingLanes);u!==0&&(Hc(s,u|1),$t(s,pt()),!(me&6)&&(cs(),Hn()))}break;case 13:C1(function(){var h=Wn(i,1);if(h!==null){var f=Ft();gn(h,i,1,f)}}),ga(i,1)}},n.batchedUpdates=function(i,s){var u=me;me|=1;try{return i(s)}finally{me=u,me===0&&(cs(),Mo&&Hn())}},n.createComponentSelector=function(i){return{$$typeof:ea,value:i}},n.createContainer=function(i,s,u,h,f,v,j){return F1(i,s,!1,null,u,h,f,v,j)},n.createHasPseudoClassSelector=function(i){return{$$typeof:ta,value:i}},n.createHydrationContainer=function(i,s,u,h,f,v,j,A,z){return i=F1(u,h,!0,i,f,v,j,A,z),i.context=L1(null),u=i.current,h=Ft(),f=br(u),v=or(h,f),v.callback=s??null,Lr(u,v,f),i.current.lanes=f,il(i,f,h),$t(i,h),i},n.createPortal=function(i,s,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:g,key:h==null?null:""+h,children:i,containerInfo:s,implementation:u}},n.createRoleSelector=function(i){return{$$typeof:na,value:i}},n.createTestNameSelector=function(i){return{$$typeof:ra,value:i}},n.createTextSelector=function(i){return{$$typeof:ia,value:i}},n.deferredUpdates=function(i){var s=Ce,u=nt.transition;try{return nt.transition=null,Ce=16,i()}finally{Ce=s,nt.transition=u}},n.discreteUpdates=function(i,s,u,h,f){var v=Ce,j=nt.transition;try{return nt.transition=null,Ce=1,i(s,u,h,f)}finally{Ce=v,nt.transition=j,me===0&&cs()}},n.findAllNodes=bd,n.findBoundingRects=function(i,s){if(!el)throw Error(a(363));s=bd(i,s),i=[];for(var u=0;u<s.length;u++)i.push(b4(s[u]));for(s=i.length-1;0<s;s--){u=i[s];for(var h=u.x,f=h+u.width,v=u.y,j=v+u.height,A=s-1;0<=A;A--)if(s!==A){var z=i[A],Y=z.x,ie=Y+z.width,ce=z.y,Z=ce+z.height;if(h>=Y&&v>=ce&&f<=ie&&j<=Z){i.splice(s,1);break}else if(h!==Y||u.width!==z.width||Z<v||ce>j){if(!(v!==ce||u.height!==z.height||ie<h||Y>f)){Y>h&&(z.width+=Y-h,z.x=h),ie<f&&(z.width=f-Y),i.splice(s,1);break}}else{ce>v&&(z.height+=ce-v,z.y=v),Z<j&&(z.height=j-ce),i.splice(s,1);break}}}return i},n.findHostInstance=A1,n.findHostInstanceWithNoPortals=function(i){return i=G(i),i=i!==null?X(i):null,i===null?null:i.stateNode},n.findHostInstanceWithWarning=function(i){return A1(i)},n.flushControlled=function(i){var s=me;me|=1;var u=nt.transition,h=Ce;try{nt.transition=null,Ce=1,i()}finally{Ce=h,nt.transition=u,me=s,me===0&&(cs(),Hn())}},n.flushPassiveEffects=ki,n.flushSync=C1,n.focusWithin=function(i,s){if(!el)throw Error(a(363));for(i=Ld(i),s=_1(i,s),s=Array.from(s),i=0;i<s.length;){var u=s[i++];if(!tl(u)){if(u.tag===5&&z4(u.stateNode))return!0;for(u=u.child;u!==null;)s.push(u),u=u.sibling}}return!1},n.getCurrentUpdatePriority=function(){return Ce},n.getFindAllNodesFailureDescription=function(i,s){if(!el)throw Error(a(363));var u=0,h=[];i=[Ld(i),0];for(var f=0;f<i.length;){var v=i[f++],j=i[f++],A=s[j];if((v.tag!==5||!tl(v))&&(Ad(v,A)&&(h.push(Od(A)),j++,j>u&&(u=j)),j<s.length))for(v=v.child;v!==null;)i.push(v,j),v=v.sibling}if(u<s.length){for(i=[];u<s.length;u++)i.push(Od(s[u]));return`findAllNodes was able to match part of the selector:
  `+(h.join(" > ")+`

No matching component was found for:
  `)+i.join(" > ")}return null},n.getPublicRootInstance=function(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return ge(i.child.stateNode);default:return i.child.stateNode}},n.injectIntoDevTools=function(i){if(i={bundleType:i.bundleType,version:i.version,rendererPackageName:i.rendererPackageName,rendererConfig:i.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:c.ReactCurrentDispatcher,findHostInstanceByFiber:dy,findFiberByHostInstance:i.findFiberByHostInstance||hy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")i=!1;else{var s=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(s.isDisabled||!s.supportsFiber)i=!0;else{try{Ro=s.inject(i),Vn=s}catch{}i=!!s.checkDCE}}return i},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(i,s,u,h){if(!el)throw Error(a(363));i=bd(i,s);var f=U4(i,u,h).disconnect;return{disconnect:function(){f()}}},n.registerMutableSourceForHydration=function(i,s){var u=s._getVersion;u=u(s._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[s,u]:i.mutableSourceEagerHydrationData.push(s,u)},n.runWithPriority=function(i,s){var u=Ce;try{return Ce=i,s()}finally{Ce=u}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(i,s,u,h){var f=s.current,v=Ft(),j=br(f);return u=L1(u),s.context===null?s.context=u:s.pendingContext=u,s=or(v,j),s.payload={element:i},h=h===void 0?null:h,h!==null&&(s.callback=h),i=Lr(f,s,j),i!==null&&(gn(i,f,j,v),zo(i,f,j)),j},n};P4.exports=q7;var J7=P4.exports;const Z7=If(J7);var E4={exports:{}},Xi={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Xi.ConcurrentRoot=1;Xi.ContinuousEventPriority=4;Xi.DefaultEventPriority=16;Xi.DiscreteEventPriority=1;Xi.IdleEventPriority=536870912;Xi.LegacyRoot=0;E4.exports=Xi;var T4=E4.exports;const km={children:!0,ref:!0,key:!0,style:!0,forwardedRef:!0,unstable_applyCache:!0,unstable_applyDrawHitFromCache:!0};let Nm=!1,Pm=!1;const $0=".react-konva-event",e_=`ReactKonva: You have a Konva node with draggable = true and position defined but no onDragMove or onDragEnd events are handled.
Position of a node will be changed during drag&drop, so you should update state of the react app as well.
Consider to add onDragMove or onDragEnd events.
For more info see: https://github.com/konvajs/react-konva/issues/256
`,t_=`ReactKonva: You are using "zIndex" attribute for a Konva node.
react-konva may get confused with ordering. Just define correct order of elements in your render function of a component.
For more info see: https://github.com/konvajs/react-konva/issues/194
`,n_={};function Oc(t,e,n=n_){if(!Nm&&"zIndex"in e&&(console.warn(t_),Nm=!0),!Pm&&e.draggable){var r=e.x!==void 0||e.y!==void 0,l=e.onDragEnd||e.onDragMove;r&&!l&&(console.warn(e_),Pm=!0)}for(var o in n)if(!km[o]){var a=o.slice(0,2)==="on",c=n[o]!==e[o];if(a&&c){var d=o.substr(2).toLowerCase();d.substr(0,7)==="content"&&(d="content"+d.substr(7,1).toUpperCase()+d.substr(8)),t.off(d,n[o])}var g=!e.hasOwnProperty(o);g&&t.setAttr(o,void 0)}var x=e._useStrictMode,k={},w=!1;const N={};for(var o in e)if(!km[o]){var a=o.slice(0,2)==="on",S=n[o]!==e[o];if(a&&S){var d=o.substr(2).toLowerCase();d.substr(0,7)==="content"&&(d="content"+d.substr(7,1).toUpperCase()+d.substr(8)),e[o]&&(N[d]=e[o])}!a&&(e[o]!==n[o]||x&&e[o]!==t.getAttr(o))&&(w=!0,k[o]=e[o])}w&&(t.setAttrs(k),gi(t));for(var d in N)t.on(d+$0,N[d])}function gi(t){if(!pe.Konva.autoDrawEnabled){var e=t.getLayer()||t.getStage();e&&e.batchDraw()}}const j4={},r_={};fo.Node.prototype._applyProps=Oc;function i_(t,e){if(typeof e=="string"){console.error(`Do not use plain text as child of Konva.Node. You are using text: ${e}`);return}t.add(e),gi(t)}function s_(t,e,n){let r=fo[t];r||(console.error(`Konva has no node with the type ${t}. Group will be used instead. If you use minimal version of react-konva, just import required nodes into Konva: "import "konva/lib/shapes/${t}"  If you want to render DOM elements as part of canvas tree take a look into this demo: https://konvajs.github.io/docs/react/DOM_Portal.html`),r=fo.Group);const l={},o={};for(var a in e){var c=a.slice(0,2)==="on";c?o[a]=e[a]:l[a]=e[a]}const d=new r(l);return Oc(d,o),d}function l_(t,e,n){console.error(`Text components are not supported for now in ReactKonva. Your text is: "${t}"`)}function o_(t,e,n){return!1}function a_(t){return t}function u_(){return null}function c_(){return null}function d_(t,e,n,r){return r_}function h_(){}function f_(t){}function p_(t,e){return!1}function g_(){return j4}function m_(){return j4}const v_=setTimeout,y_=clearTimeout,x_=-1;function __(t,e){return!1}const S_=!1,w_=!0,C_=!0;function k_(t,e){e.parent===t?e.moveToTop():t.add(e),gi(t)}function N_(t,e){e.parent===t?e.moveToTop():t.add(e),gi(t)}function R4(t,e,n){e._remove(),t.add(e),e.setZIndex(n.getZIndex()),gi(t)}function P_(t,e,n){R4(t,e,n)}function E_(t,e){e.destroy(),e.off($0),gi(t)}function T_(t,e){e.destroy(),e.off($0),gi(t)}function j_(t,e,n){console.error(`Text components are not yet supported in ReactKonva. You text is: "${n}"`)}function R_(t,e,n){}function M_(t,e,n,r,l){Oc(t,l,r)}function F_(t){t.hide(),gi(t)}function L_(t){}function A_(t,e){(e.visible==null||e.visible)&&t.show()}function O_(t,e){}function b_(t){}function I_(){}const D_=()=>T4.DefaultEventPriority,z_=Object.freeze(Object.defineProperty({__proto__:null,appendChild:k_,appendChildToContainer:N_,appendInitialChild:i_,cancelTimeout:y_,clearContainer:b_,commitMount:R_,commitTextUpdate:j_,commitUpdate:M_,createInstance:s_,createTextInstance:l_,detachDeletedInstance:I_,finalizeInitialChildren:o_,getChildHostContext:m_,getCurrentEventPriority:D_,getPublicInstance:a_,getRootHostContext:g_,hideInstance:F_,hideTextInstance:L_,idlePriority:Il.unstable_IdlePriority,insertBefore:R4,insertInContainerBefore:P_,isPrimaryRenderer:S_,noTimeout:x_,now:Il.unstable_now,prepareForCommit:u_,preparePortalMount:c_,prepareUpdate:d_,removeChild:E_,removeChildFromContainer:T_,resetAfterCommit:h_,resetTextContent:f_,run:Il.unstable_runWithPriority,scheduleTimeout:v_,shouldDeprioritizeSubtree:p_,shouldSetTextContent:__,supportsMutation:C_,unhideInstance:A_,unhideTextInstance:O_,warnsIfNotActing:w_},Symbol.toStringTag,{value:"Module"}));var U_=Object.defineProperty,G_=Object.defineProperties,B_=Object.getOwnPropertyDescriptors,Em=Object.getOwnPropertySymbols,V_=Object.prototype.hasOwnProperty,H_=Object.prototype.propertyIsEnumerable,Tm=(t,e,n)=>e in t?U_(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,jm=(t,e)=>{for(var n in e||(e={}))V_.call(e,n)&&Tm(t,n,e[n]);if(Em)for(var n of Em(e))H_.call(e,n)&&Tm(t,n,e[n]);return t},W_=(t,e)=>G_(t,B_(e)),Rm,Mm;typeof window<"u"&&((Rm=window.document)!=null&&Rm.createElement||((Mm=window.navigator)==null?void 0:Mm.product)==="ReactNative")?te.useLayoutEffect:te.useEffect;function M4(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const l=M4(r,e,n);if(l)return l;r=r.sibling}}function F4(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const Fm=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=Fm;return}return Fm.apply(this,arguments)};const Y0=F4(te.createContext(null));class L4 extends te.Component{render(){return te.createElement(Y0.Provider,{value:this._reactInternals},this.props.children)}}function K_(){const t=te.useContext(Y0);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=te.useId();return te.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const l=M4(r,!1,o=>{let a=o.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(l)return l}},[t,e])}function $_(){const t=K_(),[e]=te.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const l=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;l&&l!==Y0&&!e.has(l)&&e.set(l,te.useContext(F4(l)))}n=n.return}return e}function Y_(){const t=$_();return te.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>te.createElement(e,null,te.createElement(n.Provider,W_(jm({},r),{value:t.get(n)}))),e=>te.createElement(L4,jm({},e))),[t])}function Q_(t){const e=Nt.useRef({});return Nt.useLayoutEffect(()=>{e.current=t}),Nt.useLayoutEffect(()=>()=>{e.current={}},[]),e.current}const X_=t=>{const e=Nt.useRef(null),n=Nt.useRef(null),r=Nt.useRef(null),l=Q_(t),o=Y_(),a=c=>{const{forwardedRef:d}=t;d&&(typeof d=="function"?d(c):d.current=c)};return Nt.useLayoutEffect(()=>(n.current=new fo.Stage({width:t.width,height:t.height,container:e.current}),a(n.current),r.current=bl.createContainer(n.current,T4.LegacyRoot,!1,null),bl.updateContainer(Nt.createElement(o,{},t.children),r.current),()=>{fo.isBrowser&&(a(null),bl.updateContainer(null,r.current,null),n.current.destroy())}),[]),Nt.useLayoutEffect(()=>{a(n.current),Oc(n.current,t,l),bl.updateContainer(Nt.createElement(o,{},t.children),r.current,null)}),Nt.createElement("div",{ref:e,id:t.id,accessKey:t.accessKey,className:t.className,role:t.role,style:t.style,tabIndex:t.tabIndex,title:t.title})},q_="Layer",J_="Rect",Lm="Text",bl=Z7(z_);bl.injectIntoDevTools({findHostInstanceByFiber:()=>null,bundleType:0,version:Nt.version,rendererPackageName:"react-konva"});const Z_=Nt.forwardRef((t,e)=>Nt.createElement(L4,{},Nt.createElement(X_,{...t,forwardedRef:e}))),eS=({beds:t,setBeds:e,designName:n,orientation:r})=>{const[l,o]=te.useState(null),[a,c]=te.useState([]),[d,g]=te.useState(!1),x=te.useRef(null);te.useEffect(()=>{const m=localStorage.getItem("myGardenBeds");if(m)try{c(JSON.parse(m))}catch(P){console.error("Kunde inte ladda sparade bäddar:",P)}},[]);const k=r==="landscape"?1100:800,w=r==="landscape"?800:1100,N=m=>{const P={id:Date.now(),name:m.name,x:50,y:50,width:200,height:100,savedBedId:m.id};e([...t,P]),o(P.id),g(!1)},S=(m,P,R)=>{e(F=>F.map(M=>M.id===m?{...M,x:P,y:R}:M))},E=()=>{if(!l){alert("Välj en bädd först");return}confirm("Är du säker på att du vill ta bort denna bädd?")&&(e(t.filter(m=>m.id!==l)),o(null))},T=()=>{if(!l){alert("Välj en bädd först");return}const m=t.find(R=>R.id===l);if(!m)return;const P=prompt("Nytt namn:",m.name);!P||!P.trim()||e(R=>R.map(F=>F.id===l?{...F,name:P.trim()}:F))},_=()=>{if(!l){alert("Välj en bädd först");return}const m=t.find(I=>I.id===l);if(!m)return;const P=prompt("Bredd (px):",m.width),R=prompt("Höjd (px):",m.height);if(!P||!R)return;const F=parseInt(P),M=parseInt(R);if(isNaN(F)||isNaN(M)||F<=0||M<=0){alert("Ogiltiga värden");return}e(I=>I.map(L=>L.id===l?{...L,width:F,height:M}:L))},C=()=>{const m=x.current.toDataURL(),P=document.createElement("a");P.download=`tradgard-${n}-${new Date().toISOString().split("T")[0]}.png`,P.href=m,P.click()},p=t.find(m=>m.id===l);return y.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6",children:[y.jsxs("div",{className:"mb-4 flex flex-wrap gap-2 items-center",children:[y.jsx("button",{onClick:()=>g(!d),className:"px-4 py-2 bg-plant-500 text-white rounded-lg hover:bg-plant-600 transition-colors font-semibold",children:d?"− Stäng väljare":"📋 Lägg till bädd från mina bäddar"}),l&&y.jsxs(y.Fragment,{children:[y.jsx("button",{onClick:T,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors font-semibold",children:"✏️ Ändra namn"}),y.jsx("button",{onClick:_,className:"px-4 py-2 bg-yellow-600 text-white rounded-lg hover:bg-yellow-700 transition-colors font-semibold",children:"📏 Ändra storlek"}),y.jsx("button",{onClick:E,className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors font-semibold",children:"🗑 Ta bort vald"})]}),y.jsx("button",{onClick:C,className:"px-4 py-2 bg-earth-500 text-white rounded-lg hover:bg-earth-600 transition-colors font-semibold",children:"📤 Exportera som PNG"}),y.jsxs("span",{className:"ml-auto text-earth-600 font-semibold",children:["Totalt: ",t.length," bäddar"]})]}),p&&y.jsxs("div",{className:"mb-4 p-4 bg-plant-50 border-2 border-plant-300 rounded-lg",children:[y.jsxs("h3",{className:"font-bold text-plant-800 mb-2",children:["Vald bädd: ",p.name]}),y.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm text-earth-700",children:[y.jsxs("div",{children:[y.jsx("span",{className:"font-semibold",children:"X:"})," ",Math.round(p.x)," px"]}),y.jsxs("div",{children:[y.jsx("span",{className:"font-semibold",children:"Y:"})," ",Math.round(p.y)," px"]}),y.jsxs("div",{children:[y.jsx("span",{className:"font-semibold",children:"Bredd:"})," ",p.width," px"]}),y.jsxs("div",{children:[y.jsx("span",{className:"font-semibold",children:"Höjd:"})," ",p.height," px"]})]})]}),d&&y.jsx("div",{className:"mb-4 p-4 bg-plant-50 border-2 border-plant-300 rounded-lg",children:a.length===0?y.jsxs("div",{className:"text-center py-8",children:[y.jsx("div",{className:"text-4xl mb-3",children:"🌱"}),y.jsx("p",{className:"text-earth-700 font-semibold mb-2",children:"Inga odlingsbäddar skapade ännu"}),y.jsx("p",{className:"text-earth-600 text-sm",children:'Gå till fliken "🌿 Mina bäddar" för att skapa dina odlingsbäddar först'})]}):y.jsxs(y.Fragment,{children:[y.jsx("h3",{className:"font-semibold text-earth-800 mb-3",children:"Välj från dina sparade bäddar:"}),y.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-2",children:a.map(m=>y.jsxs("button",{onClick:()=>N(m),className:"p-3 border-2 border-earth-200 rounded-lg hover:border-plant-400 hover:bg-white transition-colors text-left",children:[y.jsx("div",{className:"font-semibold text-earth-800 text-sm",children:m.name}),m.description&&y.jsxs("div",{className:"text-xs text-earth-500 mt-1",children:[m.description.substring(0,30),"..."]})]},m.id))})]})}),y.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm text-blue-800",children:[y.jsx("span",{className:"font-semibold",children:"💡 Tips:"})," Klicka på en bädd för att välja den, dra för att flytta. Dubbelklicka för att redigera namn."]}),y.jsx("div",{className:"flex justify-center overflow-auto bg-earth-50 p-8 rounded-lg",children:y.jsx("div",{className:"shadow-2xl",children:y.jsx(Z_,{ref:x,width:k,height:w,className:"bg-white",style:{border:"2px solid #d6d3d1",borderRadius:"4px"},children:y.jsx(q_,{children:t.map(m=>y.jsxs(Nt.Fragment,{children:[y.jsx(J_,{x:m.x,y:m.y,width:m.width,height:m.height,fill:"#d8f3dc",stroke:l===m.id?"#1b4332":"#2d6a4f",strokeWidth:l===m.id?4:2,draggable:!0,shadowBlur:l===m.id?10:5,shadowColor:"rgba(0,0,0,0.3)",onClick:()=>o(m.id),onTap:()=>o(m.id),onDblClick:T,onDblTap:T,onDragEnd:P=>S(m.id,P.target.x(),P.target.y())}),y.jsx(Lm,{x:m.x+8,y:m.y+8,text:m.name,fontSize:16,fontStyle:"bold",fill:"#1b4332",listening:!1}),l===m.id&&y.jsx(Lm,{x:m.x+8,y:m.y+m.height-24,text:`${m.width} × ${m.height} px`,fontSize:12,fill:"#52796f",listening:!1})]},m.id))})})})}),t.length>0&&y.jsxs("div",{className:"mt-6",children:[y.jsx("h3",{className:"text-lg font-bold text-earth-800 mb-3",children:"Dina odlingsbäddar"}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:t.map(m=>y.jsxs("div",{onClick:()=>o(m.id),className:`p-3 border-2 rounded-lg cursor-pointer transition-all ${l===m.id?"border-plant-500 bg-plant-50":"border-earth-200 hover:border-plant-300"}`,children:[y.jsx("div",{className:"font-semibold text-earth-800",children:m.name}),y.jsxs("div",{className:"text-xs text-earth-600 mt-1",children:["Position: (",Math.round(m.x),", ",Math.round(m.y),") • Storlek: ",m.width,"×",m.height]})]},m.id))})]}),t.length===0&&y.jsxs("div",{className:"mt-6 p-12 text-center bg-earth-50 rounded-lg",children:[y.jsx("div",{className:"text-6xl mb-4",children:"🌱"}),y.jsx("h3",{className:"text-xl font-bold text-earth-800 mb-2",children:"Inga odlingsbäddar ännu"}),y.jsx("p",{className:"text-earth-600",children:'Klicka på "➕ Lägg till bädd" för att komma igång!'})]})]})},tS=()=>{var d;const[t,e]=te.useState({}),[n,r]=te.useState(null),[l,o]=te.useState(!1);te.useEffect(()=>{const g=localStorage.getItem("gardenDesigns");if(g)try{const x=JSON.parse(g);e(x.designs||{}),r(x.activeDesign||null)}catch(x){console.error("Kunde inte ladda designs:",x)}o(!0)},[]),te.useEffect(()=>{l&&localStorage.setItem("gardenDesigns",JSON.stringify({designs:t,activeDesign:n}))},[t,n,l]);const a=g=>{n&&e(x=>{var N;const k=((N=x[n])==null?void 0:N.beds)||[],w=typeof g=="function"?g(k):g;return{...x,[n]:{...x[n],beds:w,updatedAt:new Date().toISOString()}}})},c=n&&t[n]?t[n].beds||[]:[];return y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[y.jsxs("div",{className:"mb-6",children:[y.jsxs("h1",{className:"text-4xl font-bold text-earth-800 mb-2 flex items-center gap-3",children:[y.jsx("span",{children:"🪴"}),"Trädgårdsdesigner"]}),y.jsx("p",{className:"text-earth-600",children:"Skapa och hantera olika trädgårdsdesigner med odlingsbäddar"})]}),y.jsx(Y6,{designs:t,setDesigns:e,activeDesign:n,setActiveDesign:r}),n?y.jsx(eS,{beds:c,setBeds:a,designName:n,orientation:((d=t[n])==null?void 0:d.orientation)||"portrait"}):y.jsxs("div",{className:"bg-white rounded-xl shadow-md p-12 text-center",children:[y.jsx("div",{className:"text-6xl mb-4",children:"🌱"}),y.jsx("h2",{className:"text-2xl font-bold text-earth-800 mb-2",children:"Ingen design vald"}),y.jsx("p",{className:"text-earth-600",children:"Skapa en ny design för att komma igång med planeringen!"})]})]})},nS=({myPlants:t})=>{const[e,n]=te.useState("beds");return y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[y.jsxs("div",{className:"mb-6",children:[y.jsxs("h1",{className:"text-4xl font-bold text-earth-800 mb-2 flex items-center gap-3",children:[y.jsx("span",{children:"🏡"}),"Trädgårdsplanering"]}),y.jsx("p",{className:"text-earth-600",children:"Hantera dina odlingsbäddar och skapa visuella trädgårdsdesigner"})]}),y.jsx("div",{className:"bg-white rounded-t-xl shadow-md border-b-2 border-earth-200",children:y.jsxs("div",{className:"grid grid-cols-3 gap-1 p-2",children:[y.jsx("button",{onClick:()=>n("beds"),className:`px-4 py-3 rounded-lg font-semibold transition-all ${e==="beds"?"bg-plant-500 text-white shadow-md":"text-earth-600 hover:bg-earth-100"}`,children:"🌿 Mina bäddar"}),y.jsx("button",{onClick:()=>n("plans"),className:`px-4 py-3 rounded-lg font-semibold transition-all ${e==="plans"?"bg-plant-500 text-white shadow-md":"text-earth-600 hover:bg-earth-100"}`,children:"📋 Årsplaner"}),y.jsx("button",{onClick:()=>n("designs"),className:`px-4 py-3 rounded-lg font-semibold transition-all ${e==="designs"?"bg-plant-500 text-white shadow-md":"text-earth-600 hover:bg-earth-100"}`,children:"🪴 Visuella designer"})]})}),y.jsx("div",{className:"mt-6",children:e==="beds"?y.jsx(K6,{}):e==="plans"?y.jsx($6,{myPlants:t}):y.jsx(tS,{})})]})},rS=["J","F","M","A","M","J","J","A","S","O","N","D"],iS=({plants:t,myPlants:e,onTogglePlant:n})=>{const[r,l]=te.useState(""),[o,a]=te.useState(""),[c,d]=te.useState(!1),[g,x]=te.useState(null),[k,w]=te.useState("name"),N=({plant:_})=>y.jsx("div",{className:"flex gap-0.5",children:rS.map((C,p)=>{var I,L,G;const m=p+1,P=(I=_.seedling_months)==null?void 0:I.includes(m),R=(L=_.sowing_months)==null?void 0:L.includes(m),F=(G=_.harvest_months)==null?void 0:G.includes(m);let M="bg-gray-100";return P&&R&&F?M="bg-gradient-to-b from-blue-400 via-green-400 to-yellow-400":P&&F?M="bg-gradient-to-b from-blue-400 to-yellow-400":R&&F?M="bg-gradient-to-b from-green-400 to-yellow-400":P?M="bg-blue-400":R?M="bg-green-400":F&&(M="bg-yellow-400"),y.jsx("div",{className:`w-3 h-6 ${M} rounded-sm`,title:`${C}`},p)})}),S=[...new Set(t.map(_=>_.category))].sort(),T=[...t.filter(_=>{var P,R;const C=_.name.toLowerCase().includes(r.toLowerCase())||((P=_.latin_name)==null?void 0:P.toLowerCase().includes(r.toLowerCase()))||((R=_.category)==null?void 0:R.toLowerCase().includes(r.toLowerCase())),p=!o||_.category===o,m=!c||e.includes(_.name);return C&&p&&m})].sort((_,C)=>k==="name"?_.name.localeCompare(C.name):k==="category"?(_.category||"").localeCompare(C.category||""):k==="price"?(_.price_numeric||0)-(C.price_numeric||0):0);return g&&t.find(_=>_.name===g),y.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[y.jsxs("div",{className:"mb-6",children:[y.jsxs("h1",{className:"text-4xl font-bold text-earth-800 mb-2 flex items-center gap-3",children:[y.jsx("span",{children:"🌱"}),"Fröbank"]}),y.jsxs("p",{className:"text-earth-600",children:["Utforska ",t.length," växter och bygg din önskelista"]})]}),y.jsxs("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[y.jsxs("div",{className:"lg:col-span-2",children:[y.jsx("label",{className:"block text-sm font-semibold text-earth-700 mb-2",children:"Sök växt"}),y.jsx("input",{type:"text",value:r,onChange:_=>l(_.target.value),placeholder:"Namn, latinsk namn, kategori...",className:"w-full px-4 py-2 border-2 border-earth-200 rounded-lg focus:outline-none focus:border-plant-400"})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-earth-700 mb-2",children:"Kategori"}),y.jsxs("select",{value:o,onChange:_=>a(_.target.value),className:"w-full px-4 py-2 border-2 border-earth-200 rounded-lg focus:outline-none focus:border-plant-400 bg-white",children:[y.jsx("option",{value:"",children:"Alla"}),S.map(_=>y.jsx("option",{value:_,children:_||"Övrigt"},_))]})]}),y.jsxs("div",{children:[y.jsx("label",{className:"block text-sm font-semibold text-earth-700 mb-2",children:"Sortera"}),y.jsxs("select",{value:k,onChange:_=>w(_.target.value),className:"w-full px-4 py-2 border-2 border-earth-200 rounded-lg focus:outline-none focus:border-plant-400 bg-white",children:[y.jsx("option",{value:"name",children:"Namn"}),y.jsx("option",{value:"category",children:"Kategori"}),y.jsx("option",{value:"price",children:"Pris"})]})]})]}),y.jsxs("div",{className:"mt-4 pt-4 border-t border-earth-200",children:[y.jsx("button",{onClick:()=>d(!c),className:`px-6 py-2 rounded-lg font-semibold transition-all ${c?"bg-plant-500 text-white shadow-lg":"bg-earth-200 text-earth-700 hover:bg-earth-300"}`,children:c?`✓ Mina växter (${e.length})`:`Alla växter (${t.length})`}),y.jsxs("span",{className:"ml-4 text-sm text-earth-600",children:["Visar ",T.length," växter"]})]})]}),y.jsx("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:T.length===0?y.jsxs("div",{className:"p-12 text-center",children:[y.jsx("div",{className:"text-6xl mb-4",children:"🔍"}),y.jsx("p",{className:"text-earth-600",children:"Inga växter hittades"})]}):y.jsx("div",{className:"divide-y divide-earth-200",children:T.map(_=>{const C=e.includes(_.name),p=g===_.name;return y.jsxs("div",{children:[y.jsx("div",{onClick:()=>x(p?null:_.name),className:`p-4 cursor-pointer transition-colors ${p?"bg-plant-50":"hover:bg-earth-50"}`,children:y.jsxs("div",{className:"flex items-start gap-3",children:[y.jsx("button",{onClick:m=>{m.stopPropagation(),n(_.name)},className:`flex-shrink-0 w-6 h-6 rounded border-2 flex items-center justify-center transition-all ${C?"bg-plant-500 border-plant-500 text-white":"border-earth-300 hover:border-plant-400"}`,children:C&&"✓"}),y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsxs("div",{className:"flex items-start justify-between gap-3",children:[y.jsxs("div",{className:"flex-1 min-w-0",children:[y.jsx("div",{className:"font-semibold text-earth-800",children:_.name}),_.latin_name&&y.jsx("div",{className:"text-xs text-earth-500 italic",children:_.latin_name})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx(N,{plant:_}),y.jsx("span",{className:"text-earth-400",children:p?"▼":"▶"})]})]}),y.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[y.jsx("span",{className:"text-xs bg-plant-100 text-plant-700 px-2 py-1 rounded",children:_.category||"Övrigt"}),_.price&&y.jsx("span",{className:"text-xs bg-earth-100 text-earth-700 px-2 py-1 rounded",children:_.price})]})]})]})}),p&&y.jsx("div",{className:"bg-earth-50 border-t border-earth-200",children:y.jsx("div",{className:"p-6",children:y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[_.image_url&&y.jsx("div",{className:"md:col-span-1",children:y.jsx("div",{className:"h-48 overflow-hidden bg-earth-100 rounded-lg",children:y.jsx("img",{src:_.image_url,alt:_.name,className:"w-full h-full object-cover",onError:m=>{m.target.style.display="none"}})})}),y.jsxs("div",{className:_.image_url?"md:col-span-2":"md:col-span-3",children:[_.description&&y.jsxs("div",{className:"mb-4",children:[y.jsx("h3",{className:"text-sm font-semibold text-earth-700 mb-2",children:"Beskrivning"}),y.jsx("p",{className:"text-sm text-earth-600 leading-relaxed",children:_.description})]}),y.jsxs("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2 text-sm mb-4",children:[_.height_cm&&y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-earth-600",children:"Höjd:"}),y.jsx("span",{className:"font-semibold text-earth-800",children:_.height_cm})]}),_.color&&y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-earth-600",children:"Färg:"}),y.jsx("span",{className:"font-semibold text-earth-800",children:_.color})]}),_.position&&y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-earth-600",children:"Läge:"}),y.jsx("span",{className:"font-semibold text-earth-800",children:_.position})]}),_.sowing_time&&y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-earth-600",children:"Såtid:"}),y.jsx("span",{className:"font-semibold text-earth-800",children:_.sowing_time})]}),_.harvest_time&&y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-earth-600",children:"Skördas:"}),y.jsx("span",{className:"font-semibold text-earth-800",children:_.harvest_time})]}),_.bloom_time&&y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-earth-600",children:"Blommar:"}),y.jsx("span",{className:"font-semibold text-earth-800",children:_.bloom_time})]}),_.germination_time&&y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-earth-600",children:"Grodd:"}),y.jsx("span",{className:"font-semibold text-earth-800",children:_.germination_time})]}),_.quantity&&y.jsxs("div",{className:"flex justify-between",children:[y.jsx("span",{className:"text-earth-600",children:"Antal:"}),y.jsx("span",{className:"font-semibold text-earth-800",children:_.quantity})]})]}),y.jsxs("div",{className:"flex gap-2",children:[y.jsx("button",{onClick:m=>{m.stopPropagation(),n(_.name)},className:`flex-1 px-4 py-2 rounded-lg font-semibold transition-all ${C?"bg-red-500 text-white hover:bg-red-600":"bg-plant-500 text-white hover:bg-plant-600"}`,children:C?"− Ta bort från min lista":"+ Lägg till i min lista"}),_.product_url&&y.jsx("a",{href:_.product_url,target:"_blank",rel:"noopener noreferrer",onClick:m=>m.stopPropagation(),className:"px-4 py-2 border-2 border-plant-500 text-plant-700 rounded-lg hover:bg-plant-50 transition-colors font-semibold",children:"🔗 Produkt"})]})]})]})})})]},_.name)})})})]})};function sS(){const[t,e]=te.useState("seedbank"),[n,r]=te.useState([]),[l,o]=te.useState([]),[a,c]=te.useState(!1),[d,g]=te.useState({}),[x,k]=te.useState("all"),[w,N]=te.useState(""),[S,E]=te.useState(!0),[T,_]=te.useState(""),[C,p]=te.useState(!0),[m,P]=te.useState(null);te.useEffect(()=>{fetch("/odla/fron_data.json").then(U=>{if(!U.ok)throw new Error("Kunde inte ladda växtdata");return U.json()}).then(U=>{const H=U.map(X=>({...X,seedling_months:X.sowing_months||[],sowing_months:X.direct_sow_months||[],harvest_months:X.harvest_months||X.bloom_months||[],category:X.category||"Övrigt"}));r(H),p(!1)}).catch(U=>{P(U.message),p(!1)})},[]),te.useEffect(()=>{const U=localStorage.getItem("myPlants");if(U)try{o(JSON.parse(U))}catch(H){console.error("Kunde inte läsa sparade växter:",H)}c(!0)},[]),te.useEffect(()=>{a&&localStorage.setItem("myPlants",JSON.stringify(l))},[l,a]),te.useEffect(()=>{const U=()=>{const X=localStorage.getItem("yearPlans");if(X)try{const $=JSON.parse(X);g($.plans||{})}catch($){console.error("Kunde inte läsa årsplaner:",$)}};U();const H=X=>{(X.key==="yearPlans"||X.type==="yearPlans-updated")&&U()};return window.addEventListener("storage",H),window.addEventListener("yearPlans-updated",H),()=>{window.removeEventListener("storage",H),window.removeEventListener("yearPlans-updated",H)}},[]);const R=()=>x==="all"||!d[x]?{}:d[x].plantDates||{},F=(U,H)=>{x!=="all"&&g(X=>{const $={...X};return $[x]?($[x]={...$[x],plantDates:{...$[x].plantDates||{},[U]:H},updatedAt:new Date().toISOString()},localStorage.setItem("yearPlans",JSON.stringify({plans:$,activePlan:x})),$):X})},M=U=>{o(H=>H.includes(U)?H.filter(X=>X!==U):[...H,U])},I=[...new Set(n.map(U=>U.category))].sort(),L=U=>{const H=d[U];if(!H||!H.bedPlants)return[];const X=new Set;return Object.values(H.bedPlants).forEach($=>{Array.isArray($)&&$.forEach(ge=>X.add(ge))}),Array.from(X)},G=n.filter(U=>{const H=U.name.toLowerCase().includes(w.toLowerCase())||U.category.toLowerCase().includes(w.toLowerCase()),X=!T||U.category===T;let $=!0;return x!=="all"?$=L(x).includes(U.name):$=!S||l.includes(U.name),H&&X&&$});return C?y.jsx("div",{className:"min-h-screen bg-earth-50 flex items-center justify-center",children:y.jsxs("div",{className:"text-center",children:[y.jsx("div",{className:"text-6xl mb-4 animate-pulse",children:"🌱"}),y.jsx("div",{className:"text-xl text-earth-600",children:"Laddar odlingskalender..."})]})}):m?y.jsx("div",{className:"min-h-screen bg-earth-50 flex items-center justify-center",children:y.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 max-w-md text-center",children:[y.jsx("div",{className:"text-6xl mb-4",children:"⚠️"}),y.jsx("h2",{className:"text-2xl font-bold text-earth-800 mb-2",children:"Ett fel uppstod"}),y.jsx("p",{className:"text-earth-600",children:m})]})}):y.jsxs("div",{className:"min-h-screen bg-earth-50",children:[y.jsx(z6,{}),y.jsx("div",{className:"bg-white border-b border-earth-200 shadow-sm sticky top-0 z-40",children:y.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:y.jsxs("div",{className:"flex gap-2 overflow-x-auto",children:[y.jsx("button",{onClick:()=>e("seedbank"),className:`px-6 py-4 font-semibold transition-all border-b-4 whitespace-nowrap ${t==="seedbank"?"border-plant-500 text-plant-700 bg-plant-50":"border-transparent text-earth-600 hover:text-plant-600 hover:bg-earth-50"}`,children:"🌱 Fröbank"}),y.jsx("button",{onClick:()=>e("calendar"),className:`px-6 py-4 font-semibold transition-all border-b-4 whitespace-nowrap ${t==="calendar"?"border-plant-500 text-plant-700 bg-plant-50":"border-transparent text-earth-600 hover:text-plant-600 hover:bg-earth-50"}`,children:"📅 Odlingskalender"}),y.jsx("button",{onClick:()=>e("planning"),className:`px-6 py-4 font-semibold transition-all border-b-4 whitespace-nowrap ${t==="planning"?"border-plant-500 text-plant-700 bg-plant-50":"border-transparent text-earth-600 hover:text-plant-600 hover:bg-earth-50"}`,children:"🏡 Trädgårdsplanering"})]})})}),t==="seedbank"?y.jsx(iS,{plants:n,myPlants:l,onTogglePlant:M}):t==="calendar"?y.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[y.jsx(U6,{searchTerm:w,onSearchChange:N,showOnlyMyPlants:S,onToggleMyPlants:()=>E(!S),categories:I,selectedCategory:T,onCategoryChange:_,yearPlans:d,selectedYearPlan:x,onYearPlanChange:k}),y.jsx("div",{className:"mb-8",children:y.jsx(V6,{plants:G,myPlants:l,onTogglePlant:M,selectedYearPlan:x,plantDates:R(),onDateChange:F})}),y.jsx(W6,{plants:n,myPlants:l,onTogglePlant:M})]}):y.jsx(nS,{myPlants:l}),y.jsx("footer",{className:"bg-white border-t border-earth-200 mt-16 py-6",children:y.jsx("div",{className:"max-w-7xl mx-auto px-4 text-center text-earth-600 text-sm",children:y.jsx("p",{children:"🌱 Knopp - Allt börjar med en knopp."})})})]})}Lh.createRoot(document.getElementById("root")).render(y.jsx(Nt.StrictMode,{children:y.jsx(sS,{})}));
